openapi: 3.0.0
info:
  title: opsramp-alerts
  version: 2.0.0
  description: Alerts API Documentation
  contact:
    name: OpsRamp Support
    email: support@opsramp.com
    url: 'https://www.opsramp.com/about-opsramp/contact-us/'
tags:
  - name: alerts
    description: Example description.
    externalDocs:
      url: 'https://docs.opsramp.com/api/alerts/'
servers:
  - url: 'https://api.opsramp.com'
    description: Partner - All Others
  - url: 'https://{subdomain}.api.opsramp.com'
    description: Partner or Client custom branded sub-domain
    variables:
      subdomain:
        default: demo
        description: Custom sub-domain assigned to the client
paths:
  /api/v2/tenants/internal:
    x-internal: true
    summary: Demonstrate internal tagging for endpoints.
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. In consectetur facilisis nulla, a mollis enim euismod eu. Morbi pharetra ante sit amet magna semper, ut faucibus est sagittis. Phasellus consequat cursus nunc, ut scelerisque diam pulvinar in. Nam ac leo et enim vehicula rutrum a eget augue.'
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
  '/api/v2/tenants/{tenantId}/policies/alertCorrelation/{policyId}/{action}':
    summary: Manage alert correlation policy
    description: 'Enables, disables, and creates an observed mode on an alert correlation policy.'
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - schema:
          type: string
          enum:
            - enable
            - disable
            - observed
        name: action
        in: path
        required: true
      - $ref: '#/components/parameters/tenantId'
      - schema:
          type: string
        name: policyId
        in: path
        required: true
  '/api/v2/tenants/{tenantId}/rosters/search':
    summary: Get organization rosters
    description: |
      Gets the rosters in an organization.

      ## Special Characters
      There are special characters that can be used in a query string:
      - (+) represents the next field and must be URL-encoded.
      - (:) represents equals. An example is `key : value`.
      - Space characters must be URL-encoded.
      - Date format must be yyyy-MM-ddTHH:mm:ssZ (GMT).

      ## Differentiate Rosters
      To differentiate between partner-level and client-level rosters:
      - Client level roster: If `client` and client details are provided.
      - Partner-level roster: If `allClients: true` is provided.
    get:
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        createdTime:
                          type: string
                          format: date-time
                        updatedTime:
                          type: string
                          format: date-time
                        timeZone:
                          type: object
                          properties:
                            id:
                              type: string
                            name:
                              type: string
                            label:
                              type: string
                            code:
                              type: string
                        client:
                          type: object
                          properties:
                            uniqueId:
                              type: string
                            name:
                              type: string
                            activated:
                              type: boolean
                        allClients:
                          type: boolean
                  totalResults:
                    type: integer
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - id: ES-1f43a99c-469e-a62a-b452-aacf6ad81e3b
                        name: Network Issues Support
                        description: Network Issues Support - Asia Region
                        createdTime: '2017-02-09T11:59:25+0000'
                        updatedTime: '2017-03-08T07:25:02+0000'
                        timeZone:
                          id: '19'
                          name: Asia/Calcutta
                          label: 'GMT +05:30 India'
                          code: IST
                        client:
                          uniqueId: client_7
                          name: Test  Client
                          activated: true
                      - id: ES-d89ca222-1ee8-50ef-e40a-ba89fb23586b
                        name: Implementation Support
                        description: Implementation Support - Level 1
                        createdTime: '2017-03-14T11:42:04+0000'
                        updatedTime: '2017-06-28T11:33:49+0000'
                        timeZone:
                          id: '19'
                          name: Asia/Calcutta
                          label: 'GMT +05:30 India'
                          code: IST
                        allClients: true
                      - id: ES-157ce85f-2f91-94e9-dc2d-ec4591ef2ed5
                        name: Alerts Support
                        description: Alerts Support - Level 1
                        createdTime: '2017-05-04T10:12:23+0000'
                        updatedTime: '2017-06-28T11:33:49+0000'
                        timeZone:
                          id: '19'
                          name: Asia/Calcutta
                          label: 'GMT +05:30 India'
                          code: IST
                        client:
                          uniqueId: client_7
                          name: Test  Client
                          activated: true
                      - id: ES-9f0e489c-8c00-4dba-8a7e-9c81f710d0d3
                        name: Maintenance Team
                        description: Maintenance team to address Jobs and Patches issues
                        createdTime: '2017-06-16T07:08:35+0000'
                        updatedTime: '2017-06-27T13:07:19+0000'
                        timeZone:
                          id: '19'
                          name: Asia/Calcutta
                          label: 'GMT +05:30 India'
                          code: IST
                        allClients: true
                      - id: ES-b519563f-5b9f-4bcf-9a90-ce3cddf5c268
                        name: Network Management Team - Level 1
                        description: Network management team to address critical network issues.
                        createdTime: '2017-06-27T12:38:23+0000'
                        updatedTime: '2017-06-28T10:59:20+0000'
                        timeZone:
                          id: '19'
                          name: Asia/Calcutta
                          label: 'GMT +05:30 India'
                          code: IST
                        client:
                          uniqueId: client_7
                          name: Test  Client
                          activated: true
                    totalResults: 5
                    pageNo: 1
                    pageSize: 20
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
          description: '{pageNo}'
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
          description: '{pageSize}'
        - schema:
            type: boolean
            default: 'true'
          in: query
          name: isDescendingOrder
          description: '{true/false}'
        - schema:
            type: string
            default: id
          in: query
          name: sortName
          description: '{field}'
        - schema:
            type: string
          in: query
          name: queryString
          description: '{queryString}'
        - schema:
            type: string
          in: query
          name: name
          description: |
            The roster name (must be identical to match)
        - schema:
            type: boolean
            default: 'false'
          in: query
          name: allList
          description: |
            If true, get both partner and client level rosters and if false (the default), get partner level rosters.
      tags:
        - alerts
    parameters:
      - schema:
          type: string
        name: tenantId
        in: path
        required: true
  '/api/v2/tenants/{tenantId}/policies/alertCorrelation':
    summary: Create and get alert correlation policy
    description: Creates and gets alert correlation policies.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        enabled:
                          type: boolean
                        precedence:
                          type: integer
                        type:
                          type: string
                        machineLearning:
                          type: object
                          properties:
                            accuracy:
                              type: integer
                  totalResults:
                    type: integer
                  orderBy:
                    type: string
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
              examples:
                example-with-machine-learning:
                  value:
                    results:
                      - id: POLICY-AC-165c4ee5-8b31-4cba-b88e-f20e57ae8358
                        name: test_dependency_correlation_ap
                        enabled: false
                        precedence: 25
                        type: DEPENDENCY
                      - id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                        name: test_algorithm_correlation_ap
                        enabled: true
                        precedence: 29
                        type: ALGORITHM
                      - id: POLICY-AC-1556bcf6-7cc2-44ba-ba1f-8ca5a211bcb3
                        name: test_co-occurrence_correlation_ap
                        enabled: true
                        precedence: 30
                        type: CO_OCCURRENCE
                        machineLearning:
                          accuracy: 98
                    totalResults: 3
                    orderBy: precedence
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
                example-without-machine-learning:
                  value:
                    results:
                      - id: POLICY-AC-165c4ee5-8b31-4cba-b88e-f20e57ae8358
                        name: test_dependency_correlation_ap
                        enabled: false
                        precedence: 25
                        type: DEPENDENCY
                      - id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                        name: test_algorithm_correlation_ap
                        enabled: true
                        precedence: 29
                        type: ALGORITHM
                      - id: POLICY-AC-1556bcf6-7cc2-44ba-ba1f-8ca5a211bcb3
                        name: test_co-occurrence_correlation_ap
                        enabled: true
                        precedence: 30
                        type: CO_OCCURRENCE
                    totalResults: 3
                    orderBy: precedence
                    pageNo: 1
                    pageSize: 10
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
                example-partner:
                  value:
                    results:
                      - id: POLICY-AC-165c4ee5-8b31-4cba-b88e-f20e57ae8358
                        name: test_dependency_correlation_ap
                        enabled: false
                        precedence: 25
                        type: DEPENDENCY
                      - id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                        name: test_algorithm_correlation_ap
                        enabled: true
                        precedence: 29
                        type: ALGORITHM
                      - id: POLICY-AC-1556bcf6-7cc2-44ba-ba1f-8ca5a211bcb3
                        name: test_co-occurrence_correlation_ap
                        enabled: true
                        precedence: 30
                        type: CO_OCCURRENCE
                        machineLearning:
                          accuracy: 98
                    totalResults: 3
                    orderBy: precedence
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  enabled:
                    type: boolean
                  precedence:
                    type: integer
                  filterCriteria:
                    type: object
                    properties:
                      filterBased:
                        type: boolean
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            filterType:
                              type: string
                            entityName:
                              type: string
                            operator:
                              type: string
                            entityValue:
                              type: string
                  type:
                    type: string
                  algorithmCorrelation:
                    type: object
                    properties:
                      alertsTimeWindow:
                        type: integer
                      matchingConditions:
                        type: array
                        items:
                          type: object
                          properties:
                            property:
                              type: string
                            matchType:
                              type: string
                      primaryAlertSubject:
                        type: string
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  createdTime:
                    type: string
                  updatedTime:
                    type: string
              examples:
                create-w-algo-corr:
                  value:
                    id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                    name: Correlate alerts on parked VMwares
                    enabled: true
                    precedence: 29
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: Agent Status
                          operator: Equals
                          entityValue: Down
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: subject
                          matchType: Identical
                        - property: alert_metric
                          matchType: Nearly Identical
                      primaryAlertSubject: Agent down on parked VMwares
                    createdBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    createdTime: '2018-04-27T13:14:07+0000'
                    updatedTime: ''
                create-w-co_occ-corr:
                  value:
                    id: POLICY-AC-1556bcf6-7cc2-44ba-ba1f-8ca5a211bcb3
                    name: Server-SJ Alerts
                    enabled: true
                    precedence: 30
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: Logix
                        - filterType: customAttributes
                          entityName: agent-status
                          operator: Equals
                          entityValue: up
                    type: CO_OCCURRENCE
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: john.smith@myorganization.com
                    createdTime: '2018-08-27T13:14:07+0000'
                    updatedTime: ''
                create-w-ip-filter:
                  value:
                    id: POLICY-AC-e275116e-c457-47be-bd25-9eef3c1d7976
                    name: IP policy api demo
                    enabled: true
                    precedence: 88
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: ip_address
                          ipMatchingConditions:
                            ipAddressMatchType: Within Range
                            ipAddress: 192.168.5.130
                            netmask: 255.255.255.192
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: host_name
                          matchType: Identical
                      primaryAlertSubject: IP policy api demo
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: admin@opsramp.com
                    createdTime: '2018-12-28T10:42:42+0000'
                    updatedTime: ''
                create-client-scope-w-algo-all-org-match:
                  value:
                    id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                    name: test_algorithm_correlation_ap
                    clientsIncluded: ALL
                    enabled: true
                    precedence: 29
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: test_custom_attribute
                          operator: Not Contains
                          entityValue: a
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: subject
                          matchType: Identical
                        - property: alert_metric
                          matchType: Identical
                      primaryAlertSubject: subject-alertMetric policy
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: admin@opsramp.com
                    createdTime: '2017-11-27T13:14:07+0000'
                    updatedTime: ''
                create-client-scope-w-algo-incl-org-match:
                  value:
                    id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                    name: test_algorithm_correlation_ap
                    includedClients:
                      - client_8
                      - client_9
                    enabled: true
                    precedence: 29
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: test_custom_attribute
                          operator: Not Contains
                          entityValue: a
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: subject
                          matchType: Identical
                        - property: alert_metric
                          matchType: Identical
                      primaryAlertSubject: subject-alertMetric policy
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: admin@opsramp.com
                    createdTime: '2017-11-27T13:14:07+0000'
                    updatedTime: ''
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the alert correlation policy.
                filterCriteria:
                  type: object
                  description: (Optional) Filter for resources whose alerts will match this policy.
                  properties:
                    filterBased:
                      description: Determine if the alert correlation policy should consider the below filter rules.
                      type: boolean
                    matchingType:
                      description: Match ALL or ANY of the rules to filter for resources whose alerts will match this policy.
                      enum:
                        - ALL
                        - ANY
                      type: string
                    rules:
                      type: array
                      description: '(Mandatory if "filterBase": "true") Filter resources with the rules that follow.'
                      items:
                        type: object
                        properties:
                          filterType:
                            type: string
                            description: |-
                              "nativeAttributes": Filter for resources on the basis of predefined attributes.

                              "customAttributes": Filter for resources using custom attributes of device and client.
                            enum:
                              - nativeAttributes
                              - customAttributes
                          entityName:
                            type: string
                            description: |-
                              Native or custom attribute name. For example, to filter for resources with host_name "VG-Host", use the following:

                              "filterType":"nativeAttributes",
                              "entityName":"host_name",
                              "operator":"CONTAINS",
                              "entityValue":"VG-Host"

                              To filter for resources with a custom attribute"Agent Status", use the following:

                              "filterType":"customAttributes",
                              "entityName":"Agent Status",
                              "operator":"CONTAINS",
                              "entityValue":"Up"

                              Entity names of native attributes:
                              - "dns_name"
                              - "host_name"
                              - "alias_name"
                              - "ip_address"
                              - "resource_type"
                              - "agent_installed"
                              - "operating_system"
                              - "make"
                              - "model"
                              - "alert_source"
                              - "alert_metric"
                              - "device_group"
                              - "service_group"
                              - "site"
                              - "application"

                              For more options, view Get Custom Attributes of a Client API.
                          operator:
                            type: string
                            description: |
                              The logical operators to filter for resources. To filter Windows resources, use "Contains Windows". To filter resources with the agent is installed, use the following:

                              "entityName": "agent_installed",

                              "operator": "Is",

                              "entityValue": "Yes"
                            enum:
                              - Contains
                              - Not Contains
                              - Equals
                              - Not Equals
                              - Starts with
                              - Ends with
                              - Regex
                              - Is
                          entityValue:
                            type: string
                            description: The unique value of the alert. An example would be "VG-Host".
                          ipMatchingConditions:
                            type: object
                            description: |-
                              Mandatory

                              Mandatory only when "CIDR Match" is selected. (An example is "192.168.1.1/24".)

                              Mandatory only when "Within Range" or "Equals" is selected.

                              Mandatory when "Within Range" is selected (An example is "255.255.255.192".)
                            properties:
                              ipAddressMatchType:
                                type: string
                                description: ''
                                enum:
                                  - CIDR Match
                                  - Within Range
                                  - Equals
                              ipAddress:
                                type: string
                              netmask:
                                type: string
                type:
                  type: string
                  enum:
                    - DEPENDENCY
                    - ALGORITHM
                    - CO_OCCURRENCE
                  description: The alert correlation policy type.
                dependencyCorrelation:
                  type: object
                  description: Correlate alerts on upstream and downstream resources.
                  properties:
                    alertsTimeWindow:
                      type: integer
                      description: '(Optional) Correlate alerts that are generated within a time span specified in minutes. An example is when a user wants to correlate alerts on upstream and downstream resources within a span of 15 minutes. If a value isn''t specified, the default time window is 5 minutes.'
                      enum:
                        - 5
                        - 10
                        - 15
                        - 20
                        - 25
                        - 30
                        - 45
                        - 60
                        - 90
                        - 120
                      default: 5
                    upstreamMetrics:
                      type: array
                      description: Metrics on the upstream resource that may generate alerts. Use the Get Metrics API to get metrics assigned to a resource.
                      items:
                        type: string
                    downstreamMetrics:
                      type: array
                      description: Metrics on the downstream resource that may generate alerts. Use the Get Metrics API to get metrics assigned to a resource.
                      items:
                        type: string
                algorithmCorrelation:
                  type: object
                  description: Correlate alerts that share similar alert properties.
                  properties:
                    alertsTimeWindow:
                      type: integer
                      description: '(Optional) Correlate alerts that are generated within a time span specified in minutes. If a value isn''t specified, the default time window is 5 minutes.'
                      enum:
                        - 5
                        - 10
                        - 15
                        - 20
                        - 25
                        - 30
                        - 45
                        - 60
                        - 90
                        - 120
                      default: 5
                    matchingConditions:
                      type: array
                      description: |-
                        Correlate alerts based all of the on the following:
                        1. Select the alert property with which the alerts should be grouped (example is "Host Name").
                        2. Match the type of alert property.

                        If a user wants to correlate alerts which exactly share same IP address 172.34.213, provide the "property": "ip_address" and "matchType": "Identical" fields. See Matching conditions table for detailed information on match types.
                      items:
                        type: object
                        properties:
                          property:
                            type: string
                            enum:
                              - resource_type
                              - subject
                              - host_name
                              - alert_source
                              - alert_metric
                              - device_group
                              - service_group
                              - site
                              - alert_description
                          matchType:
                            type: string
                            enum:
                              - Identical
                              - Nearly Identical
                              - Similar
                              - Somewhat
                    primaryAlertSubject:
                      type: string
                      description: '(Optional) Provide a subject for the primary alert generated. This helps to identify the Inference. If no subject is provided, the primary alert is treated as the subject for alert correlation.'
                    machineLearning:
                      type: string
                      enum:
                        - trainingFileId
                        - continuousLearning
                organizationMatchingType:
                  type: string
                includedClients:
                  type: array
                  items:
                    type: string
                enabledMode:
                  type: string
                  enum:
                    - 'ON'
                    - 'OFF'
                    - OBSERVED
                  description: '(Optional) To enable an alert correlation policy, set "enabledMode": "ON". To disable an alert correlation policy, set "enabledMode: "OFF". To enable an alert correlation policy to observe, set "enabledMode": "OBSERVED".'
                precedence:
                  description: '(Optional) Determine the execution order of a policy. For example, if VMware is specified as part of the agent status policy and network outage policy, the user can determine which policy should execute first to correlate VMware alerts.'
                  type: integer
              required:
                - name
            examples:
              create-w-algo-corr:
                value:
                  name: Correlate alerts on parked VMwares
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: host_name
                        operator: Contains
                        entityValue: vm
                      - filterType: customAttributes
                        entityName: Agent Status
                        operator: Equals
                        entityValue: Down
                  type: ALGORITHM
                  algorithmCorrelation:
                    alertsTimeWindow: 20
                    matchingConditions:
                      - property: subject
                        matchType: Identical
                      - property: alert_metric
                        matchType: Nearly Identical
                    primaryAlertSubject: Agent down on parked VMwares
              create-w-co_occ-corr:
                value:
                  name: Server-SJ Alerts
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: host_name
                        operator: Contains
                        entityValue: Logix
                      - filterType: customAttributes
                        entityName: agent_status
                        operator: Equals
                        entityValue: up
                  type: CO_OCCURRENCE
              create-w-ip-filter:
                value:
                  name: Server-SJ Alerts
                  type: ALGORITHM
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: ip_address
                        ipMatchingConditions:
                          ipAddressMatchType: Within Range
                          ipAddress: 192.168.5.130
                          netmask: 255.255.255.192
                  algorithmCorrelation:
                    alertsTimeWindow: 20
                    matchingConditions:
                      - property: host_name
                        matchType: Identical
                    primaryAlertSubject: IP policy api demo
              create-client-scope-w-algo-all-org-match:
                value:
                  name: test_algorithm_correlation_ap
                  organizationMatchingType: ALL
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: host_name
                        operator: Contains
                        entityValue: vm
                      - filterType: customAttributes
                        entityName: test_custom_attribute
                        operator: Not Contains
                        entityValue: a
                  type: ALGORITHM
                  algorithmCorrelation:
                    alertsTimeWindow: 20
                    matchingConditions:
                      - property: subject
                        matchType: Identical
                      - property: alert_metric
                        matchType: Identical
                    primaryAlertSubject: subject-alertMetric policy
              create-client-scope-w-algo-incl-org-match:
                value:
                  name: test_algorithm_correlation_ap
                  organizationMatchingType: INCLUDE
                  includedClients:
                    - client_8
                    - client_9
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: host_name
                        operator: Contains
                        entityValue: vm
                      - filterType: customAttributes
                        entityName: test_custom_attribute
                        operator: Not Contains
                        entityValue: a
                  type: ALGORITHM
                  algorithmCorrelation:
                    alertsTimeWindow: 20
                    matchingConditions:
                      - property: subject
                        matchType: Identical
                      - property: alert_metric
                        matchType: Identical
                    primaryAlertSubject: subject-alertMetric policy
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/policies/alertCorrelation/{policyId}':
    summary: Manage alert correlation policy by ID
    description: 'Update, gets, and deletes an alert correlation policy by ID.'
    delete:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  enabled:
                    type: boolean
                  precedence:
                    type: integer
                  filterCriteria:
                    type: object
                    properties:
                      filterBased: {}
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            filterType:
                              type: string
                            entityName:
                              type: string
                            operator:
                              type: string
                            entityValue:
                              type: string
                  type:
                    type: string
                  dependencyCorrelation:
                    type: object
                    properties:
                      alertsTimeWindow:
                        type: integer
                      upstreamMetrics:
                        type: array
                        items:
                          type: string
                      downstreamMetrics:
                        type: array
                        items:
                          type: string
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  updatedBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  createdTime:
                    type: string
                  updatedTime:
                    type: string
                  algorithmCorrelation:
                    type: object
                    properties:
                      alertsTimeWindow:
                        type: integer
                      matchingConditions:
                        type: array
                        items:
                          type: object
                          properties:
                            property:
                              type: string
                            matchType:
                              type: string
                      primaryAlertSubject:
                        type: string
                  machineLearning:
                    type: object
                    properties:
                      trainingFileId:
                        type: string
                      continuousLearning:
                        type: boolean
                  clientsIncluded:
                    type: string
                  includedClients:
                    type: array
                    items:
                      type: string
              examples:
                example-dependency-correlation:
                  value:
                    id: POLICY-AC-165c4ee5-8b31-4cba-b88e-f20e57ae8358
                    name: Correlate alerts on Hypervisor
                    enabled: false
                    precedence: 25
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: Root_Device
                          operator: Starts with
                          entityValue: ESX
                    type: DEPENDENCY
                    dependencyCorrelation:
                      alertsTimeWindow: 15
                      upstreamMetrics:
                        - system.process.cpu
                        - system.ping.pl
                      downstreamMetrics:
                        - system.memory.utilization
                        - system.ping.rta
                    createdBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    updatedBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    createdTime: '2018-03-27T13:14:07+0000'
                    updatedTime: '2018-04-10T14:22:10+0000'
                example-algorithm-based-correlation:
                  value:
                    id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                    name: Correlate alerts on network outage
                    enabled: false
                    precedence: 29
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: ip_address
                          operator: Contains
                          entityValue: '162.11'
                        - filterType: customAttributes
                          entityName: device_location
                          operator: Contains
                          entityValue: West
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: subject
                          matchType: Identical
                        - property: ip_address
                          matchType: Nearly Identical
                      primaryAlertSubject: 'Network outage on Switch 162 '
                    createdBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    updatedBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    createdTime: '2018-03-27T13:14:07+0000'
                    updatedTime: '2018-04-10T14:22:11+0000'
                example-cooccurrence-based-correlation:
                  value:
                    id: POLICY-AC-1556bcf6-7cc2-44ba-ba1f-8ca5a211bcb3
                    name: Server SJ-Alerts
                    enabled: false
                    precedence: 30
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: Logix
                        - filterType: customAttributes
                          entityName: agent_status
                          operator: Equals
                          entityValue: up
                    type: CO_OCCURRENCE
                    machineLearning:
                      trainingFileId: ml_alert_correlation_training_client_9
                      continuousLearning: false
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: john.smith@myorganization.com
                    updatedBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: john.smith@myorganization.com
                    createdTime: '2018-08-27T13:14:07+0000'
                    updatedTime: '2018-09-12T10:22:11+0000'
                example-client-scope-algorithm-all:
                  value:
                    id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                    name: test_algorithm_correlation_ap
                    clientsIncluded: ALL
                    enabled: true
                    precedence: 29
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: test_cutom_attribute
                          operator: Not Contains
                          entityValue: a
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: subject
                          matchType: Identical
                        - property: alert_metric
                          matchType: Identical
                      primaryAlertSubject: subject-alertMetric policy
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: admin@opsramp.com
                    createdTime: '2017-11-27T13:14:07+0000'
                    updatedTime: ''
                example-client-scope-algorithm-include:
                  value:
                    id: POLICY-AC-7556bcf6-4cc2-44ba-ba1f-3ca5a211bcb3
                    name: test_algorithm_correlation_ap
                    includedClients:
                      - client_8
                      - client_9
                    enabled: true
                    precedence: 29
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: test_cutom_attribute
                          operator: Not Contains
                          entityValue: a
                    type: ALGORITHM
                    algorithmCorrelation:
                      alertsTimeWindow: 20
                      matchingConditions:
                        - property: subject
                          matchType: Identical
                        - property: alert_metric
                          matchType: Identical
                      primaryAlertSubject: subject-alertMetric policy
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: admin@opsramp.com
                    createdTime: '2017-11-27T13:14:07+0000'
                    updatedTime: ''
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  enabled:
                    type: boolean
                  precedence:
                    type: integer
                  filterCriteria:
                    type: object
                    properties:
                      filterBased:
                        type: boolean
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            filterType:
                              type: string
                            entityName:
                              type: string
                            operator:
                              type: string
                            entityValue:
                              type: string
                  type:
                    type: string
                  algorithmCorrelation:
                    type: object
                    properties:
                      alertsTimeWindow:
                        type: integer
                      matchingConditions:
                        type: array
                        items:
                          type: object
                          properties:
                            property:
                              type: string
                            matchType:
                              type: string
                      primaryAlertSubject:
                        type: string
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  createdTime:
                    type: string
                  updatedTime:
                    type: string
              examples:
                example-1:
                  value:
                    id: POLICY-AC-165c4ee5-8b31-4cba-b88e-f20e57ae8358
                    name: Correlate alerts on Hypervisor
                    enabled: false
                    precedence: 25
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Contains
                          entityValue: vm
                        - filterType: customAttributes
                          entityName: Root_Device
                          operator: Starts with
                          entityValue: ESX
                    type: DEPENDENCY
                    dependencyCorrelation:
                      alertsTimeWindow: 15
                      upstreamMetrics:
                        - system.process.cpu
                        - system.ping.pl
                      downstreamMetrics:
                        - system.memory.utilization
                        - system.ping.rta
                    createdBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    updatedBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    createdTime: '2018-03-27T13:14:07+0000'
                    updatedTime: '2018-04-10T14:22:10+0000'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the alert correlation policy.
                filterCriteria:
                  type: object
                  description: (Optional) Filter for resources whose alerts will match this policy.
                  properties:
                    filterBased:
                      description: Determine if the alert correlation policy should consider the below filter rules.
                      type: boolean
                    matchingType:
                      description: Match ALL or ANY of the rules to filter for resources whose alerts will match this policy.
                      enum:
                        - ALL
                        - ANY
                      type: string
                    rules:
                      type: array
                      description: '(Mandatory if "filterBase": "true") Filter resources with the rules that follow.'
                      items:
                        type: object
                        properties:
                          filterType:
                            type: string
                            description: |-
                              "nativeAttributes": Filter for resources on the basis of predefined attributes.

                              "customAttributes": Filter for resources using custom attributes of device and client.
                            enum:
                              - nativeAttributes
                              - customAttributes
                          entityName:
                            type: string
                            description: |-
                              Native or custom attribute name. For example, to filter for resources with host_name "VG-Host", use the following:

                              "filterType":"nativeAttributes",
                              "entityName":"host_name",
                              "operator":"CONTAINS",
                              "entityValue":"VG-Host"

                              To filter for resources with a custom attribute"Agent Status", use the following:

                              "filterType":"customAttributes",
                              "entityName":"Agent Status",
                              "operator":"CONTAINS",
                              "entityValue":"Up"

                              Entity names of native attributes:
                              - "dns_name"
                              - "host_name"
                              - "alias_name"
                              - "ip_address"
                              - "resource_type"
                              - "agent_installed"
                              - "operating_system"
                              - "make"
                              - "model"
                              - "alert_source"
                              - "alert_metric"
                              - "device_group"
                              - "service_group"
                              - "site"
                              - "application"

                              For more options, view Get Custom Attributes of a Client API.
                          operator:
                            type: string
                            description: |
                              The logical operators to filter for resources. To filter Windows resources, use "Contains Windows". To filter resources with the agent is installed, use the following:

                              "entityName": "agent_installed",

                              "operator": "Is",

                              "entityValue": "Yes"
                            enum:
                              - Contains
                              - Not Contains
                              - Equals
                              - Not Equals
                              - Starts with
                              - Ends with
                              - Regex
                              - Is
                          entityValue:
                            type: string
                            description: The unique value of the alert. An example would be "VG-Host".
                          ipMatchingConditions:
                            type: object
                            description: |-
                              Mandatory

                              Mandatory only when "CIDR Match" is selected. (An example is "192.168.1.1/24".)

                              Mandatory only when "Within Range" or "Equals" is selected.

                              Mandatory when "Within Range" is selected (An example is "255.255.255.192".)
                            properties:
                              ipAddressMatchType:
                                type: string
                                description: ''
                                enum:
                                  - CIDR Match
                                  - Within Range
                                  - Equals
                              ipAddress:
                                type: string
                              netmask:
                                type: string
                type:
                  type: string
                  enum:
                    - DEPENDENCY
                    - ALGORITHM
                    - CO_OCCURRENCE
                  description: The alert correlation policy type.
                dependencyCorrelation:
                  type: object
                  description: Correlate alerts on upstream and downstream resources.
                  properties:
                    alertsTimeWindow:
                      type: integer
                      description: '(Optional) Correlate alerts that are generated within a time span specified in minutes. An example is when a user wants to correlate alerts on upstream and downstream resources within a span of 15 minutes. If a value isn''t specified, the default time window is 5 minutes.'
                      enum:
                        - 5
                        - 10
                        - 15
                        - 20
                        - 25
                        - 30
                        - 45
                        - 60
                        - 90
                        - 120
                      default: 5
                    upstreamMetrics:
                      type: array
                      description: Metrics on the upstream resource that may generate alerts. Use the Get Metrics API to get metrics assigned to a resource.
                      items:
                        type: string
                    downstreamMetrics:
                      type: array
                      description: Metrics on the downstream resource that may generate alerts. Use the Get Metrics API to get metrics assigned to a resource.
                      items:
                        type: string
                algorithmCorrelation:
                  type: object
                  description: Correlate alerts that share similar alert properties.
                  properties:
                    alertsTimeWindow:
                      type: integer
                      description: '(Optional) Correlate alerts that are generated within a time span specified in minutes. If a value isn''t specified, the default time window is 5 minutes.'
                      enum:
                        - 5
                        - 10
                        - 15
                        - 20
                        - 25
                        - 30
                        - 45
                        - 60
                        - 90
                        - 120
                      default: 5
                    matchingConditions:
                      type: array
                      description: |-
                        Correlate alerts based all of the on the following:
                        1. Select the alert property with which the alerts should be grouped (example is "Host Name").
                        2. Match the type of alert property.

                        If a user wants to correlate alerts which exactly share same IP address 172.34.213, provide the "property": "ip_address" and "matchType": "Identical" fields. See Matching conditions table for detailed information on match types.
                      items:
                        type: object
                        properties:
                          property:
                            type: string
                            enum:
                              - resource_type
                              - subject
                              - host_name
                              - alert_source
                              - alert_metric
                              - device_group
                              - service_group
                              - site
                              - alert_description
                          matchType:
                            type: string
                            enum:
                              - Identical
                              - Nearly Identical
                              - Similar
                              - Somewhat
                    primaryAlertSubject:
                      type: string
                      description: '(Optional) Provide a subject for the primary alert generated. This helps to identify the Inference. If no subject is provided, the primary alert is treated as the subject for alert correlation.'
                    machineLearning:
                      type: string
                      enum:
                        - trainingFileId
                        - continuousLearning
                organizationMatchingType:
                  type: string
                includedClients:
                  type: array
                  items:
                    type: string
                enabledMode:
                  type: string
                  enum:
                    - 'ON'
                    - 'OFF'
                    - OBSERVED
                  description: '(Optional) To enable an alert correlation policy, set "enabledMode": "ON". To disable an alert correlation policy, set "enabledMode: "OFF". To enable an alert correlation policy to observe, set "enabledMode": "OBSERVED".'
                precedence:
                  description: '(Optional) Determine the execution order of a policy. For example, if VMware is specified as part of the agent status policy and network outage policy, the user can determine which policy should execute first to correlate VMware alerts.'
                  type: integer
              required:
                - name
            examples:
              example-1:
                value:
                  name: Correlate alerts on Hypervisor
                  enabled: 'false'
                  precedence: 25
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: host_name
                        operator: Contains
                        entityValue: vm
                      - filterType: customAttributes
                        entityName: Root_Device
                        operator: Starts with
                        entityValue: ESX
                  type: DEPENDENCY
                  dependencyCorrelation:
                    alertsTimeWindow: 15
                    upstreamMetrics:
                      - system.ping.pl
                      - system.process.cpu
                    downstreamMetrics:
                      - system.ping.rta
                      - system.memory.utilization
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/policyId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/escalations':
    summary: Get alert escalation policy
    description: Gets the escalation policy attached to an alert.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  policyType:
                    type: string
                  clientMatchingType:
                    type: string
                  createdDate:
                    type: string
                    format: date-time
                  updatedDate:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  scope:
                    type: object
                    properties:
                      id:
                        type: integer
                      uniqueId:
                        type: string
                      name:
                        type: string
                      activated:
                        type: boolean
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                      phoneNumber:
                        type: string
                      mobileNumber:
                        type: string
                  updatedBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                      phoneNumber:
                        type: string
                      mobileNumber:
                        type: string
                  allClients:
                    type: boolean
                  resources:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                  filterCriteria:
                    type: object
                    properties:
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            key:
                              type: string
                            operator:
                              type: string
                            value:
                              type: string
                  escalationType:
                    type: string
                  escalations:
                    type: array
                    items:
                      type: object
                      properties:
                        waitMins:
                          type: integer
                        priority:
                          type: string
                        repeatFrequency:
                          type: integer
                        action:
                          type: string
                        recipients:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              name:
                                type: string
                              type:
                                type: string
                        updateIncident:
                          type: object
                          properties:
                            none:
                              type: boolean
                            priorityRules:
                              type: array
                              items:
                                type: object
                                properties:
                                  key:
                                    type: string
                                  operator:
                                    type: string
                                  value:
                                    type: string
                                  businessImpact:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  urgency:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  priority:
                                    type: string
                        incident:
                          type: object
                          properties:
                            status:
                              type: string
                            priority:
                              type: string
                            assignedUser:
                              type: object
                              properties:
                                loginName:
                                  type: string
                                lastName:
                                  type: string
                                firstName:
                                  type: string
                                email:
                                  type: string
                                phoneNumber:
                                  type: string
                                mobileNumber:
                                  type: string
                            customFields:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                  classCode:
                                    type: string
                                  displayLabel:
                                    type: string
                                  name:
                                    type: string
                                  fieldType:
                                    type: string
                                  mandatory:
                                    type: boolean
                                  editable:
                                    type: boolean
                                  description:
                                    type: string
                                  value:
                                    type: string
                                  defaultValue:
                                    type: string
                                  customField:
                                    type: boolean
                            toEmail:
                              type: string
                            estimatedHours:
                              type: integer
                            timeSpent:
                              type: integer
                            estimatedMinutes:
                              type: integer
                            machineLearning:
                              type: object
                              properties:
                                continuousLearning:
                                  type: boolean
                                trainingFileId:
                                  type: string
                                learnedFieldsToOutputColumnsMap:
                                  type: object
                                  properties:
                                    Assignee Group:
                                      type: string
                                    Priority:
                                      type: string
                        notifyIncident:
                          type: string
              examples:
                example-manual:
                  value:
                    id: POLICY-9d6bbe58-2bf6-41cc-9983-fca53b64c9e7
                    name: Network Issues
                    description: ''
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T12:13:31+0000'
                    updatedDate: '2017-05-15T12:13:31+0000'
                    active: true
                    scope:
                      id: 5
                      uniqueId: msp_5
                      name: Luminalto Partner
                      activated: true
                    createdBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@organization.com
                      phoneNumber: ''
                      mobileNumber: 802-456-1234
                    updatedBy:
                      loginName: John_Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@organization.com
                      phoneNumber: ''
                      mobileNumber: 802-456-1234
                    allClients: true
                    resources:
                      - id: 7447fef1-68ee-4c2a-a366-273abc819dbc
                        name: ESC00002
                        type: RESOURCE
                      - id: 7_AWS
                        name: AWS
                        type: LOCATION
                      - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                        name: Test Group
                        type: DEVICEGROUP
                      - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                        name: Test SG
                        type: SERVICEGROUP
                      - id: client_6
                        name: ADC Client
                        type: CLIENT
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert  : Description'
                          operator: CONTAINS
                          value: critical
                    escalationType: AUTOMATIC
                    escalations:
                      - waitMins: 0
                        priority: VeryLow
                        repeatFrequency: 10
                        action: NOTIFICATION
                        recipients:
                          - id: ES-d16473ee-29de-1cf2-4983-86307733e34c
                            name: Support team
                            type: ROSTER
                          - id: USR0000000019
                            name: Jim Bolt
                            type: USER
                      - waitMins: 5
                        updateIncident:
                          none: true
                          priorityRules:
                            - key: currentState.code
                              operator: Is
                              value: Warning
                              businessImpact:
                                uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                                name: Level 1 Impact
                                description: ''
                              urgency:
                                uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                                name: Critical Issue
                                description: ''
                              priority: High
                        incident:
                          status: New
                          priority: Low
                          assignedUser:
                            loginName: John_Smith
                            lastName: Smith
                            firstName: John
                            email: john.smith@organization.com
                            phoneNumber: ''
                            mobileNumber: 802-123-4123
                          customFields:
                            - id: UDF0000000002
                              classCode: INCIDENT
                              displayLabel: Component
                              name: text_api_lab_3791
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: Value_1
                              defaultValue: Default Component
                              customField: true
                          toEmail: support.admin@organization.com
                        action: INCIDENT
                        notifyIncident: forEveryUpdate
                example-machine-learning:
                  value:
                    id: POLICY-14d82994-a67e-463b-955a-37ff2eee7368
                    name: ML_policy
                    description: ''
                    policyType: ESCALATION_POLICY
                    createdDate: '2018-12-18T12:04:36+0000'
                    updatedDate: '2018-12-18T12:04:36+0000'
                    active: true
                    scope:
                      id: 9
                      uniqueId: client_9
                      name: Brocade Corp.
                      activated: true
                    escalationType: AUTOMATIC
                    escalations:
                      - action: INCIDENT
                        waitMins: 0
                        incident:
                          status: New
                          priority: High
                          estimatedHours: 0
                          timeSpent: 0
                          estimatedMinutes: 0
                          machineLearning:
                            continuousLearning: false
                            trainingFileId: ml_alert_escalation_training
                            learnedFieldsToOutputColumnsMap:
                              Assignee Group: incident.assigneeGroup
                              Priority: incident.priority
                        updateIncident:
                          none: true
                        notifyIncident: forEveryUpdate
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
  '/api/v2/tenants/{tenantId}/escalations':
    summary: Create alert escalation policy
    description: |
      Creates an alert escalation policy. The policy is a predefined action to be taken when an alert is not acknowledged.

      ##### Notes
      - resources: Used to define different resources to apply the escalate alert policy.
      - escalations: Used to define the users for escalated alerts notifications.
      - escalationType:
          - AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED_TICKETED: Automated notifications via recipient users until acknowledged, closed, suppressed, or ticketed.
          - AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED: Automated notifications via recipient users until acknowledged, closed, or suppressed.
          - MANUAL  Contact users directly as required.
      - filterCriteria  Use the following request structure for 'Alert : Occurrence Frequency'.
      - occurrences  Any integer.
      - frequency  Any integer.
      - frequencyType  hours or days or weeks
    post:
      tags:
        - alerts
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Escalation policy name.
                description:
                  type: string
                  description: (Optional) Escalation policy description.
                resources:
                  type: object
                  description: Resources on which the policy would be applied.
                  properties:
                    id:
                      type: string
                      description: Resource ID
                    type:
                      type: string
                      enum:
                        - DEVICE
                        - DEVICEGROUP
                        - SERVICEGROUP
                        - LOCATION
                        - CLIENT
                      description: |-
                        Resource type Example: DEVICE. Use the following APIs to fetch the resource types:
                        - Search Devices or Get Minimal Details of Resources API to fetch the list of devices or resources in a client.
                        - Get Child Device Groups and Get Root Level Device Groups to fetch the list of device groups.
                        - Get Service Groups to fetch the list of service groups.
                        - Search Sites to fetch the list of sites.
                        - Search Clients to fetch the list of clients. Only partner users have permission to fetch the details of client.
                filterCriteria:
                  type: object
                  properties:
                    matchingType:
                      type: string
                      description: (Optional) Define alert conditions for the policy. Only the filtered alerts are escalated. All the alerts on the resource will match this policy if NO condition is defined. Match ANY or ALL of the filter rules.
                      enum:
                        - ALL
                        - ANY
                    rules:
                      type: array
                      description: Conditions to filter the alerts.
                      items:
                        type: object
                        properties:
                          key:
                            type: string
                            enum:
                              - 'Alert: Created Date'
                              - 'Alert: Description'
                              - 'Alert: Event Type'
                              - 'Alert: Healed Time'
                              - 'Alert: Metric'
                              - 'Alert: No of Occurrence'
                              - 'Alert: Source'
                              - 'Alert: State'
                              - 'Alert: Subject'
                              - 'Alert: Type'
                              - 'Alert: Update Time'
                              - 'Alert: Update Time'
                              - 'Resource: Aws Instance Name'
                              - 'Resource: Instance Id'
                              - 'Resource: Resource IP'
                              - 'Resource: Resource Name'
                              - 'Resource: Resource Type'
                            description: |-
                              Unique attribute to filter the alert.Use Get Alert Types API to fetch the list of alert types.Alert: Occurrence Frequency: Escalate alerts which trigger repeatedly despite Acknowledge/Suppress actions. Below are the fields for alert occurrence frequency:

                              occurrences
                              Datatype: Integer
                              Description: Rate at which an alert triggers repeatedly over a particular duration. Example: 5

                              frequency
                              Data Type: Integer
                              Description: Duration in which alert triggers repeatedly. Example: 2

                              frequencyType
                              Data Type: String
                              Description: Provide the type of duration.Supported values: hours, days, weeks. Example: days
                              Consider a scenario where a user wants to escalate alerts which trigger repeatedly for 5 times in 2 days. For this scenario, the values are provided as
                              "occurrences": 5
                              "frequency": 2
                              "frequencyType": "days"
                          operator:
                            type: string
                            enum:
                              - Contains
                              - Not Contains
                              - Equals
                              - Not Equals
                              - Starts with
                              - Ends with
                              - Regex
                              - Is
                            description: 'Operating values to filter the resource types. Operators Is and Is Not are applicable only for "key": "Resource: Resource Type"'
                          value:
                            type: object
                            description: |-
                              Unique information of alert. Example: Critical.
                              Example for filter rules: key: Alert: Subject, operator: Contains, value: Critical, this implies that filter the alerts that contain the subject critical.
                            properties:
                              occurrences:
                                type: integer
                              frequency:
                                type: integer
                              frequencyType:
                                type: string
                escalationType:
                  type: string
                  description: |-
                    Escalation rules are actions to be taken when an alert is not acknowledged within the desired time. OpsRamp supports manual and automatic escalation types.

                    If escalation Type is Manual, then escalations would be:
                    - recipients

                    If escalation Type is Automatic, then escalations would be:
                    - waitMins
                    - action
                  enum:
                    - MANUAL
                    - AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED_TICKETED
                    - AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED
                escalations:
                  type: array
                  items:
                    type: object
                    properties:
                      waitMins:
                        type: integer
                        description: |-
                          Configure the time interval to escalate an alert after it is generated. Escalate after the alert has elapsed the set time.

                          Convert hours and days to minutes and provide the minutes time format. Example: For 6 hours provide the value as 360 minutes.

                          Acceptable values: 0 to 30 mins, 45 mins
                          1 to 6 hours, 12 hours
                          1 day, 3 days, 5 days, 7 days, 10 days
                      priority:
                        type: string
                        description: |
                          Priority of the notification.
                        enum:
                          - Very Low
                          - Low
                          - Normal
                          - High
                          - Urgent
                      repeatFrequency:
                        type: integer
                        description: |-
                          Repeat alert notification at specific time intervals. Example: If repeatFrequency is set as 15 minutes, then the alert notification would repeat every 15 minutes until the alert is acknowledged.
                          Convert hours to minutes.

                          Acceptable values: 5 mins, 10 mins, 15 mins, 20 mins, 30 mins, 1 hour, 2 hours, 3 hours, 4 hours, 6 hours, 8 hours, 12 hours, 24 hours
                      action:
                        type: string
                        description: Escalation action to be taken.Escalate as Notification implies to send periodic notifications to users until the alert is acknowledged. Escalate as Incident implies to automatically create an incident from the alert and assign it to the desired user or team.
                        enum:
                          - NOTIFICATION
                          - INCIDENT
                      recipients:
                        type: array
                        description: ''
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: |
                                (Optional) Users to contact directly. User ID (or) name.
                            name:
                              type: string
                              description: |
                                (Optional) Users to contact directly. User ID (or) name.
                            type:
                              type: string
                              enum:
                                - USERS
                                - USER GROUPS
                                - ROSTERS
                                - USERGROUP_DL
                              description: |-
                                Recipient type. Example: USER
                                Use the following APIs to fetch the recipient types:
                                1. Search Users to fetch the list of users.
                                2. Search User Groups to fetch the list of user groups.
                                3. Search Rosters to fetch the list of Rosters.
                                4. User Group which has distributed list of email addresses. Click here to know more about User Group Distribution List. Provide only the user group IDs which have distributed list of email address configured in OpsRamp.
                      updateIncident:
                        type: object
                        description: |-
                            Configure how to update an existing incident of an escalated alert.

                            If an Open incident (other than Closed) is available for the alert, the incident gets updated instead of creating a new incident.

                            Either "none" or "withAlertState" must be included
                        properties:
                          none:
                            type: boolean
                            description: The latest description is appended on the alert. NO change to the status of the incident is made based on escalated alert's state.
                          withAlertState:
                            type: boolean
                            description: The incident gets updated every time the escalated alert repeats with a state change.
                          priorityRules:
                            type: array
                            description: |-
                              Update incident priority based on these rules:
                              1. Unique attribute of the alert. Example: Alert State
                              2. Operating values to filter the incident. Example: Is
                              3. Status of the incident. Example: Critical
                              4. The severity of an incident on the business. Use Get Business Impacts to get the list of defined business impacts.
                              5. Urgency to prioritize and work on the incident. Use Get Urgencies to get the list of defined urgencies.
                              6. Priority of the incident. This can be defined with respect to business impact and urgency.
                            items:
                              type: object
                              properties:
                                key:
                                  type: string
                                  description: 'Value for key is [currentState.code].'
                                operator:
                                  type: string
                                  description: Supported value for operator - Is.
                                  enum:
                                    - Is
                                value:
                                  type: string
                                  description: 'Supported values for the priority rule value are Warning, Critical.'
                                  enum:
                                    - Warning
                                    - Critical
                                businessImpact:
                                  type: object
                                  description: ID of the business impact.
                                  properties:
                                    uniqueId:
                                      type: string
                                urgency:
                                  type: object
                                  description: Urgency to prioritize the incident.
                                  properties:
                                    uniqueId:
                                      type: string
                                priority:
                                  type: string
                                  description: 'Supported value for priority are Low, Normal, High, Urgent, Very Low.'
                                  enum:
                                    - Low
                                    - Normal
                                    - High
                                    - Urgent
                                    - Very Low
                      notifyIncident:
                        type: string
                        enum:
                          - forEveryUpdate
                          - whenAlertStateChanged
                        description: Notify users when incident is updated due to change in alert state.
                      incident:
                        type: object
                        description: 'Create New Incident: Configure the properties of an incident that will be created when an alert''s condition matches with this policy.'
                        properties:
                          priority:
                            type: string
                            description: Priority of the incident. This can be defined with respect to business impact and urgency.
                            enum:
                              - Low
                              - Normal
                              - High
                              - Urgent
                              - Very Low
                          assigneeGroup:
                            type: object
                            description: |-
                              Values: uniqueId or name

                              Description: An incident is automatically created from the alert and assigned to the desired user or team. *Escalate the incident to a user group responsible for working on the incident.*

                              Note: The escalation ends when an incident is created from the alert. After that, adding further level of escalation is not possible.
                            properties:
                              uniqueId:
                                type: string
                              name:
                                type: string
                          assignedUser:
                            type: object
                            description: |
                              Escalate incident to a user
                            properties:
                              id:
                                type: string
                              loginName:
                                type: string
                          customFields:
                            type: array
                            description: |
                              User customized fields. User can include additional information of incident by creating custom fields. Use Get Incident Custom Fields to get the custom forms of incident.
                            items:
                              type: object
                              properties:
                                id:
                                  type: string
                                name:
                                  type: string
                                value:
                                  type: string
                          cc:
                            type: object
                          toEmail:
                            type: string
                            description: |
                              User would receive the incident notifications via email.
                          businessImpact:
                            description: The severity of an incident on the business. Use Get Business Impacts to get the list of defined business impacts.
                            type: object
                            properties:
                              uniqueId:
                                type: string
                          urgency:
                            type: object
                            properties:
                              uniqueId:
                                type: string
                                description: |
                                  Urgency to prioritize and work on the incident. Use Get Urgencies to get the list of defined urgencies.
                      notifyLimitCount:
                        type: integer
                        description: |-
                          Number of repeated notifications a user has to receive within a certain time interval. For example, if repeatFrequency: 15 and notifyLimitCount: 5. The above example indicates that user receives notifications every 15 minutes and stops receiving after 5 notifications. When a notification limit count is not provided, the default notifyLimitCount is 2.

                          Can be set from 1 to 10.
                        default: 2
                      alertStateTransitionFrom:
                        type: string
                        enum:
                          - CRITICAL
                          - WARNING
                        description: 'Escalate alerts as notification on a change in alert state. For example, escalate alerts as notification when alert state changes from Warning to Critical. The notification is a one-time notification sent at the time of the state transition.'
            examples:
              example-AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED_TICKETED:
                value:
                  name: Create escalate alert policy API
                  description: Test description
                  resources:
                    - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                      type: RESOURCE
                    - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                      type: DEVICEGROUP
                    - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                      type: SERVICEGROUP
                    - id: 7_AWS
                      type: LOCATION
                    - id: client_7
                      type: CLIENT
                  filterCriteria:
                    matchingType: ANY
                    rules:
                      - key: 'Alert  : Description'
                        operator: CONTAINS
                        value: critical
                      - key: 'Alert : Occurrence Frequency'
                        operator: GREATERTHANOREQUALTO
                        value:
                          occurrences: '5'
                          frequency: '2'
                          frequencyType: hours
                      - key: 'Resource : Resource Type'
                        operator: MATCH
                        value: DEVICE
                  escalationType: AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED_TICKETED
                  escalations:
                    - waitMins: 5
                      priority: Low
                      repeatFrequency: 5
                      notifyLimitCount: 2
                      action: NOTIFICATION
                      recipients:
                        - id: USR0000000028
                          name: AP_User
                          type: USER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Cloud group
                          type: USERGROUP
                        - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                          name: Cloud roster
                          type: ROSTER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Ops group
                          type: USERGROUP_DL
                    - waitMins: 5
                      action: INCIDENT
                      updateIncident:
                        none: 'true'
                        withAlertState: 'true'
                        priorityRules:
                          - key: currentState.code
                            operator: Is
                            value: Warning
                            businessImpact:
                              uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                            urgency:
                              uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                            priority: High
                      notifyIncident: whenAlertStateChanged
                      incident:
                        priority: Very Low
                        assigneeGroup:
                          uniqueId: USRGRP-4189ae2e-bcf5-f686-26d0-8b6eabd91558
                          name: Test Group
                        assignedUser:
                          id: USR0000000030
                          loginName: OpsAdmin
                        businessImpact:
                          uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                        urgency:
                          uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                        customFields:
                          - id: UDF0000000002
                            name: test_cutom_2
                            value: '2'
                          - id: UDF0000000004
                            name: esc_custom_field_4
                            value: request custom field - text
                        cc: tester1@opsramp.com
                        toEmail: tester2@opsramp.com
              example-AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED:
                value:
                  name: Create escalate alert policy API
                  description: Test description
                  resources:
                    - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                      type: RESOURCE
                    - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                      type: DEVICEGROUP
                    - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                      type: SERVICEGROUP
                    - id: 7_AWS
                      type: LOCATION
                    - id: client_7
                      type: CLIENT
                  filterCriteria:
                    matchingType: ANY
                    rules:
                      - key: 'Alert  : Description'
                        operator: CONTAINS
                        value: critical
                      - key: 'Alert : Occurrence Frequency'
                        operator: GREATERTHANOREQUALTO
                        value:
                          occurrences: '5'
                          frequency: '2'
                          frequencyType: hours
                      - key: 'Resource : Resource Type'
                        operator: MATCH
                        value: DEVICE
                  escalationType: AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED
                  escalations:
                    - waitMins: 5
                      priority: Low
                      repeatFrequency: 5
                      notifyLimitCount: 2
                      action: NOTIFICATION
                      recipients:
                        - id: USR0000000028
                          name: AP_User
                          type: USER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Cloud group
                          type: USERGROUP
                        - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                          name: Cloud roster
                          type: ROSTER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Ops group
                          type: USERGROUP_DL
                    - waitMins: 5
                      action: INCIDENT
                      updateIncident:
                        none: 'true'
                        withAlertState: 'true'
                        priorityRules:
                          - key: currentState.code
                            operator: Is
                            value: Warning
                            businessImpact:
                              uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                            urgency:
                              uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                            priority: High
                      notifyIncident: whenAlertStateChanged
                      incident:
                        priority: Very Low
                        assigneeGroup:
                          uniqueId: USRGRP-4189ae2e-bcf5-f686-26d0-8b6eabd91558
                          name: Test Group
                        assignedUser:
                          id: USR0000000030
                          loginName: OpsAdmin
                        businessImpact:
                          uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                        urgency:
                          uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                        customFields:
                          - id: UDF0000000002
                            name: test_cutom_2
                            value: '2'
                          - id: UDF0000000004
                            name: esc_custom_field_4
                            value: request custom field - text
                        cc: tester1@opsramp.com
                        toEmail: tester2@opsramp.com
              example-MANUAL:
                value:
                  name: Create escalate alert policy API for NOC
                  description: Test description
                  resources:
                    - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                      type: RESOURCE
                    - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                      type: DEVICEGROUP
                    - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                      type: SERVICEGROUP
                    - id: 7_AWS
                      type: LOCATION
                    - id: client_7
                      type: CLIENT
                  filterCriteria:
                    matchingType: ANY
                    rules:
                      - key: 'Alert  : Description'
                        operator: CONTAINS
                        value: critical
                  escalationType: MANUAL
                  escalations:
                    - recipients:
                        - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                          name: Cloud roster
                          type: ROSTER
                        - id: USR0000000028
                          name: AP_User
                          type: USER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Cloud group
                          type: USERGROUP
        description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  policyType:
                    type: string
                  clientMatchingType:
                    type: string
                  createdDate:
                    type: string
                    format: date-time
                  updatedDate:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  scope:
                    type: object
                    properties:
                      uniqueId:
                        type: string
                      name:
                        type: string
                      activated:
                        type: boolean
                      id:
                        type: integer
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  updatedBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  resources:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                  filterCriteria:
                    type: object
                    properties:
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            key:
                              type: string
                            operator:
                              type: string
                            value:
                              type: object
                              properties:
                                occurrences:
                                  type: integer
                                frequency:
                                  type: integer
                                frequencyType:
                                  type: string
                  escalationType:
                    type: string
                  escalations:
                    type: array
                    items:
                      type: object
                      properties:
                        waitMins:
                          type: integer
                        priority:
                          type: string
                        repeatFrequency:
                          type: integer
                        action:
                          type: string
                        recipients:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              name:
                                type: string
                              type:
                                type: string
                        incident:
                          type: object
                          properties:
                            status:
                              type: string
                            priority:
                              type: string
                            assignedUser:
                              type: object
                              properties:
                                loginName:
                                  type: string
                                lastName:
                                  type: string
                                firstName:
                                  type: string
                                email:
                                  type: string
                                phoneNumber:
                                  type: string
                                mobileNumber:
                                  type: string
                            customFields:
                              type: array
                              items:
                                type: object
                                properties:
                                  fieldName:
                                    type: string
                            toEmail:
                              type: string
                            assigneeGroup:
                              type: object
                              properties:
                                uniqueId:
                                  type: string
                                name:
                                  type: string
                                description:
                                  type: string
                                id:
                                  type: integer
                            cc:
                              type: string
                        updateIncident:
                          type: object
                          properties:
                            none:
                              type: boolean
                            priorityRules:
                              type: array
                              items:
                                type: object
                                properties:
                                  key:
                                    type: string
                                  operator:
                                    type: string
                                  value:
                                    type: string
                                  businessImpact:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  urgency:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  priority:
                                    type: string
                        notifyIncident:
                          type: string
                  enabledMode:
                    type: string
              examples:
                example-AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED_TICKETED:
                  value:
                    id: POLICY-e29f63f3-951a-4b41-a2a9-94835f6e9a42
                    name: Create escalate alert policy API
                    description: Test description
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T10:35:51+0000'
                    updatedDate: '2017-05-15T10:35:51+0000'
                    active: true
                    enabledMode: 'ON'
                    scope:
                      id: 7
                      uniqueId: client_7
                      name: Netenrich  Client
                      activated: true
                    createdBy:
                      loginName: ops_admin_user
                      firstName: Ops Admin
                      email: tester1@opsramp.com
                    updatedBy:
                      loginName: ops_admin_user
                      firstName: Ops Admin
                      email: tester1@opsramp.com
                    resources:
                      - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                        name: LPT00001
                        type: RESOURCE
                      - id: 7_AWS
                        name: AWS
                        type: LOCATION
                      - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                        name: Test Group
                        type: DEVICEGROUP
                      - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                        name: Test SG
                        type: SERVICEGROUP
                      - id: client_6
                        name: Ops Client
                        type: CLIENT
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert  : Description'
                          operator: CONTAINS
                          value:
                            type: critical
                        - key: 'Alert : Occurrence Frequency'
                          operator: GREATERTHANOREQUALTO
                          value:
                            occurrences: 5
                            frequency: 2
                            frequencyType: hours
                        - key: 'Resource : Resource Type'
                          operator: MATCH
                          value:
                            type: DEVICE
                    escalationType: AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED_TICKETED
                    escalations:
                      - waitMins: 5
                        priority: Low
                        repeatFrequency: 5
                        notifyLimitCount: 2
                        action: NOTIFICATION
                        recipients:
                          - id: USR0000000028
                            name: AP_User
                            type: USER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Cloud group
                            type: USERGROUP
                          - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                            name: Cloud roster
                            type: ROSTER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Ops group
                            type: USERGROUP_DL
                      - waitMins: 5
                        updateIncident:
                          none: true
                          priorityRules:
                            - key: currentState.code
                              operator: Is
                              value: Warning
                              businessImpact:
                                uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                                name: Test Ops impact
                                description: Test
                              urgency:
                                uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                                name: Test Ops urgency
                                description: Test
                              priority: High
                        incident:
                          status: New
                          priority: Low
                          assignedUser:
                            id: USR0000000030
                            loginName: OpsAdmin
                            lastName: User
                            firstName: Ops
                            email: opsuser@opsramp.com
                            phoneNumber: ''
                            mobileNumber: '9876543210'
                          assigneeGroup:
                            id: 1
                            name: Test Group
                            description: ''
                            uniqueId: USRGRP-4189ae2e-bcf5-f686-26d0-8b6eabd91558
                          businessImpact:
                            uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                            name: Impact 2
                            description: Impact level 2
                          urgency:
                            uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                            name: Urgency 1
                            description: Urgency level 1
                          customFields:
                            - id: UDF0000000002
                              classCode: INCIDENT
                              displayLabel: Test Cutom
                              name: test_cutom_2
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: '2'
                              defaultValue: ''
                              customField: true
                            - id: UDF0000000004
                              classCode: INCIDENT
                              displayLabel: Esc custom field
                              name: esc_custom_field_4
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: request custom field - text
                              defaultValue: ''
                              customField: true
                          cc: tester1@opsramp.com
                          toEmail: tester2@opsramp.com
                        action: INCIDENT
                        notifyIncident: whenAlertStateChanged
                example-AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED:
                  value:
                    id: POLICY-e29f63f3-951a-4b41-a2a9-94835f6e9a42
                    name: Create escalate alert policy API
                    description: Test description
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T10:35:51+0000'
                    updatedDate: '2017-05-15T10:35:51+0000'
                    active: true
                    enabledMode: 'ON'
                    scope:
                      id: 7
                      uniqueId: client_7
                      name: Netenrich  Client
                      activated: true
                    createdBy:
                      loginName: ops_admin_user
                      firstName: Ops Admin
                      email: opsuser@opsramp.com
                    updatedBy:
                      loginName: ops_admin_user
                      firstName: Ops Admin
                      email: opsuser@opsramp.com
                    resources:
                      - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                        name: LPT00001
                        type: RESOURCE
                      - id: 7_AWS
                        name: AWS
                        type: LOCATION
                      - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                        name: Test Group
                        type: DEVICEGROUP
                      - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                        name: Test SG
                        type: SERVICEGROUP
                      - id: client_6
                        name: Ops Client
                        type: CLIENT
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert : Description'
                          operator: CONTAINS
                          value: critical
                        - key: 'Alert : Occurrence Frequency'
                          operator: GREATERTHANOREQUALTO
                          value:
                            occurrences: '5'
                            frequency: '2'
                            frequencyType: hours
                        - key: 'Resource : Resource Type'
                          operator: MATCH
                          value: DEVICE
                    escalationType: AUTOMATIC_UNTIL_ACKNOWLEDGED_CLOSED_SUPPRESSED
                    escalations:
                      - waitMins: 5
                        priority: Low
                        repeatFrequency: 5
                        notifyLimitCount: 2
                        action: NOTIFICATION
                        recipients:
                          - id: USR0000000028
                            name: AP_User
                            type: USER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Cloud group
                            type: USERGROUP
                          - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                            name: Cloud roster
                            type: ROSTER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Ops group
                            type: USERGROUP_DL
                      - waitMins: 5
                        updateIncident:
                          none: true
                          priorityRules:
                            - key: currentState.code
                              operator: Is
                              value: Warning
                              businessImpact:
                                uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                                name: Test Ops impact
                                description: Test
                              urgency:
                                uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                                name: Test Ops urgency
                                description: Test
                              priority: High
                        incident:
                          status: New
                          priority: Low
                          assignedUser:
                            id: USR0000000030
                            loginName: OpsAdmin
                            lastName: User
                            firstName: Ops
                            email: opsuser@opsramp.com
                            phoneNumber: ''
                            mobileNumber: '9876543210'
                          assigneeGroup:
                            id: 1
                            name: Test Group
                            description: ''
                            uniqueId: USRGRP-4189ae2e-bcf5-f686-26d0-8b6eabd91558
                          businessImpact:
                            uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                            name: Impact 2
                            description: Impact level 2
                          urgency:
                            uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                            name: Urgency 1
                            description: Urgency level 1
                          customFields:
                            - id: UDF0000000002
                              classCode: INCIDENT
                              displayLabel: Test Cutom
                              name: test_cutom_2
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: '2'
                              defaultValue: ''
                              customField: true
                            - id: UDF0000000004
                              classCode: INCIDENT
                              displayLabel: Esc custom field
                              name: esc_custom_field_4
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: request custom field - text
                              defaultValue: ''
                              customField: true
                          cc: tester1@opsramp.com
                          toEmail: tester2@opsramp.com
                        action: INCIDENT
                        notifyIncident: whenAlertStateChanged
                example-MANUAL:
                  value:
                    id: POLICY-a204aea2-f943-46cb-86fa-86197e796f70
                    name: Create escalate alert policy API for NOC123
                    description: Test description
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T11:10:32+0000'
                    updatedDate: '2017-05-15T11:10:32+0000'
                    active: true
                    enabledMode: 'ON'
                    scope:
                      id: 5
                      uniqueId: msp_5
                      name: Ops Partner
                      activated: true
                    createdBy:
                      loginName: ops_admin_user
                      firstName: Ops Admin
                      email: opsuser@opsramp.com
                    updatedBy:
                      loginName: ops_admin_user
                      firstName: Ops Admin
                      email: opsuser@opsramp.com
                    resources:
                      - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                        name: LPT00001
                        type: RESOURCE
                      - id: 7_AWS
                        name: AWS
                        type: LOCATION
                      - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                        name: Test Group
                        type: DEVICEGROUP
                      - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                        name: Test SG
                        type: SERVICEGROUP
                      - id: client_6
                        name: Ops Client
                        type: CLIENT
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert : Description'
                          operator: CONTAINS
                          value: critical
                    escalationType: MANUAL
                    escalations:
                      - action: NOTIFICATION
                        recipients:
                          - id: USR0000000019
                            name: mani_partner
                            type: USER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Cloud group
                            type: USERGROUP
                          - id: ES-d16473ee-29de-1cf2-4983-86307733e34c
                            name: Test roster
                            type: ROSTER
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/escalations/{policyId}':
    summary: Manage alert escalation policy
    description: 'Gets, update, and delete alert escalation policy information.'
    delete:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  policyType:
                    type: string
                  clientMatchingType:
                    type: string
                  createdDate:
                    type: string
                    format: date-time
                  updatedDate:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  scope:
                    type: object
                    properties:
                      uniqueId:
                        type: string
                      name:
                        type: string
                      activated:
                        type: boolean
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  updatedBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  allClients:
                    type: boolean
                  resources:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        resourceType:
                          type: string
                        aliasName:
                          type: string
                        hostName:
                          type: string
                  filterCriteria:
                    type: object
                    properties:
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            key:
                              type: string
                            operator:
                              type: string
                            value:
                              type: string
                  escalationType:
                    type: string
                  escalations:
                    type: array
                    items:
                      type: object
                      properties:
                        waitMins:
                          type: integer
                        priority:
                          type: string
                        repeatFrequency:
                          type: integer
                        notifyLimitCount:
                          type: integer
                        action:
                          type: string
                        recipients:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              name:
                                type: string
                              type:
                                type: string
                        incident:
                          type: object
                          properties:
                            status:
                              type: string
                            priority:
                              type: string
                            assignedUser:
                              type: object
                              properties:
                                loginName:
                                  type: string
                                lastName:
                                  type: string
                                firstName:
                                  type: string
                                email:
                                  type: string
                                phoneNumber:
                                  type: string
                                mobileNumber:
                                  type: string
                            customFields:
                              type: array
                              items:
                                type: object
                                properties:
                                  fieldName:
                                    type: string
                            businessImpact:
                              type: object
                              properties:
                                uniqueId:
                                  type: string
                                name:
                                  type: string
                                description:
                                  type: string
                            urgency:
                              type: object
                              properties:
                                uniqueId:
                                  type: string
                                name:
                                  type: string
                                description:
                                  type: string
                            toEmail:
                              type: string
                            machineLearning:
                              type: object
                              properties:
                                continuousLearning:
                                  type: boolean
                                learnedFieldsToOutputColumnsMap:
                                  type: object
                                  properties:
                                    Assignee Group:
                                      type: string
                                    Priority:
                                      type: string
                        updateIncident:
                          type: object
                          properties:
                            none:
                              type: boolean
                            priorityRules:
                              type: array
                              items:
                                type: object
                                properties:
                                  key:
                                    type: string
                                  operator:
                                    type: string
                                  value:
                                    type: string
                                  businessImpact:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  urgency:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                        notifyIncident:
                          type: string
              examples:
                example-1:
                  value:
                    id: POLICY-9d6bbe58-2bf6-41cc-9983-fca53b64c9e7
                    name: Cloud Instance Alerts Policy
                    description: ''
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T12:13:31+0000'
                    updatedDate: '2017-05-15T12:13:31+0000'
                    active: true
                    scope:
                      uniqueId: msp_5
                      name: Luminalto
                      activated: true
                    createdBy:
                      loginName: John.Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    updatedBy:
                      loginName: John.Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@myorganization.com
                    allClients: true
                    resources:
                      - id: 7447fef1-68ee-4c2a-a366-273abc819dbc
                        name: ESC00002
                        type: RESOURCE
                        resourceType: RESOURCE
                        aliasName: ''
                        resourceName: ''
                        hostName: Device11
                      - id: 59d820d3-7a64-4329-ba9c-bb9c14a4815c
                        name: Device12
                        type: RESOURCE
                        resourceType: RESOURCE
                        aliasName: ''
                        resourceName: ''
                        hostName: Device12
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert  : Description'
                          operator: CONTAINS
                          value: critical
                    escalationType: AUTOMATIC
                    escalations:
                      - waitMins: 0
                        priority: High
                        repeatFrequency: 10
                        notifyLimitCount: 2
                        action: NOTIFICATION
                        recipients:
                          - id: ES-d16473ee-29de-1cf2-4983-86307733e34c
                            name: Support Team
                            type: ROSTER
                          - id: USR0000000019
                            name: Jim Bolt
                            type: USER
                      - action: INCIDENT
                        waitMins: 5
                        incident:
                          status: New
                          priority: Low
                          assignedUser:
                            loginName: James.Hudson
                            lastName: Hudson
                            firstName: James
                            email: james.hudson@myorganization.com
                            phoneNumber: ''
                            mobileNumber: 802-123-4123
                          customFields:
                            - id: UDF0000000002
                              classCode: INCIDENT
                              displayLabel: Component
                              name: test_cutom_2
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: Test1
                              defaultValue: Default Component
                              customField: true
                          businessImpact:
                            uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                            name: Impact 3
                            description: SP Level Impact
                          urgency:
                            uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                            name: Urgency 3
                            description: SP Level Urgency
                          toEmail: support@myorganization
                          machineLearning:
                            continuousLearning: false
                            learnedFieldsToOutputColumnsMap:
                              Assignee Group: incident.assigneeGroup
                              Priority: incident.priority
                        updateIncident:
                          none: true
                          priorityRules:
                            - key: currentState.code
                              operator: Is
                              value: Warning
                              businessImpact:
                                uniqueId: SIMPACT-d8853b21-ebc5-dd1d-d9a3-7a7b121ae0e
                                name: Test Ops impact
                                description: ''
                              urgency:
                                uniqueId: SURG-59358506-4bf1-4d35-c902-de3b14a00c10
                                name: Test Ops urgency
                                description: ''
                              priority: High
                        notifyIncident: forEveryUpdate
      parameters:
        - schema:
            type: string
          in: query
          name: scope
          description: 'Users, User Groups, and Rosters to receive the escalations.'
        - schema:
            type: string
          in: query
          name: rosters
          description: |
            Roster is a list of users part of the schedule doing particular duty.
        - schema:
            type: string
            enum:
              - MANUAL
              - AUTOMATIC
          in: query
          name: escalationType
          description: |
            Escalation rules are actions taken when an alert is not acknowledged within the desired time.OpsRamp supports manual and automatic escalation types.
        - schema:
            type: string
            enum:
              - NOTIFICATION
              - INCIDENT
          in: query
          name: action
          description: |-
            Escalation action to take
            - Escalate as Notification implies to send periodic notifications to users until the alert is acknowledged.
            - Escalate as Incident implies to automatically create an incident from the alert and assign to the desired user/team.
        - schema:
            type: string
          in: query
          name: escalations
          description: |
            Information about the escalation actions.
        - schema:
            type: string
          in: query
          name: waitMins
          description: |
            The time interval to escalate an alert after generation. Escalate after the alert has elapsed the set time.
        - schema:
            type: string
          in: query
          name: notifyLimitCount
          description: |-
            A threshold limit on the number of notifications a user receives.
            Example: notifyLimitCount: 5
        - schema:
            type: string
          in: query
          name: alertStateTransitionFrom
          description: |
            For every change in the alert state, user receives notifications.
        - schema:
            type: string
          in: query
          name: recipients
          description: |-
            - For escalationType: MANUAL- Users to contact directly. User ID (or) name.
            - For escalationType: AUTOMATIC- Recipients who receives notifications.
        - schema:
            type: string
          in: query
          name: allClients
          description: |
            This string helps to differentiate between partner and client escalation policies. allClients: true indicates the policy is a partner level policy.
        - schema:
            type: string
          in: query
          name: machineLearning
          description: |-
            This string indicates that machine-learning is enabled to automatically escalate an incident to appropriate teams.
            - Machine-learning enabled incident attributes:
            Example: Assignee Group, Priority
                - "Assignee Group" is the Incident attribute and "incident.assigneeGroup" is the respective output column in a CSV file.
            - learnedFieldsToOutputColumnsMap"Assignee Group": "incident.assigneeGroup","Priority": "incident.priority"
        - schema:
            type: string
          in: query
          name: repeatFrequency
          description: |-
            The time interval when a user receives repeated notifications.
            This example indicates that a user receives repeated notifications every 15 minutes: repeatFrequency: 15.
    post:
      description: |-
        When the escalation action is set to INCIDENT, an incident is automatically created from the alert and assigned to the desired user/team.
        - Create New Incident
        - Update Incident

        No further level of escalation can be added as the escalation ends when an incident is created from the alert.
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  policyType:
                    type: string
                  clientMatchingType:
                    type: string
                  createdDate:
                    type: string
                    format: date-time
                  updatedDate:
                    type: string
                    format: date-time
                  active:
                    type: boolean
                  scope:
                    type: object
                    properties:
                      uniqueId:
                        type: string
                      name:
                        type: string
                      activated:
                        type: boolean
                      id:
                        type: integer
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  updatedBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  resources:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                  filterCriteria:
                    type: object
                    properties:
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            key:
                              type: string
                            operator:
                              type: string
                            value:
                              type: object
                              properties:
                                occurrences:
                                  type: integer
                                frequency:
                                  type: integer
                                frequencyType:
                                  type: string
                  escalationType:
                    type: string
                  escalations:
                    type: array
                    items:
                      type: object
                      properties:
                        waitMins:
                          type: integer
                        priority:
                          type: string
                        repeatFrequency:
                          type: integer
                        action:
                          type: string
                        recipients:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              name:
                                type: string
                              type:
                                type: string
                        incident:
                          type: object
                          properties:
                            status:
                              type: string
                            priority:
                              type: string
                            assignedUser:
                              type: object
                              properties:
                                loginName:
                                  type: string
                                lastName:
                                  type: string
                                firstName:
                                  type: string
                                email:
                                  type: string
                                phoneNumber:
                                  type: string
                                mobileNumber:
                                  type: string
                            customFields:
                              type: array
                              items:
                                type: object
                                properties:
                                  fieldName:
                                    type: string
                            toEmail:
                              type: string
                            assigneeGroup:
                              type: object
                              properties:
                                uniqueId:
                                  type: string
                                name:
                                  type: string
                                description:
                                  type: string
                                id:
                                  type: string
                            cc:
                              type: string
                        updateIncident:
                          type: object
                          properties:
                            none:
                              type: boolean
                            priorityRules:
                              type: array
                              items:
                                type: object
                                properties:
                                  key:
                                    type: string
                                  operator:
                                    type: string
                                  value:
                                    type: string
                                  businessImpact:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  urgency:
                                    type: object
                                    properties:
                                      uniqueId:
                                        type: string
                                      name:
                                        type: string
                                      description:
                                        type: string
                                  priority:
                                    type: string
                        notifyIncident:
                          type: string
              examples:
                example-automatic-escalation:
                  value:
                    id: POLICY-e29f63f3-951a-4b41-a2a9-94835f6e9a42
                    name: Network Devices Down
                    description: Issue in Network devices.
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T10:35:51+0000'
                    updatedDate: '2017-05-15T10:35:51+0000'
                    active: true
                    scope:
                      id: 7
                      uniqueId: client_7
                      name: AB Client
                      activated: true
                    createdBy:
                      loginName: John.Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@domain.com
                    updatedBy:
                      loginName: vJohn.Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@domain.com
                    resources:
                      - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                        name: LPT00001
                        type: RESOURCE
                      - id: 7_AWS
                        name: AWS
                        type: LOCATION
                      - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                        name: Test Group
                        type: DEVICEGROUP
                      - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                        name: Test SG
                        type: SERVICEGROUP
                      - id: client_6
                        name: OpsRamp Client
                        type: CLIENT
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert   : Description'
                          operator: CONTAINS
                          value: critical
                        - key: 'Alert : Occurrence Frequency'
                          operator: GREATERTHANOREQUALTO
                          value:
                            occurrences: '5'
                            frequency: '2'
                            frequencyType: days
                    escalationType: AUTOMATIC
                    escalations:
                      - waitMins: 5
                        priority: Low
                        repeatFrequency: 5
                        action: NOTIFICATION
                        recipients:
                          - id: USR0000000028
                            name: AP_User
                            type: USER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Cloud group
                            type: USERGROUP
                          - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                            name: Cloud roster
                            type: ROSTER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: OpsRamp group
                            type: USERGROUP_DL
                      - waitMins: 5
                        updateIncident:
                          none: true
                          priorityRules:
                            - key: currentState.code
                              operator: Is
                              value: Warning
                              businessImpact:
                                uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                                name: High Level Impact
                                description: The issue may cause fluctuations in network.
                              urgency:
                                uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                                name: High
                                description: Need to fix within 2 hours.
                              priority: High
                        incident:
                          status: New
                          priority: Low
                          assignedUser:
                            id: USR0000000030
                            loginName: James.Rivers
                            lastName: Rivers
                            firstName: James
                            email: James.Rivers@domain.com
                            phoneNumber: ''
                            mobileNumber: 406-559-1234
                          assigneeGroup:
                            id: 1
                            name: Network Group
                            description: ''
                            uniqueId: USRGRP-4189ae2e-bcf5-f686-26d0-8b6eabd91558
                          customFields:
                            - id: UDF0000000002
                              classCode: INCIDENT
                              displayLabel: Number of attached incidents
                              name: Attached Incidents
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: '2'
                              defaultValue: ''
                              customField: true
                            - id: UDF0000000004
                              classCode: INCIDENT
                              displayLabel: Incident History
                              name: Incident History
                              fieldType: TYPE_TEXT
                              mandatory: false
                              editable: true
                              description: ''
                              value: request custom field - text
                              defaultValue: ''
                              customField: true
                          cc: support@domain.com
                          toEmail: james.scott@domain.com
                        action: INCIDENT
                        notifyIncident: whenAlertStateChanged
                example-manual-escalation:
                  value:
                    id: POLICY-a204aea2-f943-46cb-86fa-86197e796f70
                    name: Network Devices Down
                    description: Issues in network devices.
                    policyType: ESCALATION_POLICY
                    clientMatchingType: ALL
                    createdDate: '2017-05-15T11:10:32+0000'
                    updatedDate: '2017-05-15T11:10:32+0000'
                    active: true
                    scope:
                      id: 5
                      uniqueId: msp_5
                      name: OpsRamp Partner
                      activated: true
                    createdBy:
                      loginName: John.Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@domain.com
                    updatedBy:
                      loginName: John.Smith
                      lastName: Smith
                      firstName: John
                      email: john.smith@domain.com
                    resources:
                      - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                        name: LPT00001
                        type: RESOURCE
                      - id: 7_AWS
                        name: AWS
                        type: LOCATION
                      - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                        name: Network Group
                        type: DEVICEGROUP
                      - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                        name: Network Service Group
                        type: SERVICEGROUP
                      - id: client_6
                        name: OpsRamp Client
                        type: CLIENT
                    filterCriteria:
                      matchingType: ALL
                      rules:
                        - key: 'Alert  : Description'
                          operator: CONTAINS
                          value: critical
                    escalationType: MANUAL
                    escalations:
                      - action: NOTIFICATION
                        recipients:
                          - id: USR0000000019
                            name: Partner.A
                            type: USER
                          - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                            name: Cloud group
                            type: USERGROUP
                          - id: ES-d16473ee-29de-1cf2-4983-86307733e34c
                            name: Test roster
                            type: ROSTER
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    (Optional) Escalation policy name.
                description:
                  type: string
                  description: |
                    (Optional) Escalation policy description.
                resources:
                  type: array
                  description: |-
                    (Optional) Resources on which the policy would be applied.
                    1. Resource ID
                    2. Resource type Example: DEVICE,Use the following APIs to fetch the resource types:
                        1. DEVICE: Search Devices or Get Minimal Details of Resources API to fetch the list of devices or resources in a client.
                        2. DEVICEGROUP: Get Child Device Groups and Get Root Level Device Groups to fetch the list of device groups.
                        3. SERVICEGROUP: Get Service Groups to fetch the list of service groups.
                        4. LOCATION: Search Sites to fetch the list of sites.
                        5. CLIENT: Search Clients to fetch the list of clients. Only partner users have permission to fetch the details of client.
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      type:
                        type: string
                        enum:
                          - DEVICE
                          - DEVICEGROUP
                          - SERVICEGROUP
                          - LOCATION
                          - CLIENT
                filterCriteria:
                  type: object
                  properties:
                    matchingType:
                      type: string
                      description: (Optional) Define alert conditions for the policy. Only the filtered alerts are escalated. All the alerts on the resource will match this policy if NO condition is defined. Match ANY or ALL of the filter rules.
                      enum:
                        - ALL
                        - ANY
                    rules:
                      type: array
                      description: Conditions to filter the alerts.
                      items:
                        type: object
                        properties:
                          key:
                            type: string
                            enum:
                              - 'Alert: Created Date'
                              - 'Alert: Description'
                              - 'Alert: Event Type'
                              - 'Alert: Healed Time'
                              - 'Alert: Metric'
                              - 'Alert: No of Occurrence'
                              - 'Alert: Source'
                              - 'Alert: State'
                              - 'Alert: Subject'
                              - 'Alert: Type'
                              - 'Alert: Update Time'
                              - 'Alert: Update Time'
                              - 'Resource: Aws Instance Name'
                              - 'Resource: Instance Id'
                              - 'Resource: Resource IP'
                              - 'Resource: Resource Name'
                              - 'Resource: Resource Type'
                            description: |-
                              Unique attribute to filter the alert.Use Get Alert Types API to fetch the list of alert types.Alert: Occurrence Frequency: Escalate alerts which trigger repeatedly despite Acknowledge/Suppress actions. Below are the fields for alert occurrence frequency:

                              occurrences
                              Datatype: Integer
                              Description: Rate at which an alert triggers repeatedly over a particular duration. Example: 5

                              frequency
                              Data Type: Integer
                              Description: Duration in which alert triggers repeatedly. Example: 2

                              frequencyType
                              Data Type: String
                              Description: Provide the type of duration.Supported values: hours, days, weeks. Example: days
                              Consider a scenario where a user wants to escalate alerts which trigger repeatedly for 5 times in 2 days. For this scenario, the values are provided as
                              "occurrences": 5
                              "frequency": 2
                              "frequencyType": "days"
                          operator:
                            type: string
                            enum:
                              - Contains
                              - Not Contains
                              - Equals
                              - Not Equals
                              - Starts with
                              - Ends with
                              - Regex
                              - Is
                            description: 'Operating values to filter the resource types. Operators Is and Is Not are applicable only for "key": "Resource: Resource Type"'
                          value:
                            type: object
                            description: |-
                              Unique information of alert. Example: Critical.
                              Example for filter rules: key: Alert: Subject, operator: Contains, value: Critical, this implies that filter the alerts that contain the subject critical.
                            properties:
                              occurrences:
                                type: integer
                              frequency:
                                type: integer
                              frequencyType:
                                type: string
                escalationType:
                  type: string
                  description: |-
                    Escalation rules are actions to be taken when an alert is not acknowledged within the desired time. OpsRamp supports manual and automatic escalation types.

                    If escalation Type is Manual, then escalations would be:
                    - recipients

                    If escalation Type is Automatic, then escalations would be:
                    - waitMins
                    - action
                  enum:
                    - MANUAL
                    - AUTOMATIC
                escalations:
                  type: array
                  items:
                    type: object
                    properties:
                      waitMins:
                        type: integer
                        description: |-
                          Configure the time interval to escalate an alert after it is generated. Escalate after the alert has elapsed the set time.

                          Convert hours and days to minutes and provide the minutes time format. Example: For 6 hours provide the value as 360 minutes.

                          Acceptable values: 0 to 30 mins, 45 mins
                          1 to 6 hours, 12 hours
                          1 day, 3 days, 5 days, 7 days, 10 days
                      priority:
                        type: string
                        description: |
                          Priority of the notification.
                        enum:
                          - Very Low
                          - Low
                          - Normal
                          - High
                          - Urgent
                      repeatFrequency:
                        type: integer
                        description: |-
                          Repeat alert notification at specific time intervals. Example: If repeatFrequency is set as 15 minutes, then the alert notification would repeat every 15 minutes until the alert is acknowledged.
                          Convert hours to minutes.

                          Acceptable values: 5 mins, 10 mins, 15 mins, 20 mins, 30 mins, 1 hour, 2 hours, 3 hours, 4 hours, 6 hours, 8 hours, 12 hours, 24 hours
                      action:
                        type: string
                        description: Escalation action to be taken.Escalate as Notification implies to send periodic notifications to users until the alert is acknowledged. Escalate as Incident implies to automatically create an incident from the alert and assign it to the desired user or team.
                        enum:
                          - NOTIFICATION
                          - INCIDENT
                      recipients:
                        type: array
                        description: ''
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: |
                                (Optional) Users to contact directly. User ID (or) name.
                            name:
                              type: string
                              description: |
                                (Optional) Users to contact directly. User ID (or) name.
                            type:
                              type: string
                              enum:
                                - USERS
                                - USER GROUPS
                                - ROSTERS
                                - USERGROUP_DL
                              description: |-
                                Recipient type. Example: USER
                                Use the following APIs to fetch the recipient types:
                                1. Search Users to fetch the list of users.
                                2. Search User Groups to fetch the list of user groups.
                                3. Search Rosters to fetch the list of Rosters.
                                4. User Group which has distributed list of email addresses. Click here to know more about User Group Distribution List. Provide only the user group IDs which have distributed list of email address configured in OpsRamp.
                      updateIncident:
                        type: object
                        description: |2-



























































































                            Configure how to update an existing incident of an escalated alert.

                          If an Open incident (other than Closed) is available for the alert, the incident gets updated instead of creating a new incident.

                          Either "none" or "withAlertState" must be included
                        properties:
                          none:
                            type: boolean
                            description: The latest description is appended on the alert. NO change to the status of the incident is made based on escalated alert's state.
                          withAlertState:
                            type: boolean
                            description: The incident gets updated every time the escalated alert repeats with a state change.
                          priorityRules:
                            type: array
                            description: |-
                              Update incident priority based on these rules:
                              1. Unique attribute of the alert. Example: Alert State
                              2. Operating values to filter the incident. Example: Is
                              3. Status of the incident. Example: Critical
                              4. The severity of an incident on the business. Use Get Business Impacts to get the list of defined business impacts.
                              5. Urgency to prioritize and work on the incident. Use Get Urgencies to get the list of defined urgencies.
                              6. Priority of the incident. This can be defined with respect to business impact and urgency.
                            items:
                              type: object
                              properties:
                                key:
                                  type: string
                                  description: 'Value for key is [currentState.code].'
                                operator:
                                  type: string
                                  description: Supported value for operator - Is.
                                  enum:
                                    - Is
                                value:
                                  type: string
                                  description: 'Supported values for the priority rule value are Warning, Critical.'
                                  enum:
                                    - Warning
                                    - Critical
                                businessImpact:
                                  type: object
                                  description: ID of the business impact.
                                  properties:
                                    uniqueId:
                                      type: string
                                urgency:
                                  type: object
                                  description: Urgency to prioritize the incident.
                                  properties:
                                    uniqueId:
                                      type: string
                                priority:
                                  type: string
                                  description: 'Supported value for priority are Low, Normal, High, Urgent, Very Low.'
                                  enum:
                                    - Low
                                    - Normal
                                    - High
                                    - Urgent
                                    - Very Low
                      notifyIncident:
                        type: string
                        enum:
                          - forEveryUpdate
                          - whenAlertStateChanged
                        description: Notify users when incident is updated due to change in alert state.
                      incident:
                        type: object
                        description: 'Create New Incident: Configure the properties of an incident that will be created when an alert''s condition matches with this policy.'
                        properties:
                          priority:
                            type: string
                            description: Priority of the incident. This can be defined with respect to business impact and urgency.
                            enum:
                              - Low
                              - Normal
                              - High
                              - Urgent
                              - Very Low
                          assigneeGroup:
                            type: object
                            description: |
                              Escalate incident to a user group who would be responsible for working on the incident
                            properties:
                              uniqueId:
                                type: string
                              name:
                                type: string
                          assignedUser:
                            type: object
                            description: |
                              Escalate incident to a user
                            properties:
                              id:
                                type: string
                              loginName:
                                type: string
                          customFields:
                            type: array
                            description: |
                              User customized fields. User can include additional information of incident by creating custom fields. Use Get Incident Custom Fields to get the custom forms of incident.
                            items:
                              type: object
                              properties:
                                id:
                                  type: string
                                name:
                                  type: string
                                value:
                                  type: string
                          cc:
                            type: object
                            description: |
                              User would receive the incident notifications via email.
                            properties:
                              toEmail:
                                type: string
                          businessImpact:
                            description: The severity of an incident on the business. Use Get Business Impacts to get the list of defined business impacts.
                            type: object
                            properties:
                              uniqueId:
                                type: string
                          urgency:
                            type: object
                            properties:
                              uniqueId:
                                type: string
                                description: |
                                  Urgency to prioritize and work on the incident. Use Get Urgencies to get the list of defined urgencies.
                      notifyLimitCount:
                        type: integer
                        description: |-
                          Number of repeated notifications a user has to receive within a certain time interval. For example, if repeatFrequency: 15 and notifyLimitCount: 5. The above example indicates that user receives notifications every 15 minutes and stops receiving after 5 notifications. When a notification limit count is not provided, the default notifyLimitCount is 2.

                          Can be set from 1 to 10.
                        default: 2
                      alertStateTransitionFrom:
                        type: string
                        enum:
                          - CRITICAL
                          - WARNING
                        description: 'Escalate alerts as notification on a change in alert state. For example, escalate alerts as notification when alert state changes from Warning to Critical. The notification is a one-time notification sent at the time of the state transition.'
            examples:
              example-automatic-escalation:
                value:
                  name: Network Devices Down
                  description: Issues in network devices.
                  resources:
                    - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                      type: RESOURCE
                    - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                      type: DEVICEGROUP
                    - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                      type: SERVICEGROUP
                    - id: 7_AWS
                      type: LOCATION
                    - id: client_7
                      type: CLIENT
                  filterCriteria:
                    matchingType: ANY
                    rules:
                      - key: 'Alert   : Description'
                        operator: CONTAINS
                        value: critical
                      - key: 'Alert : Occurrence Frequency'
                        operator: GREATERTHANOREQUALTO
                        value:
                          occurrences: '5'
                          frequency: '2'
                          frequencyType: days
                  escalationType: AUTOMATIC
                  escalations:
                    - waitMins: 5
                      priority: Low
                      repeatFrequency: 5
                      action: NOTIFICATION
                      recipients:
                        - id: USR0000000028
                          name: AP_User
                          type: USER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Cloud group
                          type: USERGROUP
                        - id: ES-de9bfd9f-d8ee-430f-4bc0-e6e4645cdb47
                          name: Cloud roster
                          type: ROSTER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: OpsRamp group
                          type: USERGROUP_DL
                    - waitMins: 5
                      action: INCIDENT
                      updateIncident:
                        none: 'true'
                        withAlertState: 'true'
                        priorityRules:
                          - key: currentState.code
                            operator: Is
                            value: Warning
                            businessImpact:
                              uniqueId: SIMPACT-e8853b21-ebc5-dd1d-d9a3-7a7b121a5e0f
                            urgency:
                              uniqueId: SURG-09358506-4af1-4d35-b902-cd3b14a00c10
                            priority: High
                      notifyIncident: whenAlertStateChanged
                      incident:
                        priority: Very Low
                        assigneeGroup:
                          uniqueId: USRGRP-4189ae2e-bcf5-f686-26d0-8b6eabd91558
                          name: Network Group
                        assignedUser:
                          id: USR0000000030
                          loginName: Ops_User
                        customFields:
                          - id: UDF0000000002
                            name: Number of attached incidents
                            value: '2'
                          - id: UDF0000000004
                            name: esc_custom_field_4
                            value: |-
                              $function.substring($alert.description ,'SITE ID=','
                              ')
                        cc: support@domain.com
                        toEmail: james.scott@domain.co
              example-manual-escalation:
                value:
                  id: POLICY-a204aea2-f943-46cb-86fa-86197e796f70
                  name: Network Devices Down
                  description: Issues in network devices.
                  policyType: ESCALATION_POLICY
                  clientMatchingType: ALL
                  createdDate: '2017-05-15T11:10:32+0000'
                  updatedDate: '2017-05-15T11:10:32+0000'
                  active: true
                  scope:
                    id: 5
                    uniqueId: msp_5
                    name: OpsRamp Partner
                    activated: true
                  createdBy:
                    loginName: John.Smith
                    lastName: Smith
                    firstName: John
                    email: john.smith@domain.com
                  updatedBy:
                    loginName: John.Smith
                    lastName: Smith
                    firstName: John
                    email: john.smith@domain.com
                  resources:
                    - id: bf3a10a2-92f1-4610-b3f4-174ed83db7b9
                      name: LPT00001
                      type: RESOURCE
                    - id: 7_AWS
                      name: AWS
                      type: LOCATION
                    - id: DGP-0b165e70-7152-49f1-bfe3-ebe77409d5f2
                      name: Network Group
                      type: DEVICEGROUP
                    - id: SGP-11f1a6a8-acc8-411f-86c1-b693dd8e9817
                      name: Network Service Group
                      type: SERVICEGROUP
                    - id: client_6
                      name: OpsRamp Client
                      type: CLIENT
                  filterCriteria:
                    matchingType: ALL
                    rules:
                      - key: 'Alert  : Description'
                        operator: CONTAINS
                        value: critical
                  escalationType: MANUAL
                  escalations:
                    - action: NOTIFICATION
                      recipients:
                        - id: USR0000000019
                          name: Partner.A
                          type: USER
                        - id: USRGRP-9498fc95-67b7-3477-953f-1ec70bf0c61d
                          name: Cloud group
                          type: USERGROUP
                        - id: ES-d16473ee-29de-1cf2-4983-86307733e34c
                          name: Test roster
                          type: ROSTER
    parameters:
      - in: path
        name: tenantId
        schema:
          type: string
        required: true
        description: Describes the client ID or msp ID of the tenant
      - name: policyId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Policy unique identifier
  '/api/v2/tenants/{tenantId}/escalations/{policyId}/disable':
    summary: Disable alert escalation policy
    description: Disables an alert escalation policy.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - in: path
        name: tenantId
        schema:
          type: string
        required: true
        description: Describes the client ID or msp ID of the tenant
      - name: policyId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Policy unique identifier
  '/api/v2/tenants/{tenantId}/escalations/{policyId}/enable':
    summary: Enable alert escalation policy
    description: Enables an alert escalation policy.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - in: path
        name: tenantId
        schema:
          type: string
        required: true
        description: Describes the client ID or msp ID of the tenant
      - name: policyId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Policy unique identifier
  '/api/v2/tenants/{tenantId}/escalations/search':
    summary: Get alert escalation policies
    description: |-
      Gets the alert escalation policies attached to an alert.

      ##### Notes
      There are special characters that can be used in a query string:
      (+) represents the next field and must be URL-encoded.
      (:) represents equals. An example is key : value.
      Space characters must be URL-encoded.
      Date format must be yyyy-MM-ddTHH:mm:ssZ (GMT).

      ##### Query Variables
      |Query Variable|Values|Description|
      |-----|-----|-----|
      |name|NA|Alert Escalation policy name. Only identical policies in query string name are displayed.|
      |allList|true, false|This string is applicable to a partner user to fetch client policies as well. By default, OpsRamp provides partner alert escalation policies if allList is not provided in the query string.<br> - Provide allList: true to fetch partner and client alert escalation policies.<br> - Provide allList: false to fetch only partner alert escalation policies.|
      |startCreationDate|NA|Search for policies created within a certain time frame. Provide a start date. An example: 2017-05-05T13:25:15 0000|
      |endCreationDate|NA|Provide an end date. An example: 2017-05-08T10:30:40 0000|
      |startUpdationDate|NA|Search for policies updated within a certain time frame. Provide a start date. An example: 2017-06-10T09:20:10 0000|
      |endUpdationDate|NA|Provide an end date. An example: 2017-06-15T08:10:30 0000|

      Use `"scope"` and `"allClients": true` to differentiate between partner and client level policies.

      Partner-level policy:
      - `"uniqueId"` in scope is specified as msp_id
      - `"allClients": true` indicates the policy is a partner level policy

      Client-level policy:
      - `"uniqueId"` in scope is specified as `"client_id"`.
    get:
      tags:
        - alerts
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
        - schema:
            type: boolean
            default: 'true'
          in: query
          name: isDescendingOrder
        - schema:
            type: string
          in: query
          name: sortName
        - schema:
            type: string
          in: query
          name: queryString
      responses:
        '200':
          description: |-
            OK

            ##### Notes
            `"mlBased"` indicates a machine-learning based alert escalation policy:
            - `"mlBased": true` indicates the machine-learning based escalation policy.
            - `"mlBased": false` indicates manual escalation policy.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        policyType:
                          type: string
                        createdDate:
                          type: string
                          format: date-time
                        updatedDate:
                          type: string
                          format: date-time
                        active:
                          type: boolean
                        mlBased:
                          type: boolean
                        scope:
                          type: object
                          properties:
                            uniqueId:
                              type: string
                            name:
                              type: string
                            activated:
                              type: boolean
                        allClients:
                          type: boolean
                  totalResults:
                    type: integer
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - id: POLICY-a0250f66-bf3a-7568-edef-83e7e8ac4231
                        name: SJ Network Maintenance
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-05T13:25:15+0000'
                        updatedDate: '2017-05-16T04:32:14+0000'
                        active: false
                        mlBased: false
                        scope:
                          uniqueId: client_7
                          name: Luminalto
                          activated: true
                      - id: POLICY-dbfd8922-1efe-3b4c-8881-aec1518cc2fc
                        name: Network Maintenance Issue
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-05T13:25:23+0000'
                        updatedDate: '2017-05-15T11:08:06+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: msp_5
                          name: Ops Partner
                          activated: true
                        allClients: true
                      - id: POLICY-5f2d43f2-32cb-3322-a863-19012cfa6c40
                        name: Wifi-Service Issues
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-05T13:25:32+0000'
                        updatedDate: '2017-05-05T13:25:32+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: msp_5
                          name: Ops Partner
                          activated: true
                        allClients: true
                      - id: POLICY-482ebe14-dac7-5d13-24a3-e219fd71d6c7
                        name: Alert Critical- Network
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-05T13:25:43+0000'
                        updatedDate: '2017-05-05T13:25:43+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_7
                          name: Luminalto
                          activated: true
                      - id: POLICY-8d2b558a-42dd-94aa-edd9-811515bef274
                        name: CG Network Infrastructure
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-05T13:25:51+0000'
                        updatedDate: '2017-05-05T13:25:51+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_7
                          name: Luminalto
                          activated: true
                      - id: POLICY-b2d28729-fc38-2cd8-ab57-b60d9366f5fa
                        name: Escalate alert to WC Network team
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-05T13:26:14+0000'
                        updatedDate: '2017-05-05T13:26:14+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_6
                          name: Online Services
                          activated: true
                      - id: POLICY-31c5640e-e9bd-83ee-3fce-46e444855dfe
                        name: Network issue- Low
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-08T07:46:14+0000'
                        updatedDate: '2017-05-14T11:43:45+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_6
                          name: Online Services
                          activated: true
                      - id: POLICY-8b2c57b5-77e2-47c8-b849-4f9bb71d280d
                        name: Cloud Instance Escalation
                        description: Test description
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-15T08:17:00+0000'
                        updatedDate: '2017-05-15T08:17:57+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_6
                          name: Online Services
                          activated: true
                      - id: POLICY-d25263af-9cd4-4964-bd8b-f8ede21af086
                        name: Discovery Issues
                        description: Test description
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-15T08:27:30+0000'
                        updatedDate: '2017-05-15T08:28:05+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_6
                          name: Online Services
                          activated: true
                      - id: POLICY-9d6bbe58-2bf6-41cc-9983-fca53b64c9e7
                        name: Windows Server Monitoring
                        description: ''
                        policyType: ESCALATION_POLICY
                        createdDate: '2017-05-15T12:13:31+0000'
                        updatedDate: '2017-05-15T12:13:31+0000'
                        active: true
                        mlBased: false
                        scope:
                          uniqueId: client_6
                          name: Online Services
                          activated: true
                    totalResults: 10
                    pageNo: 1
                    pageSize: 20
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
      summary: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/acknowledge':
    summary: Acknowledge alert
    description: Acknowledges an alert.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
      description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/actions/{action}':
    summary: Post action on an alert
    description: |-
      Posts an action on an alert.

      ##### Notes
      When unacknowledge or unsuppress is specified, the alert status becomes either open or ticketed (if there is an incident ID associated with the alert).
    post:
      tags:
        - alerts
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                description:
                  type: string
            examples:
              example-1:
                value:
                  description: close a ticket
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
      - $ref: '#/components/parameters/action'
  '/api/v2/tenants/{tenantId}/alerts/event/{eventId}':
    summary: Get alert details by event ID
    description: |-
      Gets alert details by event ID.

      ##### Notes
      - A list of event IDs is generated when alerts are created. This list is valid for 30 days.
      - Use the event IDs to search and get alert details.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  uniqueId:
                    type: string
                  subject:
                    type: string
                  description:
                    type: string
                  currentState:
                    type: string
                  oldState:
                    type: string
                  serviceName:
                    type: string
                  acknowledged:
                    type: boolean
                  suppressed:
                    type: boolean
                  permanentlySuppressed:
                    type: boolean
                  closed:
                    type: boolean
                  ticketed:
                    type: boolean
                  clientUniqueId:
                    type: string
                  alertType:
                    type: string
                  app:
                    type: string
                  alertTime:
                    type: string
                    format: date-time
                  device:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      hostName:
                        type: string
                      ipAddress:
                        type: string
                      type:
                        type: string
                      aliasName:
                        type: string
                      resourceName:
                        type: string
                      resourceType:
                        type: string
                  resource:
                    type: object
                    properties:
                      id:
                        type: string
                      hostName:
                        type: string
                      ipAddress:
                        type: string
                      type:
                        type: string
                      aliasName:
                        type: string
                      name:
                        type: string
                      resourceName:
                        type: string
                      consoles:
                        type: array
                        items: {}
                      resourceType:
                        type: string
                      frequency:
                        type: integer
                      paused:
                        type: boolean
                      deleted:
                        type: boolean
                      validateSSL:
                        type: boolean
                      port:
                        type: integer
                      encrypted:
                        type: integer
                      timeout:
                        type: integer
                      days:
                        type: integer
                      ts:
                        type: integer
                      clientId:
                        type: integer
                      locationOffset:
                        type: integer
                      totalLocations:
                        type: integer
                      receiverHostPort:
                        type: integer
                  repeatCount:
                    type: string
                  tenantId:
                    type: integer
                  status:
                    type: string
                  priority:
                    type: string
                  elapsedTimeString:
                    type: string
                  createdDate:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
                  rba:
                    type: boolean
                  tenantName:
                    type: string
                  managedByOpsRamp:
                    type: boolean
                  incidentId:
                    type: string
                  actedTs:
                    type: integer
                  eventType:
                    type: string
                  metric:
                    type: string
                  inferenceId:
                    type: integer
                  statusHistory:
                    type: object
                    properties:
                      createdBy:
                        type: string
                      createdTime:
                        type: string
                        format: date-time
                      ticketedBy:
                        type: string
                      ticketedTime:
                        type: string
                        format: date-time
              examples:
                example-1:
                  value:
                    uniqueId: '93'
                    subject: 'Disk c:\ Critical. Used 90.31%; Free 9.69%; Disk Capacity 102642 MB. Threshold is 90%.'
                    description: 'Disk c:\ is critical. (Crossed 90% usage). Total-102642 MB; Used-92700 MB (90.31%); Free-9942 MB (9.69%);'
                    currentState: Critical
                    oldState: Critical
                    serviceName: Disk
                    acknowledged: false
                    suppressed: false
                    permanentlySuppressed: false
                    closed: false
                    ticketed: true
                    clientUniqueId: client_8
                    alertType: Obsolete
                    app: OPSRAMP
                    alertTime: '2016-07-24T10:40:47+0000'
                    device:
                      id: 253151d1-6b19-4158-9d91-050e7fb4dd8d
                      name: res1
                      hostName: res1
                      ipAddress: 1.23.4.5
                      type: DEVICE
                      aliasName: alias name
                      resourceName: res name
                      resourceType: Desktop
                    resource:
                      id: 253151d1-6b19-4158-9d91-050e7fb4dd8d
                      hostName: res1
                      ipAddress: 1.23.4.5
                      type: Desktop
                      aliasName: alias name
                      name: check code
                      resourceName: res name
                      consoles: []
                      resourceType: Desktop
                      frequency: 0
                      paused: false
                      deleted: false
                      validateSSL: false
                      port: 0
                      encrypted: false
                      timeout: 0
                      days: 0
                      ts: 0
                      clientId: 0
                      locationOffset: 0
                      totalLocations: 0
                      receiverHostPort: 0
                    repeatCount: '2'
                    tenantId: 8
                    status: Ticketed
                    priority: N/A
                    elapsedTimeString: '64d 59m '
                    createdDate: '2016-07-24T10:40:47+0000'
                    updatedTime: '2016-07-24T10:40:50+0000'
                    rba: false
                    tenantName: Brocade Lab
                    managedByOpsRamp: false
                    incidentId: INC0000000093
                    actedTs: 0
                    eventType: ALERT
                    metric: Disk
                    inferenceId: 0
                    statusHistory:
                      createdBy: system
                      createdTime: '2016-07-24T10:40:47+0000'
                      ticketedBy: 'opsramp_system_user '
                      ticketedTime: '2016-07-24T10:41:47+0000'
      description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - schema:
          type: string
        in: path
        name: eventId
        required: true
        description: Raw event unique identifier
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/comments':
    summary: Get alert comments
    description: Gets alert comments.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        cumulativeAlertId:
                          type: integer
                        commentType:
                          type: integer
                        description:
                          type: string
                        createdBy:
                          type: object
                          properties:
                            loginName:
                              type: string
                            lastName:
                              type: string
                            firstName:
                              type: string
                            email:
                              type: string
                            phoneNumber:
                              type: string
                            profileImage:
                              type: object
                              properties:
                                logoPath:
                                  type: string
                                thumbPath:
                                  type: string
                                tinyThumbPath:
                                  type: string
                                imageType:
                                  type: string
                        createdDate:
                          type: string
                          format: date-time
                  totalResults:
                    type: integer
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
                  orderBy:
                    type: string
              examples:
                example-1:
                  value:
                    results:
                      - cumulativeAlertId: 289
                        commentType: 5
                        description: 'Partition  : / Total  : 17133.81MB Used  : 11390.87MB Free  : 4872.59MB'
                        createdBy:
                          loginName: John.Smith
                          lastName: Smith
                          firstName: John
                          email: john.smith@gmail.com
                          phoneNumber: 406-625-2345
                          profileImage:
                            logoPath: 'https://yourdomain.com/images/users/1/profileImages/1.jpg?1469269179000'
                            thumbPath: 'https://yourdomain.com/images/users/1/profileImages/thumb-1.jpg?1469269180000'
                            tinyThumbPath: 'https://yourdomain.com/images/users/1/profileImages/tiny-thumb-1.jpg?1469269180000'
                            imageType: image/jpeg
                        createdDate: '2016-10-25T08:15:45+0000'
                      - cumulativeAlertId: 289
                        commentType: 5
                        description: 'Partition  : / Total  : 17133.81MB'
                        createdBy:
                          loginName: John.Smith
                          lastName: Smith
                          firstName: John
                          email: john.smith@gmail.com
                          phoneNumber: 406-625-1234
                          profileImage:
                            logoPath: 'https://yourdomain.com/images/users/1/profileImages/1.jpg?1469269179000'
                            thumbPath: 'https://yourdomain.com/images/users/1/profileImages/thumb-1.jpg?1469269180000'
                            tinyThumbPath: 'https://yourdomain.com/images/users/1/profileImages/tiny-thumb-1.jpg?1469269180000'
                            imageType: image/jpeg
                        createdDate: '2016-10-25T10:48:42+0000'
                    totalResults: 2
                    orderBy: created_date
                    pageNo: 1
                    pageSize: 2
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: true
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}':
    summary: Get alert details
    description: |-
      Gets alert details.

      ##### Notes
      For an inference alert, resource name and client ID are provided in the response. For an RCA alert, device ID, Name, and IP address are provided in the response.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  uniqueId:
                    type: string
                  subject:
                    type: string
                  description:
                    type: string
                  currentState:
                    type: string
                  oldState:
                    type: string
                  serviceName:
                    type: string
                  acknowledged:
                    type: boolean
                  suppressed:
                    type: boolean
                  permanentlySuppressed:
                    type: boolean
                  closed:
                    type: boolean
                  ticketed:
                    type: boolean
                  clientUniqueId:
                    type: string
                  alertType:
                    type: string
                  app:
                    type: string
                  alertTime:
                    type: string
                    format: date-time
                  device:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      hostName:
                        type: string
                      ipAddress:
                        type: string
                      type:
                        type: string
                      aliasName:
                        type: string
                      resourceName:
                        type: string
                      resourceType:
                        type: string
                  resource:
                    type: object
                    properties:
                      id:
                        type: string
                      hostName:
                        type: string
                      ipAddress:
                        type: string
                      type:
                        type: string
                      aliasName:
                        type: string
                      name:
                        type: string
                      resourceName:
                        type: string
                      consoles:
                        type: array
                        items: {}
                      resourceType:
                        type: string
                      frequency:
                        type: integer
                      paused:
                        type: boolean
                      deleted:
                        type: boolean
                      validateSSL:
                        type: boolean
                      port:
                        type: integer
                      encrypted:
                        type: integer
                      timeout:
                        type: integer
                      days:
                        type: integer
                      ts:
                        type: integer
                      clientId:
                        type: integer
                      locationOffset:
                        type: integer
                      totalLocations:
                        type: integer
                      receiverHostPort:
                        type: integer
                  repeatCount:
                    type: string
                  tenantId:
                    type: integer
                  status:
                    type: string
                    description: |-
                      Indicates an action performed on an alert:
                      If an alert is acknowledged, then the result is `status: Acknowledged`.
                      If no action is performed on an alert, then the result is `status: New`.
                  priority:
                    type: string
                  elapsedTimeString:
                    type: string
                  createdDate:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
                  rba:
                    type: boolean
                  tenantName:
                    type: string
                  managedByOpsRamp:
                    type: boolean
                  incidentId:
                    type: string
                  actedTs:
                    type: integer
                  eventType:
                    type: string
                    description: |-
                      The event type is defined as one of the following:
                      - `eventType: ALERT` represents a raw alert.
                      - `eventType: RCA` represents an RCA alert.
                      - `eventType: Inference` represents an inference alert.
                  metric:
                    type: string
                  inferenceId:
                    type: integer
                    description: |
                      Indicates an inference that is correlated to an event.
                  statusHistory:
                    type: object
                    properties:
                      createdBy:
                        type: string
                      createdTime:
                        type: string
                        format: date-time
                      ticketedBy:
                        type: string
                      ticketedTime:
                        type: string
                        format: date-time
              examples:
                example-raw:
                  value:
                    uniqueId: '93'
                    subject: 'Disk c:\ Critical Used 90.31%; Free 9.69%; Disk Capacity 102642 MB. Threshold is 90%.'
                    description: 'Disk c:\ is critical.(Crossed 90% usage). Total-102642 MB; Used-92700 MB (90.31%); Free-9942 MB (9.69%);'
                    currentState: Critical
                    oldState: Critical
                    serviceName: Disk
                    acknowledged: false
                    suppressed: false
                    permanentlySuppressed: false
                    closed: false
                    ticketed: true
                    clientUniqueId: client_8
                    alertType: Obsolete
                    app: OPSRAMP
                    alertTime: '2016-07-24T10:40:47+0000'
                    device:
                      id: 253151d1-6b19-4158-9d91-050e7fb4dd8d
                      name: res1
                      hostName: res1
                      ipAddress: 1.23.4.5
                      type: DEVICE
                      aliasName: alias name
                      resourceName: res name
                      resourceType: Desktop
                    resource:
                      id: 253151d1-6b19-4158-9d91-050e7fb4dd8d
                      hostName: res1
                      ipAddress: 1.23.4.5
                      type: Desktop
                      aliasName: alias name
                      name: check code
                      resourceName: res name
                      consoles: []
                      resourceType: Desktop
                      frequency: 0
                      paused: false
                      deleted: false
                      validateSSL: false
                      port: 0
                      encrypted: false
                      timeout: 0
                      days: 0
                      ts: 0
                      clientId: 0
                      locationOffset: 0
                      totalLocations: 0
                      receiverHostPort: 0
                    repeatCount: '2'
                    tenantId: 8
                    status: Ticketed
                    priority: N/A
                    elapsedTimeString: '64d 59m '
                    createdDate: '2016-07-24T10:40:47+0000'
                    updatedTime: '2016-07-24T10:40:50+0000'
                    rba: false
                    tenantName: Brocade Lab
                    managedByOpsRamp: false
                    incidentId: INC0000000093
                    actedTs: 0
                    eventType: ALERT
                    metric: Disk
                    inferenceId: 0
                    statusHistory:
                      createdBy: system
                      createdTime: '2016-07-24T10:40:47+0000'
                      ticketedBy: 'opsramp_system_user '
                      ticketedTime: '2016-07-24T10:41:47+0000'
                example-inference:
                  value:
                    uniqueId: '3511'
                    subject: Inference test
                    description: Inference test
                    currentState: Ok
                    oldState: Critical
                    acknowledged: false
                    suppressed: false
                    permanentlySuppressed: false
                    closed: false
                    ticketed: false
                    clientUniqueId: client_12
                    alertType: MONITORING
                    app: OPSRAMP
                    component: b717911b-04ce-37ce-9af8-e2242813eaa3
                    alertTime: '2018-05-07T11:00:28+0000'
                    resource:
                      name: 2adc3-aiops
                      type: CLIENT
                      metaData: {}
                    repeatCount: '2'
                    tenantId: 12
                    status: New
                    priority: N/A
                    elapsedTimeString: '3d 20h 45m '
                    healedTimeString: '1h 54m '
                    createdDate: '2018-05-07T12:55:19+0000'
                    updatedTime: '2018-05-07T12:55:19+0000'
                    rba: false
                    tenantName: 2adc3-aiops
                    managedByOpsRamp: false
                    actedTs: 0
                    eventType: INFERENCE
                    inferenceId: 0
                    statusHistory:
                      createdBy: system
                      createdTime: '2018-05-07T12:55:19+0000'
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
  /api/v2/alertTypes:
    summary: Get supported alert types
    description: Gets the list of supported alert types.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              examples:
                example-1:
                  value:
                    - AGENT
                    - MAINTENANCE
                    - MONITORING
                    - APPLIANCE
                    - SCHEDULED MAINTENANCE
                    - OBSOLETE
                    - FORECAST
                    - CHANGE DETECTION
  '/api/v2/tenants/{tenantId}/users/{userId}/alertViews':
    summary: Get alert views
    description: Gets a list of alert views.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    name:
                      type: string
                    description:
                      type: string
                    viewType:
                      type: string
                    defaultView:
                      type: boolean
              examples:
                example-1:
                  value:
                    - id: 35
                      name: Warning and critical alerts
                      description: Testing 3
                      viewType: Shared
                      defaultView: true
                example-2:
                  value:
                    - id: 33
                      name: Last One Day Alerts
                      description: Testing 1
                      viewType: Private
                      defaultView: true
                    - id: 34
                      name: Ticketed Alerts
                      description: Testing 2
                      viewType: Private
                      defaultView: true
                    - id: 35
                      name: Warning and critical alerts
                      description: Testing 3
                      viewType: Shared
                      defaultView: true
      parameters:
        - schema:
            type: boolean
            default: 'true'
          in: query
          name: isDescendingOrder
          description: List preference indicating whether descending order is required.
        - schema:
            type: string
            default: id
          in: query
          name: sortName
          description: Unique ID allotted to a view when an alert view is created.
        - schema:
            type: string
            default: all
          in: query
          name: viewType
          description: |-
            Supported values:
            - All: Provides private and shared alert views of a client.
            - Private: Provides alerts that are private to the logged-in user.
            - Shared: Provides alerts that are shared across the client.
        - schema:
            type: boolean
            default: 'true'
          in: query
          name: defaultView
          description: Displays the default alert view.
    parameters:
      - schema:
          type: string
        in: path
        name: orgId
        required: true
      - schema:
          type: string
        in: path
        name: userId
        required: true
  '/api/v2/tenants/{tenantId}/users/{userId}/alertViews/{viewId}':
    summary: Get alert view by view ID
    description: Gets an alert view of a user.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  name:
                    type: string
                  description:
                    type: string
                  createdOn:
                    type: string
                    format: date-time
                  createdBy:
                    type: object
                    properties:
                      id:
                        type: integer
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstNamev:
                        type: string
                      phoneNumber:
                        type: string
                      email:
                        type: string
                  defaultView:
                    type: boolean
                  partners:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        uniqueId:
                          type: string
                        name:
                          type: string
                        activated:
                          type: boolean
                  clients:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        uniqueId:
                          type: string
                        name:
                          type: string
                        activated:
                          type: boolean
                        remoteCommands:
                          type: boolean
                        offlineAlertstoThirdPartyTool:
                          type: boolean
                        maskResourceIdentity:
                          type: boolean
                  alertTimestamp:
                    type: string
                  duration:
                    type: string
                  resourceOrgin:
                    type: string
                  states:
                    type: array
                    items:
                      type: string
                  availability:
                    type: string
              examples:
                example-1:
                  value:
                    id: 18
                    name: NOC_View
                    description: This View is useful for NOC people
                    createdOn: '2020-03-17T08:28:15+0000'
                    createdBy:
                      id: USR0000000012
                      loginName: rgu_basar
                      lastName: BASAR
                      firstName: RGUKT
                      email: test@opsramp.com
                      phoneNumber: ''
                    viewType: Private
                    defaultView: true
                    partners:
                      - id: 7
                        uniqueId: msp_5
                        name: Test Partner
                        activated: true
                    clients:
                      - id: 9
                        uniqueId: client_93
                        name: Test Client
                        activated: true
                        maskResourceIdentity: false
                        offlineAlertstoThirdPartyTool: false
                        remoteCommands: true
                    alertTimestamp: Last Updated Time
                    duration: 2days
                    resourceOrgin: all
                    states:
                      - Critical
                    availability: all
    parameters:
      - schema:
          type: string
        in: path
        name: orgId
        required: true
        description: ClientId or mspId of the tenant
      - $ref: '#/components/parameters/userId'
      - schema:
          type: string
        in: path
        name: viewId
        required: true
        description: Filter view unique identifier
  '/api/v2/alerts/tenants/{tenantId}/alerts/{alertId}':
    summary: Get alert details by alert ID
    description: Gets alert details by alert ID.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    uniqueId:
                      type: string
                    subject:
                      type: string
                    currentState:
                      type: string
                    serviceName:
                      type: string
                    acknowledged:
                      type: boolean
                    suppressed:
                      type: boolean
                    permanentlySuppressed:
                      type: boolean
                    closed:
                      type: boolean
                    alertType:
                      type: string
                    app:
                      type: string
                    alertTime:
                      type: string
                      format: date-time
                    device:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        ipAddress:
                          type: string
                        type:
                          type: string
                    repeatCount:
                      type: string
                    tenantId:
                      type: integer
                    createdTime:
                      type: integer
                    status:
                      type: string
                    priority:
                      type: string
                    elapsedTimeString:
                      type: string
                    healedTimeString:
                      type: string
                    updatedTime:
                      type: string
                      format: date-time
                    tktId:
                      type: string
                    rba:
                      type: boolean
                    tenantName:
                      type: string
                    mspId:
                      type: string
                    rtype:
                      type: string
                    mspName:
                      type: string
                    managedByOpsRamp:
                      type: boolean
                    actedTs:
                      type: integer
                    eventType:
                      type: string
                    metric:
                      type: string
                    inferenceId:
                      type: boolean
              examples:
                example-1:
                  value:
                    - uniqueId: '40535'
                      subject: chrome.exe | Not Running
                      currentState: Ok
                      serviceName: Windows Process
                      acknowledged: false
                      suppressed: false
                      permanentlySuppressed: false
                      closed: false
                      alertType: Monitoring
                      app: OPSRAMP
                      alertTime: '2015-11-18T09:44:07+0000'
                      device:
                        id: 982b6937-83ae-4262-a023-d6097a711a9e
                        name: HYDLPT204
                        ipAddress: 172.28.2.148
                        type: DEVICE
                      repeatCount: '2'
                      tenantId: 107
                      createdTime: 1447839848946
                      status: Ticketed
                      priority: N/A
                      elapsedTimeString: '110d 22h 5m '
                      healedTimeString: '2h 47m '
                      updatedTime: '2015-11-18T12:31:53+0000'
                      tktId: ticket_1622
                      rba: false
                      tenantName: Notification_client5
                      rtype: DEVICE
                      mspId: msp_102
                      mspName: OpsRamp4.1
                      managedByOpsRamp: true
                      actedTs: 1448628691167
                      eventType: ALERT
                      metric: Disk
                      inferenceId: 1230
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
  '/api/v2/alerts/tenants/{tenantId}/tickets/{ticketId}':
    summary: Get alert details by incident ID
    description: Gets alert details by incident ID.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    uniqueId:
                      type: string
                    subject:
                      type: string
                    currentState:
                      type: string
                    serviceName:
                      type: string
                    acknowledged:
                      type: boolean
                    suppressed:
                      type: boolean
                    permanentlySuppressed:
                      type: boolean
                    closed:
                      type: boolean
                    alertType:
                      type: string
                    app:
                      type: string
                    alertTime:
                      type: string
                      format: date-time
                    device:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        ipAddress:
                          type: string
                        type:
                          type: string
                    repeatCount:
                      type: string
                    tenantId:
                      type: integer
                    createdTime:
                      type: integer
                    status:
                      type: string
                    priority:
                      type: string
                    elapsedTimeString:
                      type: string
                    healedTimeString:
                      type: string
                    updatedTime:
                      type: string
                      format: date-time
                    tktId:
                      type: string
                    rba:
                      type: boolean
                    tenantName:
                      type: string
                    mspId:
                      type: string
                    rtype:
                      type: string
                    mspName:
                      type: string
                    managedByOpsRamp:
                      type: boolean
                    actedTs:
                      type: integer
                    eventType:
                      type: string
                    metric:
                      type: string
                    inferenceId:
                      type: boolean
              examples:
                example-1:
                  value:
                    - uniqueId: '40535'
                      subject: chrome.exe | Not Running
                      currentState: Ok
                      serviceName: Windows Process
                      acknowledged: false
                      suppressed: false
                      permanentlySuppressed: false
                      closed: false
                      alertType: Monitoring
                      app: OPSRAMP
                      alertTime: '2015-11-18T09:44:07+0000'
                      device:
                        id: 982b6937-83ae-4262-a023-d6097a711a9e
                        name: HYDLPT204
                        ipAddress: 172.28.2.148
                        type: DEVICE
                      repeatCount: '2'
                      tenantId: 107
                      createdTime: 1447839848946
                      status: Ticketed
                      priority: N/A
                      elapsedTimeString: '110d 22h 5m '
                      healedTimeString: '2h 47m '
                      updatedTime: '2015-11-18T12:31:53+0000'
                      tktId: ticket_1622
                      rba: false
                      tenantName: Notification_client5
                      rtype: DEVICE
                      mspId: msp_102
                      mspName: OpsRamp4.1
                      managedByOpsRamp: true
                      actedTs: 1448628691167
                      eventType: ALERT
                      metric: Windows Process
                      inferenceId: 1230
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/ticketId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/incidents/{incidentId}/attach':
    summary: Attach incident to alert
    description: Attaches an incident to an alert.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  description: |
                    The incident status used to check the status of an incident.
                priority:
                  type: string
                  description: |
                    The incident priority: low, normal, high, urgent, and very low.
                  enum:
                    - low
                    - normal
                    - urgent
                    - very low
                toEmail:
                  type: string
                  description: |
                    The email address to receive incident notifications.
                assignedUser:
                  type: object
                  description: |
                    The designated user who is assigned to the incident.
                  properties:
                    id:
                      type: string
                    loginName:
                      type: string
                customFields:
                  type: array
                  description: |
                    User-customized fields that can include additional information about an incident. Use the Get Incident Custom Fields API to get custom fields of an incident.
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      value:
                        type: string
                attachments:
                  type: array
                  description: |
                    Information related to the incident in base64 encoded format.
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      file:
                        type: string
            examples:
              example-1:
                value:
                  status: Resolved
                  priority: Low
                  toEmail: john.smith@domain.com
                  assignedUser:
                    id: USR0000002146
                    loginName: FSSL-API-Lab-User-1
                  customFields:
                    - id: UDF0000003790
                      name: External Id
                      value: '2'
                    - id: UDF0000003791
                      name: Incident History
                      value: request custom field - text
                  attachments:
                    - name: 1.txt
                      file: U2FtcGxlIFRleHQgZmlsZS0gdGVzdGluZyB3aXRoIGF0dGFjaG1lbnQ=
                    - name: 2.txt
                      file: U2FtcGxlIFRleHQgZmlsZS0gdGVzdGluZyB3aXRoIGF0dGFjaG1lbnQ=
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
      - schema:
          type: string
        in: path
        name: IncidentId
        required: true
        description: Incident unique Identifier
  '/api/v2/tenants/{tenantId}/alert':
    summary: Create alert on a resource
    description: |-
      Creates a single alert on a resource.

      ##### Notes
      - A list of event IDs is generated when alerts are created. This list is valid for 30 days.
      - Use the event IDs to search and get alert details.

      Creation of a new resource depends on the following:

      - A new resource is created and new device group, service group, and location are assigned.
      - A new resource is created and existing device group, service group, and location are assigned.
      - An already existing resource cannot be assigned to a new or existing Device Group, Service Group and Location.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              examples:
                example-1:
                  value:
                    - c1461bc2-eed5-4559-9d78-6ca6f35be8c5
                example-2:
                  value:
                    - 3885d3fc-4e92-4a9d-871a-a5940cf7079b
                example-3:
                  value:
                    - fa3245ca-6740-4f7a-bf06-02414c51595e
                example-4:
                  value:
                    - 62b5d1c7-5e17-4027-9d9e-a8d566590468
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                subject:
                  type: string
                  description: |
                    Summary content of the generated alert. Content includes metrics that lead to the alert.
                alertTime:
                  type: string
                  description: |
                    (Optional) Time when the alert was triggered.
                currentState:
                  type: string
                  description: |
                    Current state of alert. For example: OK, warning, critical, or info.
                serviceName:
                  type: string
                  description: |
                    Service name.
                app:
                  type: string
                  description: |
                    Alert management applications. Use the Get Alert Technologies API to view supported alert management technologies.
                component:
                  type: string
                  description: |
                    (Optional) Device component.
                alertType:
                  type: string
                  description: |-
                    (Optional) Alert types. Use Get Alert Types API to fetch the list of alert types.
                    Supported alert types are: monitoring, maintenance, appliance, agent, obsolete, scheduled maintenance.
                  enum:
                    - monitoring
                    - maintenance
                    - appliance
                    - agent
                    - obsolete
                    - scheduled maintenance
                resourceName:
                  type: string
                  description: |
                    (Optional) Resource name.
                description:
                  type: string
                  description: |-
                    (Optional) Brief description of the entities that led to the alert generation.
                    Note: You can find the origin of the alert and identify crossed types of threshold of the applied metrics. Primarily, details may include metric, monitor description, device type, template name, group, site, service level, and component.
                monitorName:
                  type: string
                  description: |
                    (Optional) Monitor name.
                ackUrl:
                  type: string
                  description: |
                    (Optional) Acknowledge URL.
                rtype:
                  type: string
                  description: |
                    (Optional) Resource type.
                extAlertId:
                  type: string
                  description: |
                    (Optional) External alert ID.
                availability:
                  type: string
                  description: |
                    (Optional) Values: True/False. If set to true, creates availability alerts.
                device:
                  type: object
                  description: 'Create alerts on a device. At least one field is required in order to identify the device:'
                  properties:
                    resourceUUID:
                      type: string
                    hostName:
                      type: string
                    macAddress:
                      type: string
                    ipAddress:
                      type: string
                    providerUUID:
                      type: string
                    systemUUID:
                      type: string
                resource:
                  type: object
                  description: 'Create alerts on a resource. At least one field is required in order to identify the device:'
                  properties:
                    id:
                      type: string
                      description: The resource unique ID. Use the Search Resources API to get a list of resources.
                    extResourceId:
                      type: string
                      description: External ID of resource.
                    resourceName:
                      type: string
                    ipAddress:
                      type: string
                      description: Resource IP address.
                    hostName:
                      type: string
                      description: ' The host name.'
                    aliasName:
                      type: string
                    resourceType:
                      type: string
                    deviceGroups:
                      type: string
                    serviceGroups:
                      type: string
                    location:
                      type: string
                    tags:
                      type: string
              required:
                - subject
                - currentState
                - serviceName
                - app
                - device
            examples:
              example-1:
                value:
                  serviceName: CPU
                  device:
                    hostName: Think-pad
                    resourceUUID: DEV0000011767
                    providerUUID: '11767'
                    systemUUID: '11767'
                    macAddress: '2E:8B:EB:32:7A:F9'
                    ipAddress: 172.2.229.109
                  subject: Test API Alert for car
                  alertTime: '2017-10-01T00:00:00+0000'
                  currentState: CRITICAL
                  app: OPSRAMP
                  alertType: Maintenance
                  component: C
                  description: api calls
                  monitorName: test
              example-2:
                value:
                  serviceName: MEMORY
                  resource:
                    id: 5b850347-8798-45aa-9332-c7ff3dd1c60e
                  subject: The Physical Memory Usage on the device is 56%.The Virtual Memory Usage on the device is 43%.
                  alertTime: '2018-11-02 10:52:55'
                  currentState: CRITICAL
                  alertType: Monitoring
                  app: OPSRAMP
                  component: MEMORY
                  description: 'Api calls '
              example-3:
                value:
                  serviceName: MEMORY
                  resource:
                    extResourceId: '646438712529389643'
                    ipAddress: 172.24.132.47
                  subject: The Physical Memory Usage on the device is 56%.The Virtual Memory Usage on the device is 43%.
                  alertTime: '2018-11-02 10:52:55'
                  currentState: CRITICAL
                  alertType: Monitoring
                  app: OPSRAMP
                  component: MEMORY
                  description: 'Api calls '
                  masterAgentUUID: 5b850347-8798-45aa-9332-c7ff3dd1c60e
              example-4:
                value:
                  serviceName: CPU
                  resource:
                    hostName: Think-pad
                    resourceType: server
                    tags:
                      - environment: QA
                      - department: R&D
                    deviceGroups:
                      - name: dg1
                      - name: dg2
                    serviceGroups:
                      - name: sg1
                      - name: sg2
                        parent:
                          id: SGP-a794d1de-e361-45ef-9d6e-4a450491bf35
                    location:
                      name: San Jose
                  subject: Performance Degradation on Windows Servers
                  alertTime: '2019-07-12T00:00:00+0000'
                  currentState: CRITICAL
        description: Provide either `device` or `resource` object.
    parameters:
      - schema:
          type: string
        in: path
        name: tenantId
        required: true
  '/api/v2/tenants/{tenantId}/alerts':
    summary: Create alerts on resources
    description: |-
      Creates multiple alerts on resources.

      ##### Notes
      - A list of event IDs is generated when alerts are created. This list is valid for 30 days.
      - Use the event IDs to search and get alert details.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              examples:
                example-1:
                  value:
                    - a6c952c1-2d2d-4c82-a16d-5870a2c7e4e6
                    - c1461bc2-eed5-4559-9d78-6ca6f35be8c5
                    - 3885d3fc-4e92-4a9d-871a-a5940cf7079b
                    - 62b5d1c7-5e17-4027-9d9e-a8d566590468
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  subject:
                    type: string
                    description: |
                      Summary content of the generated alert. Content includes metrics that lead to the alert.
                  alertTime:
                    type: string
                    description: |
                      (Optional) Time when the alert was triggered.
                  currentState:
                    type: string
                    description: |
                      Current state of alert. For example: OK, warning, critical, or info.
                  serviceName:
                    type: string
                    description: |
                      Service name.
                  app:
                    type: string
                    description: |
                      Alert management applications. Use the Get Alert Technologies API to view supported alert management technologies.
                  component:
                    type: string
                    description: |
                      (Optional) Device component.
                  alertType:
                    type: string
                    description: |-
                      (Optional) Alert types. Use Get Alert Types API to fetch the list of alert types.
                      Supported alert types are: monitoring, maintenance, appliance, agent, obsolete, scheduled maintenance.
                    enum:
                      - monitoring
                      - maintenance
                      - appliance
                      - agent
                      - obsolete
                      - scheduled maintenance
                  resourceName:
                    type: string
                    description: |
                      (Optional) Resource name.
                  description:
                    type: string
                    description: |-
                      (Optional) Brief description of the entities that led to the alert generation.
                      Note: You can find the origin of the alert and identify crossed types of threshold of the applied metrics. Primarily, details may include metric, monitor description, device type, template name, group, site, service level, and component.
                  monitorName:
                    type: string
                    description: |
                      (Optional) Monitor name.
                  ackUrl:
                    type: string
                    description: |
                      (Optional) Acknowledge URL.
                  rtype:
                    type: string
                    description: |
                      (Optional) Resource type.
                  extAlertId:
                    type: string
                    description: |
                      (Optional) External alert ID.
                  availability:
                    type: string
                    description: |
                      (Optional) Values: True/False. If set to true, creates availability alerts.
                  device:
                    type: object
                    description: 'Create alerts on a device. At least one field is required in order to identify the device:'
                    properties:
                      resourceUUID:
                        type: string
                      hostName:
                        type: string
                      macAddress:
                        type: string
                      ipAddress:
                        type: string
                      providerUUID:
                        type: string
                      systemUUID:
                        type: string
                  resource:
                    type: object
                    description: 'Create alerts on a resource. At least one field is required in order to identify the device:'
                    properties:
                      id:
                        type: string
                        description: The resource unique ID. Use the Search Resources API to get a list of resources.
                      extResourceId:
                        type: string
                        description: External ID of resource.
                      ipAddress:
                        type: string
                        description: Resource IP address.
                      hostName:
                        type: string
                        description: ' The host name.'
                required:
                  - subject
                  - currentState
                  - serviceName
                  - app
                  - device
            examples:
              example-1:
                value:
                  - serviceName: CPU
                    device:
                      hostName: Think-pad
                      resourceUUID: DEV0000011767
                      providerUUID: '11767'
                      systemUUID: '11767'
                      macAddress: '2E:8B:EB:32:7A:F9'
                      ipAddress: 172.2.229.109
                    subject: Test API Alert 1 for car
                    alertTime: '2017-10-01T00:00:00+0000'
                    currentState: CRITICAL
                    app: OPSRAMP
                    alertType: Maintenance
                    component: C
                    description: api call test
                    monitorName: test
                  - serviceName: CPU
                    device:
                      hostName: Think-pad-i5
                      resourceUUID: DEV0000011768
                      providerUUID: '11768'
                      systemUUID: '11768'
                      macAddress: '3B:5E:EB:52:3E:B5'
                      ipAddress: 172.2.228.110
                    subject: Test API Alert 2 for car
                    alertTime: '2017-10-02T00:00:00+0000'
                    currentState: CRITICAL
                    app: OPSRAMP
                    alertType: Maintenance
                    component: C
                    description: api call test
                    monitorName: test
                  - serviceName: MEMORY
                    resource:
                      id: 5b850347-8798-45aa-9332-c7ff3dd1c60e
                    subject: Test API Alert 1 for car
                    alertTime: '2017-10-01T00:00:00+0000'
                    currentState: CRITICAL
                    app: OPSRAMP
                    alertType: Maintenance
                    component: C
                    description: api call test
                    monitorName: test
                  - serviceName: MEMORY
                    resource:
                      extResourceId: '646438712529389643'
                      ipAddress: 172.24.132.47
                    subject: The Physical Memory Usage on the device is 56%
                    alertTime: '2018-11-02 10:52:55'
                    currentState: CRITICAL
                    alertType: Monitoring
                    app: OPSRAMP
                    component: MEMORY
                    oldState: OK
                    description: 'Api calls '
                    masterAgentUUID: 5b850347-8798-45aa-9332-c7ff3dd1c60e
        description: Provide either `device` or `resource` object.
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/occurrences':
    summary: Get alerts for alert-triggered time
    description: |
      Gets the alert occurrences based on the alert-triggered time.

      ##### Notes
      There are special characters that can be used in a query string:
      - (+) represents the next field and must be URL-encoded.
      - (:) represents equals. An example is key : value.
      - Space characters must be URLencoded.
      - Date format must be yyyy-MM-ddTHH:mm:ssZ (GMT).

      ### The process for pagination
      The API provides the results in descending order of alert-triggered date. The latest alert appears first based on the alert-triggered time. The process for handling any number of occurrences include the following:
      1. Get all occurrences of an alert.
      2. Get alert occurrences of an alert that is triggered within a specific duration.
      3. Traverse through each page of occurrences.

      ### Get All occurrences of an alert
      To fetch all alert occurrences irrespective of the alert-triggered time, provide the URI:
      ```
      /tenants/{tenantId}/alerts/{alertId}/occurrences
      ```

      ### Get Alert occurrences of an alert that is triggered within a specific duration
      To fetch raw alerts triggered within a specific duration, provide the start time and end time. To fetch raw alerts triggered between January 13th 2017 to February 13th 2017, provide the startTime of 2017-01-13T00:00:00 0000 and an endTime of 2016-02-13T00:00:00 0000. This is the URI for that request:
      ```
      /tenants/{tenantId}/alerts/{alertId}/occurrences?queryString=startTime:2017-01-13T00:00:00 0000+endTime:2017-02-13T00:00:00 0000
      ```

      ### Traverse through each page of occurrences
      There is a limit of 100 results per page. If an alert has 120 occurrences, the latest 100 results will appear in the first page. To traverse to the second page, use the endDate from the first page and provide it as the endTime in the query string. The second page will return the remaining 20 alerts.

      Use these fields when traversing through additional pages as long as `nextPage: true`:

      |Field|Description|
      |-----|-----|
      |results|List of raw alerts data.|
      |pageSize|The page size that represents the total number of results to display on the page. The default page size is 100.|
      |nextPage|This flag helps determine when the search is complete. If nextPage: false, the search is done. to traverse through the rest of the pages.|
      |descendingOrder|Alerts appear in a descending order. The latest triggered alert appears on the top.|
      |startDate|Indicates the alert-triggered time of the first result on the page.|
      |endDate|Indicates the alert-triggered time of the last result on the page. To traverse through the other pages, provide endDate from previous page and provide it as endTime in queryString.|
    get:
      tags:
        - alerts
      parameters:
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
        - schema:
            type: string
          in: query
          name: queryString
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        uniqueId:
                          type: string
                        subject:
                          type: string
                        description:
                          type: string
                        currentState:
                          type: string
                        createdTimeString:
                          type: string
                          format: date-time
                  pageSize:
                    type: integer
                  nextPage:
                    type: boolean
                  startDate:
                    type: string
                    format: date-time
                  endDate:
                    type: string
                    format: date-time
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - uniqueId: '7'
                        subject: 'Event Source : McLogEvent / Id : 257'
                        description: 'Source : McLogEvent Event ID : 257 Event Description : The scan of D:\setup\Projects\ITOM\build\war\WEB-INF\lib\fastutil-6.5.7.jar has taken too long to complete and is being canceled.  Scan engine version used is 5900.7806 DAT version 8560.0000. Event Log Name : Application Event Log Type : INFORMATION Event Log Date Time : 06/16/2017 05:37:18.0'
                        currentState: Critical
                        createdTimeString: '2017-06-16T05:38:10+0000'
                      - uniqueId: '7'
                        subject: 'Event Source : McLogEvent / Id : 257'
                        description: 'Source : McLogEvent Event ID : 257 Event Description : The scan of D:\setup\Projects\CSGRID\build\server\indexer\lib\aws-java-sdk-models-1.11.128.jar has taken too long to complete and is being canceled.  Scan engine version used is 5900.7806 DAT version 8560.0000.  Event Log Name : Application   Event Log Type : INFORMATION    Event Log Date Time : 06/16/2017 05:32:01.0'
                        currentState: Critical
                        createdTimeString: '2017-06-16T05:32:12+0000'
                      - uniqueId: '7'
                        subject: 'Event Source : McLogEvent / Id : 257'
                        description: 'The following event has repeated 4  times in the last 4 minutes Source : McLogEvent Event ID : 257 Event Description : Blocked by port blocking rule (Anti-virus Standard Protection:Prevent mass mailing worms from sending mail). Event Log Name : Application Event Log Type : INFORMATION Event Log Date Time : 05/30/2017 06:00:03.0 '
                        currentState: Critical
                        createdTimeString: '2017-05-30T06:03:50+0000'
                      - uniqueId: '7'
                        subject: 'Event Source : McLogEvent / Id : 257'
                        description: 'The following event has repeated 2  times in the last 2 minutes Source : McLogEvent Event ID : 257 Event Description : Blocked by port blocking rule (Anti-virus Standard Protection:Prevent mass mailing worms from sending mail). Event Log Name : Application  Event Log Type : INFORMATION Event Log Date Time : 05/29/2017 15:33:55.0'
                        currentState: Critical
                        createdTimeString: '2017-05-29T13:31:14+0000'
                    pageSize: 100
                    nextPage: true
                    startDate: '2017-06-16T05:38:10+0000'
                    endDate: '2017-05-29T10:17:49+0000'
                    descendingOrder: true
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - schema:
          type: string
        in: path
        name: alertId
        required: true
  '/api/v2/tenants/{tenantId}/alerts/search':
    summary: Search alerts
    description: |-
      Searches alerts.

      ##### Query Variables
      |Query Variable|Value|Description|
      |----|---|---|
      |states|Ok, Warning, Critical, Info|Current status of the alert.
      |startDate|yyyy-MM-ddTHH:mm:ssZ|Filter the alert with alert base. startDate denotes the from date.<br>Example: 2016-02-24T09:19:47 0000 (GMT)|
      |endDate|yyyy-MM-ddTHH:mm:ssZ|endDate denotes to date.<br>Example: 2016-02-26T10:20:47 0000 (GMT)|
      |priority|P0, P1, P2, P3, P4, P5|Priority of the alert.<br>Example: P0, P1. Separate the values with a comma.|
      |uniqueId|NA|ID of the alert.|
      |deviceStatus|manage, unmanage, all|Status of the device.|
      |resourceType|LOAD_BALANCER, SQS, EBS, DEVICE, SNS, REDSHIFT, SERVICE|Type of resource.|
      |resourceIds|NA|ID of a resource.<br>Example: DEV0000015754,148e892d-84ce-496c-a123-f91e1a8a3f7d.|
      |actions|ACKNOWLEDGED, TICKETED, CLOSED, IGNORE, SUPPRESSED, OPEN, PURGED, CORRELATED|Actions performed on the alert.<br>Example: ACKNOWLEDGED, TICKETED.|
      |alertTypes|Monitoring, Maintenance, Appliance, Agent, Scheduled Maintenance, Obsolete, Integration Failure, all|Types of Alerts.<br>Example: Maintenance, Appliance, Agent.|
      |metrics|NA|Metric type of the alert.<br>Example: PING, SNMP Response.|
      |duration|1, 7, 30|Duration of alert. Duration is represented in Number of Days<br>Example: 1, 7.|
      |alertTimeBase|updated, created|Search for the alert based on the updated or created time of an alert.<br>Example: updated.|
      |clientIds|NA|ID of clients.<br>Example: client_1, client_2. Separate the IDs with a comma.|
      |ticketId|NA|ID of the ticket to which the alert is attached.<br>Example: INC0000000001.|
      |apps|NA|Apps from which the alert is generated. Example: Email, Nagios|

      ### Variables for statusHistory
      The statusHistory parameter uses the following variables:

      |Variable|Description|Example|
      |-----|-----|-----|
      |createdBy|Filter alerts based on createdUser.|system|
      |acknowledgedBy|Filter alerts based on acknowledgedUser.|superadmin|
      |suppressedBy|Filter alerts based on suppressedUser.|superadmin|
      |ticketedBy|Filter alerts based on ticketedUser.|opsramp_system_user|
      |closedBy|Filter alerts based on closedUser.|superadmin
      |startAcknowledgedTime||2015-08-10T05:39:51 0000|
      |endAcknowledgedTime||2015-08-10T05:39:51 0000|
      |startSuppressedTime||2015-08-10T05:39:51 0000|
      |endSuppressedTime||2015-08-10T05:39:51 0000|
      |startTicketedTime||2015-08-10T05:39:51 0000|
      |endTicketedTime||2015-08-10T05:39:51 0000|
      |startClosedTime||2015-08-10T05:39:51 0000|
      |endClosedTime||2015-08-10T05:39:51 0000|

      ##### Notes
      - Special characters to use in the query string are:
          - (+) indicates next field and must be URL-encoded.
          - (:) indicates Equals. An example is key: value.
          - (,) indicates multiple values for a key. An example is priority: P0,P1
      - Space characters must be URL-encoded.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: object
                    properties:
                      uniqueId:
                        type: string
                      subject:
                        type: string
                      currentState:
                        type: string
                      serviceName:
                        type: string
                      acknowledged:
                        type: boolean
                      suppressed:
                        type: boolean
                      permanentlySuppressed:
                        type: boolean
                      closed:
                        type: boolean
                      ticketed:
                        type: boolean
                      clientUniqueId:
                        type: string
                      alertType:
                        type: string
                      alertTime:
                        type: string
                        format: date-time
                      device:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          hostName:
                            type: string
                          ipAddress:
                            type: string
                          type:
                            type: string
                          aliasName:
                            type: string
                          resourceName:
                            type: string
                          resourceType:
                            type: string
                      resource:
                        type: object
                        properties:
                          id:
                            type: string
                          hostName:
                            type: string
                          ipAddress:
                            type: string
                          type:
                            type: string
                          aliasName:
                            type: string
                          name:
                            type: string
                          resourceName:
                            type: string
                          consoles:
                            type: array
                            items: {}
                          resourceType:
                            type: string
                          frequency:
                            type: integer
                          paused:
                            type: boolean
                          deleted:
                            type: boolean
                          validateSSL:
                            type: boolean
                          port:
                            type: integer
                          encrypted:
                            type: boolean
                          timeout:
                            type: integer
                          days:
                            type: integer
                          ts:
                            type: integer
                          locationOffset:
                            type: integer
                          totalLocations:
                            type: integer
                          receiverHostPort:
                            type: integer
                          clientId:
                            type: integer
                      repeatCount:
                        type: string
                      tenantId:
                        type: integer
                      status:
                        type: string
                      priority:
                        type: string
                      elapsedTimeString:
                        type: string
                      createdDate:
                        type: string
                        format: date-time
                      updatedTime:
                        type: string
                        format: date-time
                      rba:
                        type: boolean
                      tenantName:
                        type: string
                      managedByOpsRamp:
                        type: boolean
                      actedTs:
                        type: integer
                      eventType:
                        type: string
                      metric:
                        type: string
                      inferenceId:
                        type: boolean
                      statusHistory:
                        type: object
                        properties:
                          createdBy:
                            type: string
                          createdTime:
                            type: string
                            format: date-time
                  totalResults:
                    type: integer
                  orderBy:
                    type: string
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - uniqueId: '389547'
                        subject: Testing Alert-2-info state
                        currentState: Info
                        serviceName: Windows Event Log
                        acknowledged: false
                        suppressed: false
                        permanentlySuppressed: false
                        closed: false
                        ticketed: false
                        clientUniqueId: client_593972
                        alertType: Monitoring
                        alertTime: '2016-02-24T01:10:00+0000'
                        device:
                          id: 018e9cc1-e7ec-4833-a2b7-e17bd41e1b68
                          name: 172.31.17.109
                          hostName: ''
                          ipAddress: 172.31.17.109
                          type: DEVICE
                          aliasName: ''
                          resourceName: 172.31.17.109
                          resourceType: Linux
                        resource:
                          id: 018e9cc1-e7ec-4833-a2b7-e17bd41e1b68
                          hostName: ''
                          ipAddress: 172.31.17.109
                          type: Linux
                          aliasName: ''
                          name: 172.31.17.109
                          resourceName: 172.31.17.109
                          consoles: []
                          resourceType: Linux
                          frequency: 0
                          paused: false
                          deleted: false
                          validateSSL: false
                          port: 0
                          encrypted: false
                          timeout: 0
                          days: 0
                          ts: 0
                          clientId: 0
                          locationOffset: 0
                          totalLocations: 0
                          receiverHostPort: 0
                        repeatCount: '1'
                        tenantId: 593972
                        status: New
                        priority: N/A
                        elapsedTimeString: '4d 22h 21m '
                        createdDate: '2016-02-24T01:15:00+0000'
                        updatedTime: '2016-02-24T09:19:47+0000'
                        rba: false
                        tenantName: Client_Test
                        managedByOpsRamp: false
                        actedTs: 0
                        eventType: ALERT
                        metric: Windows Event Log
                        inferenceId: 0
                        statusHistory:
                          createdBy: system
                          createdTime: '2016-02-24T01:15:00+0000'
                      - uniqueId: '389548'
                        subject: Testing Alert-1-info state
                        currentState: Info
                        serviceName: Windows Event Log
                        acknowledged: false
                        suppressed: false
                        permanentlySuppressed: false
                        closed: false
                        ticketed: false
                        clientUniqueId: client_593972
                        alertType: Monitoring
                        alertTime: '2016-02-24T01:00:00+0000'
                        device:
                          id: e3ef168f-dbb7-43f6-ad6a-c052a85be34f
                          name: abc
                          hostName: ''
                          ipAddress: ''
                          type: DEVICE
                          aliasName: ''
                          resourceName: abc
                          resourceType: Desktop
                        resource:
                          id: e3ef168f-dbb7-43f6-ad6a-c052a85be34f
                          hostName: ''
                          ipAddress: ''
                          type: Desktop
                          aliasName: ''
                          name: abc
                          resourceName: abc
                          consoles: []
                          resourceType: Desktop
                          frequency: 0
                          paused: false
                          deleted: false
                          validateSSL: false
                          port: 0
                          encrypted: false
                          timeout: 0
                          days: 0
                          ts: 0
                          clientId: 0
                          locationOffset: 0
                          totalLocations: 0
                          receiverHostPort: 0
                        repeatCount: '1'
                        tenantId: 593972
                        status: New
                        priority: N/A
                        elapsedTimeString: '4d 22h 21m '
                        createdDate: '2016-02-24T01:15:00+0000'
                        updatedTime: '2016-02-24T09:19:47+0000'
                        rba: false
                        tenantName: Client_Test
                        managedByOpsRamp: false
                        actedTs: 0
                        eventType: ALERT
                        metric: Windows Event Log
                        inferenceId: 0
                        statusHistory:
                          createdBy: system
                          createdTime: '2016-02-24T01:15:00+0000'
                      - uniqueId: '389546'
                        subject: Testing Alert-3-info state
                        currentState: Info
                        serviceName: Windows Event Log
                        acknowledged: false
                        suppressed: false
                        permanentlySuppressed: false
                        closed: false
                        ticketed: false
                        clientUniqueId: client_593972
                        alertType: Monitoring
                        alertTime: '2016-02-24T02:20:00+0000'
                        device:
                          id: 34b9b0f8-66df-4681-809e-dfd06fff3fa6
                          name: 0800270B9A7A
                          hostName: 0800270B9A7A
                          ipAddress: 172.24.132.131
                          type: DEVICE
                          aliasName: ''
                          resourceName: ''
                          resourceType: OpsRamp Gateway
                        resource:
                          id: 34b9b0f8-66df-4681-809e-dfd06fff3fa6
                          hostName: 0800270B9A7A
                          ipAddress: 172.24.132.131
                          type: OpsRamp Gateway
                          aliasName: ''
                          name: 0800270B9A7A
                          resourceName: ''
                          consoles: []
                          resourceType: OpsRamp Gateway
                          frequency: 0
                          paused: false
                          deleted: false
                          validateSSL: false
                          port: 0
                          encrypted: false
                          timeout: 0
                          days: 0
                          ts: 0
                          clientId: 0
                          locationOffset: 0
                          totalLocations: 0
                          receiverHostPort: 0
                        repeatCount: '1'
                        tenantId: 593972
                        status: New
                        priority: N/A
                        elapsedTimeString: '4d 22h 21m '
                        createdDate: '2016-02-24T02:50:00+0000'
                        updatedTime: '2016-02-24T09:19:47+0000'
                        rba: false
                        tenantName: Client_Test
                        managedByOpsRamp: false
                        actedTs: 0
                        eventType: ALERT
                        metric: Windows Event Log
                        inferenceId: 0
                        statusHistory:
                          createdBy: system
                          createdTime: '2016-02-24T01:15:00+0000'
                    totalResults: 3
                    orderBy: ts
                    pageNo: 1
                    pageSize: 4
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: true
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
          description: '{pageNo}'
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
          description: '{pageSize}'
        - schema:
            type: boolean
            default: 'true'
          in: query
          name: isDescendingOrder
          description: '{true/false}'
        - schema:
            type: string
            default: id
          in: query
          name: sortName
          description: '{field}'
        - schema:
            type: string
          in: query
          name: queryString
          description: '{queryString}'
        - schema:
            type: string
          in: query
          name: viewID
        - schema:
            type: string
          in: query
          name: statusHistory
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/alertStatusHistory/{alertId}':
    summary: Get alert status history
    description: Gets alert status history.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  alertId:
                    type: integer
                  createdBy:
                    type: string
                  createdTime:
                    type: string
                    format: date-time
                  acknowledgedBy:
                    type: string
                  acknowledgedTime:
                    type: string
                  suppressedBy:
                    type: string
                  suppressedTime:
                    type: string
                    format: date-time
              examples:
                example-1:
                  value:
                    alertId: 2156
                    createdBy: system
                    createdTime: '2019-04-02T14:27:55+0000'
                    acknowledgedBy: superadmin
                    acknowledgedTime: '2019-04-02T14:33:18+0000'
                    suppressedBy: superadmin
                    suppressedTime: '2019-04-02T14:33:59+0000'
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
  '/api/v2/tenants/{tenantId}/subAlertTypes':
    summary: Get sub-alert types
    description: Gets the sub-alert types.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              examples:
                example-1:
                  value:
                    - AVUD
                    - AVUS
                    - DEFRAG
                    - Device Down
                    - DISK
                    - EVENTLOGS
                    - Hung Server
                    - Memory
                    - Paging File
                    - PATCH DLD
                    - PATCH DLS
                    - PATCH INLD
                    - PATCH INLS
                    - Processor Usage
                    - TEMP
      parameters:
        - schema:
            type: string
          in: query
          name: alertTypes
          description: '{alertType}'
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/alerts/{alertId}/tickets/{ticketId}/update':
    summary: Update incident with alert ID
    description: Updates an incident with an alert ID
    put:
      tags:
        - alerts
      responses:
        '200':
          description: OK
      summary: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/alertId'
      - $ref: '#/components/parameters/ticketId'
  '/api/v2/tenants/{tenantId}/policies/firstResponse':
    summary: Manage first response policy details
    description: Creates and views first response policydetails.
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        enabled:
                          type: boolean
                        precedence:
                          type: integer
                        firstResponseType:
                          type: string
                  totalResults:
                    type: integer
                  orderBy:
                    type: string
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - id: POLICY-AC-c44f4193-154a-4aa5-b8a9-e5ea5acb386b
                        name: Policy1
                        enabled: true
                        precedence: 1
                        firstResponseType: SUPPRESSION
                      - id: POLICY-AC-d53e179d-8c9b-4564-b793-dc639f6a7cf2
                        name: Policy2
                        enabled: true
                        precedence: 2
                        firstResponseType: SUPPRESSION
                    totalResults: 2
                    orderBy: precedence
                    pageNo: 1
                    pageSize: 100
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: false
      parameters:
        - schema:
            type: integer
          in: query
          name: pageNo
        - schema:
            type: integer
          in: query
          name: pageSize
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  enabled:
                    type: boolean
                  precedence:
                    type: integer
                  filterCriteria:
                    type: object
                    properties:
                      filterBased:
                        type: string
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            filterType:
                              type: string
                            entityName:
                              type: string
                            operator:
                              type: string
                            entityValue:
                              type: string
                  firstResponseType:
                    type: string
                  suppression:
                    type: object
                    properties:
                      suppressSeasonalAlerts:
                        type: boolean
                      suppressByAttributes:
                        type: boolean
                      autoSnooze:
                        type: boolean
                      continuousLearning:
                        type: boolean
                      trainingFileId:
                        type: string
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  createdTime:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
              examples:
                example-1:
                  value:
                    id: POLICY-AC-c44f4193-154a-4aa5-b8a9-e5ea5acb386b
                    name: Policy1
                    enabled: true
                    precedence: 1
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Starts with
                          entityValue: vm
                    firstResponseType: SUPPRESSION
                    suppression:
                      suppressSeasonalAlerts: true
                      suppressByAttributes: true
                      autoSnooze: true
                      continuousLearning: true
                      trainingFileId: ml_alert_suppression_training
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: opsAdmin@opsramp.com
                    createdTime: '2019-02-27T12:50:44+0000'
                    updatedTime: ''
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    Name of the first response policy. Maximum length: 250 characters.
                enabled:
                  type: boolean
                  description: |
                    (Optional) State of the first response policy. Default state: true.
                precedence:
                  type: integer
                  description: |
                    (Optional) Order of execution of the first response policy.
                filterCriteria:
                  type: object
                  description: (Optional) Values used for filter criteria.
                  properties:
                    filterBased:
                      type: string
                      description: 'Defines the value used for filterBased. Default Value: False.'
                      default: 'false'
                    matchingType:
                      type: string
                      description: |-
                        Defines the type of matching results either ANY or ALL.
                        - Select ANY to match results based on any specified filter criteria.
                        - Select ALL to match results based on all specified  filter criteria.
                      enum:
                        - ANY
                        - ALL
                    rules:
                      type: array
                      description: |-
                        By default, the field rules is set to False. Mandatory only when filterBased is TRUE. Values for filterType are either
                        - native attributes
                            - dns_name
                            - host_name
                            - alias_name
                            - ip_address
                            - resource_type
                            - agent_installed
                            - operating_system
                            - make
                            - model
                            - alert_source
                            - alert_metric
                        - custom attributes
                            - Provide custom attribute names defined for client or partner or service provider assigned to the resources.
                      items:
                        type: object
                        properties:
                          filterType:
                            type: string
                          entityName:
                            type: string
                          operator:
                            type: string
                            description: ''
                            enum:
                              - Contains
                              - Not Contains
                              - Equals
                              - Not Equals
                              - Starts With
                              - Ends With
                              - Regex
                              - Is
                          entityValue:
                            type: string
                            description: Value used to compare.
                firstResponseType:
                  type: string
                  description: 'The first response type. Supported value: SUPPRESSION.'
                  enum:
                    - SUPPRESSION
                suppression:
                  type: object
                  description: |
                    Used only for suppression type.
                  properties:
                    suppressSeasonalAlerts:
                      type: boolean
                      description: |
                        Suppress alerts that happen regularly and at the same time approximately.
                    suppressByAttributes:
                      type: boolean
                      description: |
                        Suppress specific alerts.
                    autoSnooze:
                      type: boolean
                      description: |
                        Snooze specific alerts for a given time.
                    continuousLearning:
                      type: boolean
                      description: |
                        Enable/Disable continuous machine learning.
                    trainingFileId:
                      type: string
                      description: |
                        ID of the training file. This ID is used only when suppressByAttributes is TRUE.
              required:
                - name
            examples:
              example-1:
                value:
                  name: Policy1
                  filterCriteria:
                    filterBased: 'true'
                    matchingType: ALL
                    rules:
                      - filterType: native
                        entityName: host_name
                        operator: Starts With
                        entityValue: vm
                  firstResponseType: SUPPRESSION
                  suppression:
                    suppressSeasonalAlerts: true
                    suppressByAttributes: true
                    autoSnooze: true
                    continuousLearning: true
                    trainingFileId: ml_alert_suppression_training
        description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/policies/firstResponse/{policyId}':
    summary: Manage first response policy by ID
    description: 'Updates, gets, and deletes a first response policy by ID.'
    delete:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  enabled:
                    type: boolean
                  precedence:
                    type: integer
                  filterCriteria:
                    type: object
                    properties:
                      filterBased:
                        type: string
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            filterType:
                              type: string
                            entityName:
                              type: string
                            operator:
                              type: string
                            entityValue:
                              type: string
                  firstResponseType:
                    type: string
                  suppression:
                    type: object
                    properties:
                      suppressSeasonalAlerts:
                        type: boolean
                      suppressByAttributes:
                        type: boolean
                      autoSnooze:
                        type: boolean
                      continuousLearning:
                        type: boolean
                      trainingFileId:
                        type: string
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  createdTime:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
              examples:
                example-1:
                  value:
                    id: POLICY-AC-d53e179d-8c9b-4564-b793-dc639f6a7cf2
                    name: Policy2
                    enabled: true
                    precedence: 2
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Starts with
                          entityValue: vm
                    firstResponseType: SUPPRESSION
                    suppression:
                      suppressSeasonalAlerts: false
                      suppressByAttributes: false
                      autoSnooze: true
                      continuousLearning: true
                      trainingFileId: ml_alert_suppression_training
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: opsAdmin@opsramp.com
                    createdTime: '2019-02-28T09:25:56+0000'
                    updatedTime: ''
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  enabled:
                    type: boolean
                  precedence:
                    type: integer
                  filterCriteria:
                    type: object
                    properties:
                      filterBased:
                        type: string
                      matchingType:
                        type: string
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            filterType:
                              type: string
                            entityName:
                              type: string
                            operator:
                              type: string
                            entityValue:
                              type: string
                  firstResponseType:
                    type: string
                  suppression:
                    type: object
                    properties:
                      suppressSeasonalAlerts:
                        type: boolean
                      suppressByAttributes:
                        type: boolean
                      autoSnooze:
                        type: boolean
                      continuousLearning:
                        type: boolean
                      trainingFileId:
                        type: string
                  createdBy:
                    type: object
                    properties:
                      loginName:
                        type: string
                      lastName:
                        type: string
                      firstName:
                        type: string
                      email:
                        type: string
                  createdTime:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
              examples:
                example-1:
                  value:
                    id: POLICY-AC-c44f4193-154a-4aa5-b8a9-e5ea5acb386b
                    name: Policy1
                    enabled: true
                    precedence: 1
                    filterCriteria:
                      filterBased: true
                      matchingType: ALL
                      rules:
                        - filterType: nativeAttributes
                          entityName: host_name
                          operator: Starts with
                          entityValue: vm
                    firstResponseType: SUPPRESSION
                    suppression:
                      suppressSeasonalAlerts: true
                      suppressByAttributes: true
                      autoSnooze: true
                      continuousLearning: true
                      trainingFileId: ml_alert_suppression_training
                    createdBy:
                      loginName: opsramp_api_user
                      lastName: ' '
                      firstName: OpsRamp API User
                      email: opsAdmin@opsramp.com
                    createdTime: '2019-02-27T12:50:44+0000'
                    updatedTime: ''
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    Name of the first response policy. Maximum length: 250 characters.
                enabled:
                  type: boolean
                  description: |
                    (Optional) State of the first response policy. Default state: true.
                precedence:
                  type: integer
                  description: |
                    (Optional) Order of execution of the first response policy.
                filterCriteria:
                  type: object
                  description: (Optional) Values used for filter criteria.
                  properties:
                    filterBased:
                      type: string
                      description: 'Defines the value used for filterBased. Default Value: False.'
                      default: 'false'
                    matchingType:
                      type: string
                      description: |-
                        Defines the type of matching results either ANY or ALL.
                        - Select ANY to match results based on any specified filter criteria.
                        - Select ALL to match results based on all specified  filter criteria.
                      enum:
                        - ANY
                        - ALL
                    rules:
                      type: array
                      description: |-
                        By default, the field rules is set to False. Mandatory only when filterBased is TRUE. Values for filterType are either
                        - native attributes
                            - dns_name
                            - host_name
                            - alias_name
                            - ip_address
                            - resource_type
                            - agent_installed
                            - operating_system
                            - make
                            - model
                            - alert_source
                            - alert_metric
                        - custom attributes
                            - Provide custom attribute names defined for client or partner or service provider assigned to the resources.
                      items:
                        type: object
                        properties:
                          filterType:
                            type: string
                          entityName:
                            type: string
                          operator:
                            type: string
                            description: ''
                            enum:
                              - Contains
                              - Not Contains
                              - Equals
                              - Not Equals
                              - Starts With
                              - Ends With
                              - Regex
                              - Is
                          entityValue:
                            type: string
                            description: Value used to compare.
                firstResponseType:
                  type: string
                  description: 'The first response type. Supported value: SUPPRESSION.'
                  enum:
                    - SUPPRESSION
                suppression:
                  type: object
                  description: |
                    Used only for suppression type.
                  properties:
                    suppressSeasonalAlerts:
                      type: boolean
                      description: |
                        Suppress alerts that happen regularly and at the same time approximately.
                    suppressByAttributes:
                      type: boolean
                      description: |
                        Suppress specific alerts.
                    autoSnooze:
                      type: boolean
                      description: |
                        Snooze specific alerts for a given time.
                    continuousLearning:
                      type: boolean
                      description: |
                        Enable/Disable continuous machine learning.
                    trainingFileId:
                      type: string
                      description: |
                        ID of the training file. This ID is used only when suppressByAttributes is TRUE.
              required:
                - name
            examples:
              example-1:
                value:
                  name: firstResponse_1
                  enabled: true
                  filterCriteria:
                    filterBased: true
                    matchingType: ALL
                    rules:
                      - filterType: nativeAttributes
                        entityName: host_name
                        operator: Starts with
                        entityValue: vm
                      - filterType: nativeAttributes
                        entityName: ip_address
                        ipMatchingConditions:
                          ipAddressMatchType: CIDR Match
                          cidrNotation: 192.168.1.1/24
                  firstResponseType: SUPPRESSION
                  suppression:
                    suppressSeasonalAlerts: true
                    suppressByAttributes: true
                    autoSnooze: true
                    continuousLearning: false
                    trainingFileId: ml_alert_suppression_training
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - schema:
          type: string
        in: path
        name: policyId
        required: true
  '/api/v2/tenants/{tenantId}/policies/firstResponse/{policyId}/{status}':
    summary: Enable and disable first response policy
    description: Enables and disables the first response policy.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/policyId'
      - schema:
          type: string
          enum:
            - enable
            - disable
        in: path
        name: status
        required: true
        description: Policy state
  '/api/v2/tenants/{tenantId}/rosters':
    summary: Create partner and client rosters
    description: Creates partner-level and client-level rosters.
    post:
      tags:
        - alerts
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    Unique name for roster used for roster identification.
                description:
                  type: string
                timeZone:
                  type: object
                  description: |-
                    Time zone in which the roster should operate (see table). An example time zone is:
                    `"timeZone": {"name": "Asia/Calcutta"},`
                  properties:
                    name:
                      type: string
                shiftDetails:
                  type: object
                  properties:
                    name:
                      type: string
                      description: |
                        Unique name for shift. The shift would be identified with the name.Example: Morning Shift
                    schedule:
                      type: object
                      properties:
                        type:
                          type: string
                          enum:
                            - one-time
                            - recurring
                          description: |-
                            Define the schedule type for the roster.
                            - If a roster should be active only for a single time period, provide"type": "one-time".
                            - If a roster should repeat multiple times, provide"type": "recurring".
                        startDate:
                          type: string
                          description: |-
                            startDate and endDate indicates a duration for a roster to operate. Use a start date for a roster. If, for example, a roster should start from 06-February-2018 at 07:00 AM, use "startDate": "2018-02-06T07:05:00+0000".

                            Date should be in GMT format.
                        endDate:
                          type: string
                          description: |-
                            Provide an end date for a roster.For example, if a roster should stop on 10-March-2018 at 05:30 PM, provide "endDate": "2018-03-10T17:30:00+0000".

                            Date should be in GMT format.
                        pattern:
                          type: object
                          description: |-
                            Mandatory for recurring schedule type.

                            Schedule pattern type for a roster to operate.
                            - daily: Schedule a roster to repeat day-to-day.
                            - weekly: Schedule a roster to repeat on certain week days. Example: "Monday, Wednesday".
                            - monthly: Schedule a roster to repeat on certain weekdays or days of every month. Weekdays are specified as strings and days are specified as integer. Examples would be: the First Monday of every month or on the fourth day of every month.
                            - yearly: Schedule a roster to repeat on yearly basis. Example: Repeat a roster once in a year or once in three years.

                            Use "Pattern Types for Recurring Schedule" for the fields required to configure a recurring pattern type.
                          properties:
                            type:
                              type: string
                            repeatFrequency:
                              type: integer
                              description: Provide how often a roster should repeat
                              minimum: 1
                              maximum: 10
                            startDate:
                              type: string
                              description: 'startDate and endPattern indicate a duration for a roster to operate. Provide a start date for a roster. For example, if a roster should start from 10-February-2018, provide"startDate": "2018-02-10T00:00:00+0000".'
                            endPattern:
                              type: string
                              enum:
                                - NEVER
                                - OCCURRENCES
                                - DATE
                              description: |-
                                Configure a pattern to end a roster. OpsRamp supports three types of patterns:
                                - NEVER: A roster should continue without any end time.
                                - OCCURRENCES: A roster should stop after specific occurrences. For example, to end a roster after five occurrences, provide "OCCURRENCES": 5.
                                - DATE: A roster should stop on a specific date. For example, to end a roster on 06-March-2018, provide "DATE": "2018-03-16T00:00:00+0000".
                            weekdays:
                              type: string
                              enum:
                                - Sunday
                                - Monday
                                - Tuesday
                                - Wednesday
                                - Thursday
                                - Friday
                                - Saturday
                              description: '(Optional) Provide the week days on which a roster should repeat. For example, to repeat a roster on every Monday, Wednesday, and Thursday, use "weekDays": "Monday,Wednesday,Thursday".'
                            repeatType:
                              type: string
                              enum:
                                - DAY_OF_WEEK
                                - DAY_OF_MONTH
                              description: |-
                                Configure on which days in a month a roster should repeat.
                                - DAY_OF_WEEK: Weekday on which a roster should repeat. Configure the week day using weekIndex and dayOfWeek fields.
                                - DAY_OF_MONTH: Date on which a roster should repeat. Configure the date using the dayofMonth field.
                            weekIndex:
                              type: string
                              description: 'The index of a week in a month.Example: First Monday, Second Saturday, Last Thursday.'
                              enum:
                                - First
                                - First
                                - Third
                                - Fourth
                                - Last
                            dayOfWeek:
                              type: string
                              enum:
                                - Sunday
                                - Monday
                                - Tuesday
                                - Wednesday
                                - Thursday
                                - Friday
                                - Saturday
                              description: |
                                Week day on which the roster should repeat.For example, to repeat a roster on the first Monday of every month, provide "weekIndex": "First" and "dayOfWeek": "Monday".
                            dayOfMonth:
                              type: integer
                              minimum: 1
                              maximum: 31
                              description: 'Day on which a roster should repeat. Days range from 1 to 31. For example, to repeat a roster on the 2nd of every month, provide "dayOfMonth": 2.'
                      required:
                        - startDate
                        - endDate
                    users:
                      type: array
                      description: |
                        Add users to a roster.
                      items:
                        type: object
                    userGroups:
                      type: array
                      description: |
                        Add user groups to a roster.
                      items:
                        type: object
            examples:
              example-one-time-roster:
                value:
                  name: SJ Network Support
                  description: Team which handles SJ network issues
                  timeZone:
                    name: Asia/Calcutta
                  shiftDetails:
                    - name: Morning shift
                      schedule:
                        type: one-time
                        startDate: '2018-02-06T07:05:00+0000'
                        endDate: '2018-03-10T17:30:00+0000'
                      users:
                        - id: USR0000000018
                      userGroups:
                        - uniqueId: USRGRP-37644ff5-7ea5-a3aa-e288-9c2666dc02e4
              example-recurring:
                value:
                  name: SJ Network Support
                  description: Team to handle all network issues in SJ site.
                  timeZone:
                    name: Asia/Calcutta
                  shiftDetails:
                    - name: Morning shift
                      schedule:
                        type: one-time
                        startDate: '2018-02-05T07:05:00+0000'
                        endDate: '2018-06-10T16:10:20+0000'
                      users:
                        - id: USR0000000018
                      userGroups:
                        - uniqueId: USRGRP-37644ff5-7ea5-a3aa-e288-9c2666dc02e4
                    - name: Evening shift
                      schedule:
                        type: recurring
                        startDate: '2018-03-06T00:00:00+0000'
                        startTime: '16:30:00'
                        endTime: '01:30:10'
                        pattern:
                          type: weekly
                          weekDays: 'Wednesday,Thursday,Friday'
                          repeatFrequency: 5
                        endPattern:
                          type: NEVER
                      users:
                        - id: USR0000000020
                      userGroups:
                        - uniqueId: USRGRP-48965gg5-8fg6-a3aa-e288-0d3667e36f5
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                    description: ''
                  description:
                    type: string
                  createdTime:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
                  timeZone:
                    type: object
                    description: ''
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      label:
                        type: string
                      code:
                        type: string
                  client:
                    type: object
                    properties:
                      id:
                        type: integer
                      uniqueId:
                        type: string
                      name:
                        type: string
                      activated:
                        type: boolean
                  shiftDetails:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        schedule:
                          type: object
                          properties:
                            type:
                              type: string
                            startDate:
                              type: string
                              format: date-time
                            startTime:
                              type: string
                              format: date-time
                            endTime:
                              type: string
                            pattern:
                              type: object
                              properties:
                                type:
                                  type: string
                                weekDays:
                                  type: string
                                repeatFrequency:
                                  type: string
                            endPattern:
                              type: object
                              properties:
                                type:
                                  type: string
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              loginName:
                                type: string
                              lastName:
                                type: string
                              firstName:
                                type: string
                              email:
                                type: string
                              phoneNumber:
                                type: string
                              mobileNumber:
                                type: string
                        userGroups:
                          type: array
                          items:
                            type: object
                            properties:
                              uniqueId:
                                type: string
                              name:
                                type: string
                              description:
                                type: string
                              createdTime:
                                type: string
                                format: date-time
              examples:
                example-1:
                  value:
                    id: ES-3b05178f-b197-46b2-9451-db9bfc3c8403
                    name: SJ Network Support
                    description: Team to monitor all network issues in SJ site.
                    createdTime: '2018-02-04T09:08:15+0000'
                    updatedTime: ''
                    timeZone:
                      id: '19'
                      name: Asia/Calcutta
                      label: 'GMT +05:30 India'
                      code: IST
                    client:
                      id: 7
                      uniqueId: client_7
                      name: Logix Inc
                      activated: true
                    shiftDetails:
                      - id: ESD-237dffd1-8b86-47da-a40a-78246b6028e1
                        name: Morning shift
                        schedule:
                          type: one-time
                          startDate: '2018-02-06T07:05:00+0000'
                          endDate: '2017-06-10T16:10:20+0000'
                        users:
                          - id: USR0000000018
                            loginName: John_Smith
                            lastName: Smith
                            firstName: John
                            email: john.smith@myorganization.com
                            phoneNumber: ''
                            mobileNumber: '9004561234'
                        userGroups:
                          - uniqueId: USRGRP-37644ff5-7ea5-a3aa-e288-9c2666dc02e4
                            name: Network Admins
                            description: ''
                            createdTime: '2017-03-14T11:40:35+0000'
                      - id: ESD-edaea54b-9a2a-42e9-b54b-6dea26c55202
                        name: Evening shift
                        schedule:
                          type: recurring
                          startDate: '2018-02-06T00:00:00+0000'
                          startTime: '16:30:00'
                          endTime: '01:30:10'
                          pattern:
                            type: weekly
                            weekDays: 'Wednesday,Thursday,Friday'
                            repeatFrequency: 5
                          endPattern:
                            type: NEVER
                        users:
                          - id: USR0000000018
                            loginName: James_Blake
                            lastName: Blake
                            firstName: James
                            email: james.blake@myorganization.com
                            phoneNumber: ''
                            mobileNumber: '9001237123'
                        userGroups:
                          - uniqueId: USRGRP-37644ff5-7ea5-a3aa-e288-9c2666dc02e4
                            name: Database Admins
                            description: Team to monitor all Database issues.
                            createdTime: '2017-03-14T11:40:35+0000'
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/rosters/{rosterId}':
    summary: Manage rosters
    description: 'Updates, gets, and deletes rosters.'
    delete:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                    description: ''
                  description:
                    type: string
                  createdTime:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
                  timeZone:
                    type: object
                    description: ''
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      label:
                        type: string
                      code:
                        type: string
                  allClients:
                    type: boolean
                  shiftDetails:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        schedule:
                          type: object
                          properties:
                            type:
                              type: string
                            startDate:
                              type: string
                              format: date-time
                            startTime:
                              type: string
                              format: date-time
                            endTime:
                              type: string
                            pattern:
                              type: object
                              properties:
                                type:
                                  type: string
                                weekDays:
                                  type: string
                                repeatFrequency:
                                  type: string
                            endPattern:
                              type: object
                              properties:
                                type:
                                  type: string
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              loginName:
                                type: string
                              lastName:
                                type: string
                              firstName:
                                type: string
                              email:
                                type: string
                              phoneNumber:
                                type: string
                        userGroups:
                          type: array
                          items:
                            type: object
                            properties:
                              uniqueId:
                                type: string
                              name:
                                type: string
                              description:
                                type: string
                              createdTime:
                                type: string
                                format: date-time
                              updatedTime:
                                type: string
                                format: date-time
              examples:
                example-1:
                  value:
                    id: ES-f64e08e8-9d78-40fa-8bba-19d36d42653f
                    name: Linix Admins
                    description: Team working on Linux issues
                    createdTime: '2017-12-27T06:26:41+0000'
                    updatedTime: '2017-12-27T06:57:00+0000'
                    timeZone:
                      id: '19'
                      name: Asia/Calcutta
                      label: 'GMT +05:30 India'
                      code: IST
                    allClients: true
                    shiftDetails:
                      - id: ESD-ab20240d-7d02-489e-8cbd-6592e2980aec
                        name: Second shift
                        schedule:
                          type: recurring
                          startDate: '2017-12-27T04:45:00+0000'
                          startTime: '10:15:00'
                          endTime: '15:20:00'
                          pattern:
                            type: weekly
                            weekDays: 'Wednesday,Thursday,Friday'
                            repeatFrequency: 5
                          endPattern:
                            type: NEVER
                        users:
                          - id: USR0000000021
                            loginName: James.Hudson
                            lastName: Hudson
                            firstName: James
                            email: james.h@myorganization.com
                            phoneNumber: 802-1231-234
                      - id: ESD-f05a111c-a596-4ad5-9eba-67444020434b
                        name: First shift
                        schedule:
                          type: one-time
                          startDate: '2017-12-28T04:41:12+0000'
                          endDate: '2017-12-29T09:46:20+0000'
                        users:
                          - id: USR0000000043
                            loginName: John.Smith
                            lastName: Smith
                            firstName: John
                            email: john.smith@myorganization.com
                            phoneNumber: 803-4567-890
                        userGroups:
                          - uniqueId: USRGRP-b5f0e4d4-76ad-4497-8fc7-2790e3eaa343
                            name: Network Admins Group
                            description: Team working on network issues.
                            createdTime: '2017-12-17T16:26:55+0000'
                            updatedTime: '2017-12-18T10:48:51+0000'
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                    description: ''
                  description:
                    type: string
                  createdTime:
                    type: string
                    format: date-time
                  updatedTime:
                    type: string
                    format: date-time
                  timeZone:
                    type: object
                    description: ''
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      label:
                        type: string
                      code:
                        type: string
                  client:
                    type: object
                    properties:
                      id:
                        type: integer
                      uniqueId:
                        type: string
                      name:
                        type: string
                      activated:
                        type: boolean
                  shiftDetails:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        schedule:
                          type: object
                          properties:
                            type:
                              type: string
                            startDate:
                              type: string
                              format: date-time
                            startTime:
                              type: string
                              format: date-time
                            endTime:
                              type: string
                            pattern:
                              type: object
                              properties:
                                type:
                                  type: string
                                weekDays:
                                  type: string
                                repeatFrequency:
                                  type: string
                            endPattern:
                              type: object
                              properties:
                                type:
                                  type: string
                        users:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              loginName:
                                type: string
                              lastName:
                                type: string
                              firstName:
                                type: string
                              email:
                                type: string
                              phoneNumber:
                                type: string
                              mobileNumber:
                                type: string
                        userGroups:
                          type: array
                          items:
                            type: object
                            properties:
                              uniqueId:
                                type: string
                              name:
                                type: string
                              description:
                                type: string
                              createdTime:
                                type: string
                                format: date-time
              examples:
                example-1:
                  value:
                    id: ES-26ecfba7-6896-47a8-aa8d-825b610513e6
                    name: Network and Windows Support
                    description: Team working on network and Windows devices issues.
                    createdTime: '2017-12-27T06:32:11+0000'
                    updatedTime: ''
                    timeZone:
                      id: '19'
                      name: Asia/Calcutta
                      label: 'GMT +05:30 India'
                      code: IST
                    client:
                      id: 7
                      uniqueId: client_7
                      name: Logix Inc
                      activated: true
                    shiftDetails:
                      - id: ESD-5296f16f-d254-4d67-bfe8-574d3519d172
                        name: Morning shift
                        schedule:
                          type: one-time
                          startDate: '2017-12-28T04:41:12+0000'
                          endDate: '2017-12-29T09:46:20+0000'
                        users:
                          - id: USR0000000018
                            loginName: John.Smith
                            lastName: Smith
                            firstName: John
                            email: john.smith@myorganization.com
                            phoneNumber: ''
                            mobileNumber: 802-123-4433
                        userGroups:
                          - uniqueId: USRGRP-37644ff5-7ea5-a3aa-e288-9c2666dc02e4
                            name: Network Architects
                            description: ''
                            createdTime: '2017-03-14T11:40:35+0000'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    Unique name for roster used for roster identification.
                description:
                  type: string
                timeZone:
                  type: object
                  description: |-
                    Time zone in which the roster should operate (see table). An example time zone is:
                    `"timeZone": {"name": "Asia/Calcutta"},`
                  properties:
                    name:
                      type: string
                shiftDetails:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                      description: |
                        Unique name for shift. The shift would be identified with the name.Example: Morning Shift
                    schedule:
                      type: object
                      properties:
                        type:
                          type: string
                          enum:
                            - one-time
                            - recurring
                          description: |-
                            Define the schedule type for the roster.
                            - If a roster should be active only for a single time period, provide"type": "one-time".
                            - If a roster should repeat multiple times, provide"type": "recurring".
                        startDate:
                          type: string
                          description: |-
                            startDate and endDate indicates a duration for a roster to operate. Use a start date for a roster. If, for example, a roster should start from 06-February-2018 at 07:00 AM, use "startDate": "2018-02-06T07:05:00+0000".

                            Date should be in GMT format.
                        endDate:
                          type: string
                          description: |-
                            Provide an end date for a roster.For example, if a roster should stop on 10-March-2018 at 05:30 PM, provide "endDate": "2018-03-10T17:30:00+0000".

                            Date should be in GMT format.
                        pattern:
                          type: object
                          description: |-
                            Mandatory for recurring schedule type.

                            Schedule pattern type for a roster to operate.
                            - daily: Schedule a roster to repeat day-to-day.
                            - weekly: Schedule a roster to repeat on certain week days. Example: "Monday, Wednesday".
                            - monthly: Schedule a roster to repeat on certain weekdays or days of every month. Weekdays are specified as strings and days are specified as integer. Examples would be: the First Monday of every month or on the fourth day of every month.
                            - yearly: Schedule a roster to repeat on yearly basis. Example: Repeat a roster once in a year or once in three years.

                            Use "Pattern Types for Recurring Schedule" for the fields required to configure a recurring pattern type.
                          properties:
                            type:
                              type: string
                            repeatFrequency:
                              type: integer
                              description: Provide how often a roster should repeat
                              minimum: 1
                              maximum: 10
                            startDate:
                              type: string
                              description: 'startDate and endPattern indicate a duration for a roster to operate. Provide a start date for a roster. For example, if a roster should start from 10-February-2018, provide"startDate": "2018-02-10T00:00:00+0000".'
                            endPattern:
                              type: string
                              enum:
                                - NEVER
                                - OCCURRENCES
                                - DATE
                              description: |-
                                Configure a pattern to end a roster. OpsRamp supports three types of patterns:
                                - NEVER: A roster should continue without any end time.
                                - OCCURRENCES: A roster should stop after specific occurrences. For example, to end a roster after five occurrences, provide "OCCURRENCES": 5.
                                - DATE: A roster should stop on a specific date. For example, to end a roster on 06-March-2018, provide "DATE": "2018-03-16T00:00:00+0000".
                            weekdays:
                              type: string
                              enum:
                                - Sunday
                                - Monday
                                - Tuesday
                                - Wednesday
                                - Thursday
                                - Friday
                                - Saturday
                              description: '(Optional) Provide the week days on which a roster should repeat. For example, to repeat a roster on every Monday, Wednesday, and Thursday, use "weekDays": "Monday,Wednesday,Thursday".'
                            repeatType:
                              type: string
                              enum:
                                - DAY_OF_WEEK
                                - DAY_OF_MONTH
                              description: |-
                                Configure on which days in a month a roster should repeat.
                                - DAY_OF_WEEK: Weekday on which a roster should repeat. Configure the week day using weekIndex and dayOfWeek fields.
                                - DAY_OF_MONTH: Date on which a roster should repeat. Configure the date using the dayofMonth field.
                            weekIndex:
                              type: string
                              description: 'The index of a week in a month.Example: First Monday, Second Saturday, Last Thursday.'
                              enum:
                                - First
                                - First
                                - Third
                                - Fourth
                                - Last
                            dayOfWeek:
                              type: string
                              enum:
                                - Sunday
                                - Monday
                                - Tuesday
                                - Wednesday
                                - Thursday
                                - Friday
                                - Saturday
                              description: |
                                Week day on which the roster should repeat.For example, to repeat a roster on the first Monday of every month, provide "weekIndex": "First" and "dayOfWeek": "Monday".
                            dayOfMonth:
                              type: integer
                              minimum: 1
                              maximum: 31
                              description: 'Day on which a roster should repeat. Days range from 1 to 31. For example, to repeat a roster on the 2nd of every month, provide "dayOfMonth": 2.'
                      required:
                        - startDate
                        - endDate
                    users:
                      type: array
                      description: |
                        Add users to a roster.
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                    userGroups:
                      type: array
                      description: |
                        Add user groups to a roster.
                      items:
                        type: object
                        properties:
                          uniqueId:
                            type: string
            examples:
              example-1:
                value:
                  name: Network and Windows Support
                  description: Team working on all network and Windows devices issues.
                  timeZone:
                    name: Asia/Calcutta
                  shiftDetails:
                    - id: ESD-5296f16f-d254-4d67-bfe8-574d3519d172
                      name: Morning shift
                      schedule:
                        type: one-time
                        startDate: '2017-12-28T04:41:12+0000'
                        endDate: '2017-12-29T09:46:20+0000'
                      users:
                        - id: USR0000000018
                      userGroups:
                        - uniqueId: USRGRP-37644ff5-7ea5-a3aa-e288-9c2666dc02e4
    parameters:
      - in: path
        name: tenantId
        schema:
          type: string
        required: true
        description: Describes the client ID or msp ID of the tenant
      - $ref: '#/components/parameters/rosterId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances/{smId}/resources':
    summary: Manage schedule maintenance window resources
    description: Adds and deletes schedule maintenance window resources.
    post:
      description: |-
        Adds resources to a scheduled maintenance window.

        ##### Notes
        - Resources can only be added to Active, Pending, or Suspended scheduled maintenance windows.
        - To search for scheduled maintenance windows on the basis of status, use the search schedule maintenance API.
        - Entities can be added such as resource, device group, location to a schedule maintenance window. For example, all resource types such as Server, Storage, Volumes, RedShift, RDS or Lambda services are now supported.
        - User can add up to 100 resources (device, device group, location) to a schedule maintenance window.
      tags:
        - alerts
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                devices:
                  type: array
                  items:
                    type: object
                    properties:
                      hostName:
                        type: string
                      uniqueId:
                        type: string
                locations:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                deviceGroups:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      id:
                        type: string
            examples:
              example-1:
                value:
                  devices:
                    - hostName: device-1
                    - uniqueId: 90491678-096c-4223-9867-f31c37ff09da
                  deviceGroups:
                    - name: Network Group
                    - id: DGP-a20e13ad-e98f-416e-a9dd-40158ffdb2af
                  locations:
                    - name: West Virginia
                    - id: '12'
      responses:
        '200':
          description: OK
    delete:
      description: |-
        Deletes resources from a scheduled maintenance window.

        ##### Notes
        - Resources can only be removed from Active, Pending, or Suspended scheduled maintenance windows.
      tags:
        - alerts
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                devices:
                  type: array
                  items:
                    type: object
                    properties:
                      hostName:
                        type: string
                      uniqueId:
                        type: string
                locations:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                deviceGroups:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      id:
                        type: string
            examples:
              example-1:
                value:
                  devices:
                    - hostName: device-1
                    - uniqueId: 90491678-096c-4223-9867-f31c37ff09da
                  deviceGroups:
                    - name: Network Group
                    - id: DGP-a20e13ad-e98f-416e-a9dd-40158ffdb2af
                  locations:
                    - name: West Virginia
                    - id: '12'
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/smId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances':
    summary: Create daily recurring schedule
    description: Creates a daily recurring schedule.
    post:
      tags:
        - alerts
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    Schedule name.
                description:
                  type: string
                  description: |
                    Schedule description.
                runRBA:
                  description: |
                    (Optional) Set runRBA=true to run RBA scripts; otherwise, set to false.
                  type: boolean
                installPatch:
                  description: |
                    (Optional) Set installPatch=true to install patch; otherwise, set to false.
                  type: boolean
                devices:
                  type: array
                  description: Details of resources which should be added to schedule maintenance window. No more than 100 resources can be added to a schedule maintenance window.
                  items:
                    type: object
                    properties:
                      hostName:
                        type: string
                      uniqueId:
                        type: string
                locations:
                  type: array
                  description: |
                    Details of resources which should be added to schedule maintenance window. No more than 100 resources can be added to a schedule maintenance window.
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                deviceGroups:
                  type: array
                  description: |
                    Details of resources which should be added to schedule maintenance window. No more than 100 resources can be added to a schedule maintenance window.
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      id:
                        type: string
                schedule:
                  type: object
                  description: |
                    Schedule details:
                  properties:
                    type:
                      type: string
                      description: |
                        Schedule type.
                    startTime:
                      type: string
                      description: |
                        Time at which the schedule activity should begin.
                    endTime:
                      type: string
                      description: |
                        Time at which the schedule activity should end.
                    timezone:
                      type: string
                      description: |-
                        Timezone in which the schedule should operate. (The list of timezones are shown below.)
                        Example: "timezone": "America/Puerto_Rico"
                    pattern:
                      type: object
                      description: |
                        Schedule pattern:
                      properties:
                        type:
                          type: string
                          description: |
                            Pattern type.
                        weekDays:
                          type: string
                          description: 'Weekday pattern with these values: Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday.'
                          enum:
                            - Sunday
                            - Monday
                            - Tuesday
                            - Wednesday
                            - Thursday
                            - Friday
                            - Saturday
                        dayOfMonth:
                          type: integer
                          minimum: 1
                          maximum: 31
                        weekIndex:
                          type: string
                          enum:
                            - First
                            - Second
                            - Third
                            - Fourth
                            - Fifth
                            - Last
                        dayOfWeek:
                          type: string
                          enum:
                            - Sunday
                            - Monday
                            - Tuesday
                            - Wednesday
                            - Thursday
                            - Friday
                            - Saturday
                        dayFrequency:
                          type: string
                endBy:
                  type: string
                  description: |-
                    (Optional) Maintenance ending schedule.
                    1. For a recurring schedule maintenance to be perpetual, provide endBy: NEVER. In this case, time specified in the field endTime is the scheduled end time. (The date is *not* considered by the API.) To assign a schedule maintenance to run on alternate days, it starts at 8 AM and ends at 5:30 PM. Maintenance is to be set as a repetitive process that never ends. The values provided are:
                    ```
                    "schedule": {
                        "type": "Recurring",
                        "startTime": "2018-05-28T08:00:00+0000",
                        "endTime": "2018-10-29T17:30:00+0000",
                        "timezone": "America/Puerto_Rico",
                        "pattern":
                            "type": "daily",
                            "dayFrequency": "everyday"
                            "repeatFrequency": 1
                            "endBy": "Never"
                        }
                    }
                    ```
                    2. For a  recurring schedule maintenance to end at a specific time period, provide the end date and time in the field endTime. Example: "2016-05-29T18:55:27+0000"
                runEscalationAction:
                  type: boolean
                  description: |
                    (Optional) Provide runEscalationAction: true to escalate maintenance alerts after schedule maintenance is completed. If no value is provided, the default value is true.
                alertConditions:
                  type: object
                  description: |-
                    (Optional) For specific alerts to be triggered as maintenance alerts, configure the below alert conditions. Alerts that do match with the below conditions are triggered as monitoring alerts:
                    1. Alert conditions should match ALL or ANY of the rules.
                    2. Conditions for filter alerts:
                        1. Unique attribute of alert.
                        2. Logical operators to filter alertsSupported values: Equals, NotEquals, Equals, NotEquals, Startswith, Endswith, Regex. See Regular Expressions to filter alerts with operator Regex.
                        3. Unique data of alert.
                    Example: Cloud Controller Discovery
                  properties:
                    matchingType:
                      type: string
                    rules:
                      type: array
                      items:
                        type: object
                        properties:
                          key:
                            type: string
                          operator:
                            type: string
                          value:
                            type: string
            examples:
              example-weekly-recurring:
                value:
                  name: Recurring-weeklyschedule
                  description: Recurring-weeklyschedule
                  runRBA: 'false'
                  installPatch: 'false'
                  devices:
                    - hostName: Device_1
                    - uniqueId: 90491678-096c-4223-9867-f31c37ff09da
                  deviceGroups:
                    - name: DG-1
                    - id: '11'
                  locations:
                    - name: LOC-1
                    - id: '12'
                  schedule:
                    type: Recurring
                    startTime: '2015-05-28T10:55:27+0000'
                    endTime: '2015-05-29T18:55:27+0000'
                    timezone: America/Puerto_Rico
                    pattern:
                      type: weekly
                      weekDays: 'Wednesday,Thursday'
              example-one-time:
                value:
                  name: Onetimeschedule
                  description: Onetimeschedule
                  runRBA: 'false'
                  installPatch: 'false'
                  devices:
                    - hostName: device-1
                    - uniqueId: 90491678-096c-4223-9867-f31c37ff09da
                  deviceGroups:
                    - name: DG-1
                    - id: '11'
                  locations:
                    - name: LOC-1
                    - id: '12'
                  schedule:
                    type: One-Time
                    startTime: '2015-05-28T10:55:27+0000'
                    endTime: '2016-05-29T18:55:27+0000'
                    timezone: America/New_York
              example-monthly-recurring-dayOfMonth:
                value:
                  name: Recurring-monthly-1schedule
                  description: Recurring-monthly-1schedule
                  runRBA: 'false'
                  installPatch: 'false'
                  devices:
                    - hostName: Device_4
                    - uniqueId: 90491678-096c-4223-9867-f31c37ff09da
                  deviceGroups:
                    - name: DG-1
                    - id: '11'
                  locations:
                    - name: LOC-1
                    - id: '12'
                  schedule:
                    type: Recurring
                    startTime: '2015-05-28T10:55:27+0000'
                    endTime: '2015-05-29T18:55:27+0000'
                    timezone: America/Puerto_Rico
                    pattern:
                      type: monthly
                      dayOfMonth: '14'
              example-monthly-recurring-dayOfWeek:
                value:
                  name: Recurring-monthly-2schedule
                  description: Recurring-monthly-2schedule
                  runRBA: 'false'
                  installPatch: 'false'
                  devices:
                    - hostName: Device_2
                    - id: '10'
                  deviceGroups:
                    - name: DG-1
                    - id: '11'
                  locations:
                    - name: LOC-1
                    - id: '12'
                  schedule:
                    type: Recurring
                    startTime: '2015-05-28T10:55:27+0000'
                    endTime: '2015-05-29T18:55:27+0000'
                    timezone: America/Los_Angeles
                    pattern:
                      type: monthly
                      weekIndex: Third
                      dayOfWeek: Thursday
              example-daily-recurring:
                value:
                  name: Recurring-dailyeverydayschedule
                  description: Recurring-dailyeverydayschedule
                  runRBA: 'false'
                  installPatch: 'false'
                  devices:
                    - hostName: Device_1
                    - uniqueId: 90491678-096c-4223-9867-f31c37ff09da
                  deviceGroups:
                    - name: DG-1
                    - id: '11'
                  locations:
                    - name: LOC-1
                    - id: '12'
                  schedule:
                    type: Recurring
                    startTime: '2015-05-28T10:55:27+0000'
                    endTime: '2015-05-29T18:55:27+0000'
                    timezone: America/Puerto_Rico
                    pattern:
                      type: daily
                      dayFrequency: every weekday
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  uniqueId:
                    type: string
              examples:
                example-1:
                  value:
                    uniqueId: SM-d21b6b44-c85a-426c-9963-0e977070ce98
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances/{smId}/end':
    summary: End scheduled maintenance window
    description: |-
      Ends a scheduled maintenance window.

      ##### Notes
      - User can end only active schedule maintenance windows.
      - Active schedule maintenance windows that are one-time maintenance windows move to a completed state. Recurring maintenance windows move to pending state.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  uniqueId:
                    type: string
                  status:
                    type: string
              examples:
                example-1:
                  value:
                    uniqueId: SM-a7aa1874-ee4f-4a12-add1-2313bd717d4e
                    status: Pending
      description: ''
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/smId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances{smId}/resources/{resourcesType}':
    summary: Get resources of schedule maintenance windows
    description: |-
      This endpoint is used to retrieve the list of devices (or device groups or sites) of a scheduled maintenance window.

      ##### Notes

      Some examples:

      - Ex1: https://api.opsramp.com/api/v2/tenants/client_44/scheduleMaintenances/SM-c11b6b44-c85a-426c-9963-0e977070ce98/resources/resources?pageNo=1&pageSize=5
      - Ex2: https://api.opsramp.com/api/v2/tenants/client_44/scheduleMaintenances/SM-c11b6b44-c85a-426c-9963-0e977070ce98/resources/deviceGroups?pageNo=1&pageSize=2
      - Ex3: https://api.opsramp.com/api/v2/tenants/client_44/scheduleMaintenances/SM-c11b6b44-c85a-426c-9963-0e977070ce98/resources/sites?pageNo=1&pageSize=2
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/smId'
      - schema:
          type: string
        name: resourcesType
        in: path
        required: true
        description: 'Supported values for resourcetypes (resources,deviceGroups,sites)'
    get:
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                  totalResults:
                    type: number
                  pageNo:
                    type: number
                  pageSize:
                    type: number
                  totalPages:
                    type: number
                  nextPage:
                    type: number
                  previousPageNo:
                    type: number
                  descendingOrder:
                    type: number
                readOnly: true
              examples:
                example-devices:
                  value:
                    results:
                      - id: 4b7e4bc4-2115-4f15-bbd9-642396d486b6
                        hostName: cn-agent-docker01
                        ipAddress: 212.328.345.123
                        type: DOCKER
                      - id: e8893d5c-5448-4123-992f-2a7631a97310
                        hostName: k8-pool1-wk1
                        ipAddress: 121.321.435.251
                        type: DEVICE
                      - id: 66296829-c08d-45fb-9c8c-b6702189611d
                        hostName: WIN7-PC
                        ipAddress: 132.346.768.121
                        type: DEVICE
                      - id: 9be5120f-f2f7-45d0-88e4-83d67461f751
                        hostName: HYDLPT272167
                        ipAddress: 121.345.321.134
                        type: DEVICE
                      - id: 8016775e-f1b4-47d5-bdd0-e039b115c45f
                        hostName: DBMS10734
                        ipAddress: 177.162.136.193
                        type: DEVICE
                    totalResults: 50
                    pageNo: 1
                    pageSize: 5
                    totalPages: 10
                    nextPage: true
                    nextPageNo: 2
                    previousPageNo: 0
                    descendingOrder: false
                example-deviceGroups:
                  value:
                    results:
                      - id: DGP-98a9dac3-18ae-4456-88d3-e7ffa5ce4ace
                        name: Windows Servers
                        description: ''
                        createdDate: '2018-02-10T10:15:32+0000'
                        updatedDate: '2018-08-02T14:20:10+0000'
                      - id: DGP-6fd28a3f-9f10-4c74-ac15-bd9de54ec056
                        name: Network Devices
                        description: ''
                        createdDate: '2018-03-13T11:20:50+0000'
                        updatedDate: '2018-08-02T17:15:40+0000'
                    totalResults: 6
                    pageNo: 1
                    pageSize: 2
                    totalPages: 3
                    nextPage: true
                    nextPageNo: 2
                    previousPageNo: 0
                    descendingOrder: false
                example-sites:
                  value:
                    results:
                      - id: 164
                        name: Virginia-East
                        description: Server locations in East Virgnia
                      - id: 165
                        name: California-Central
                        description: Network Centers in California
                    totalResults: 6
                    pageNo: 1
                    pageSize: 2
                    totalPages: 3
                    nextPage: true
                    nextPageNo: 2
                    previousPageNo: 0
                    descendingOrder: false
      description: ''
      summary: ''
  '/api/v2/tenants/{tenantId}/scheduleMaintenances/{smId}/resume':
    summary: Resumes scheduled maintainence window
    description: |-
      Resumes a suspended scheduled maintainence window.
      ##### Notes
      - Only suspended schedule maintenance windows can be resumed.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/smId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances/search':
    summary: Search scheduled maintenance windows
    description: |-
      Gets the scheduled maintenance windows under a specific tenant.

      ##### Notess
      There are special characters that can be used in a query string:
      - (+) represents the next field and must be URL-encoded.
      - (:) represents equals. An example is key : value.
      - Space characters must be URL-encoded.
      - Date format must be yyyy-MM-ddTHH:mm:ssZ (GMT).

      ##### Query Variables
      |Query Variable|Description|
      |-----|-----|
      |uniqueId|Schedule Maintenance window unique ID.|
      |name|Schedule Maintenance name.|
      |startDate|Start date of schedule maintenance.<br>Example: 2016-08-12T10:55:27 0000|
      |endDate|Expiry date of schedule maintenance.<br>Example: 2016-09-15T18:55:27 0000|
      |deviceUniqueId|Device ID|
      |Name|Name.|
      |deviceGroupId|Device group ID.|
      |deviceGroupName|Device group name.|
      |siteId|Site ID.|
      |siteName|Site name.|
      |startCreationDate|Filter schedule maintenance windows created within a date range. Provide from creation date.<br>Example: 2016-07-24T06:48:40 0000|
      |endCreationDate|Filter schedule maintenance windows created within a date range. Provide to creation date.<br>Example: 2016-07-26T06:48:40 0000|
      |startUpdationDate|Filter schedule maintenance windows updated within a date range. Provide from update date.<br>Example: 2016-07-24T06:48:40 0000|
      |endUpdationDate|Filter schedule maintenance windows updated within a date range. Provide to update date.<br>Example: 2016-07-26T06:48:40 0000|
      |status|Filter with scheduled maintenance window status. For example, to get all scheduled maintenance windows that are completed, provide status: Completed in the query string.<br>Supported statuses: Active, Pending, Suspended, and Completed.|
    get:
      tags:
        - alerts
      parameters:
        - schema:
            type: integer
            default: 1
          in: query
          name: pageNo
        - schema:
            type: integer
            default: 100
          in: query
          name: pageSize
        - schema:
            type: boolean
            default: 'true'
          in: query
          name: isDescendingOrder
        - schema:
            type: string
            default: id
          in: query
          name: sortName
        - schema:
            type: string
          in: query
          name: queryString
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        uniqueId:
                          type: string
                        name:
                          type: string
                        dontRunRBA:
                          type: boolean
                        dontInstallPatch:
                          type: boolean
                        runRBA:
                          type: boolean
                        installPatch:
                          type: boolean
                        createdTime:
                          type: string
                          format: date-time
                        updatedTime:
                          type: string
                          format: date-time
                        schedule:
                          type: object
                          description: ''
                          properties:
                            type:
                              type: string
                              description: ''
                            startTime:
                              type: string
                              description: ''
                              format: date-time
                            endTime:
                              type: string
                              description: ''
                              format: date-time
                            timezone:
                              type: string
                              description: ''
                            pattern:
                              type: object
                              description: ''
                              properties:
                                type:
                                  type: string
                                  description: ''
                                weekDays:
                                  type: string
                                  description: ''
                                dayOfMonth:
                                  type: integer
                                weekIndex:
                                  type: string
                                dayOfWeek:
                                  type: string
                                dayFrequency:
                                  type: string
                        status:
                          type: string
                  totalResults:
                    type: integer
                  orderBy:
                    type: string
                  pageNo:
                    type: integer
                  pageSize:
                    type: integer
                  totalPages:
                    type: integer
                  nextPage:
                    type: boolean
                  previousPageNo:
                    type: integer
                  descendingOrder:
                    type: boolean
              examples:
                example-1:
                  value:
                    results:
                      - uniqueId: SM-c11b6b44-c85a-426c-9963-0e977070ce98
                        name: Weekly_Schedule_For_all_Weekdays
                        dontRunRBA: 'false'
                        dontInstallPatch: 'false'
                        runRBA: true
                        installPatch: true
                        createdTime: '2017-08-16T06:58:26+0000'
                        updatedTime: ''
                        schedule:
                          type: recurring
                          startTime: '2017-08-12T10:55:27+0000'
                          endTime: '2017-08-29T18:55:27+0000'
                          pattern:
                            type: weekly
                            weekDays: 'Monday,Tuesday,Wednesday,Thursday,Friday,Saturday'
                        status: Completed
                      - uniqueId: SM-a7aa1874-ee4f-4a12-add1-2313bd717d4e
                        name: Change Request from Alert -  151  -- From CR
                        dontRunRBA: 'false'
                        dontInstallPatch: 'false'
                        runRBA: true
                        installPatch: true
                        createdTime: '2017-08-12T07:11:35+0000'
                        updatedTime: ''
                        schedule:
                          type: one-time
                          startTime: '2017-08-12T07:11:00+0000'
                          endTime: '2017-08-12T07:11:00+0000'
                        status: Completed
                      - uniqueId: SM-50d135c3-ef77-4145-a10f-822c27a8e372
                        name: Schedule maintenance with device
                        dontRunRBA: 'true'
                        dontInstallPatch: 'true'
                        runRBA: false
                        installPatch: false
                        createdTime: '2017-08-11T07:55:40+0000'
                        updatedTime: '2017-08-11T07:59:52+0000'
                        schedule:
                          type: one-time
                          startTime: '2017-08-10T10:00:00+0000'
                          endTime: '2017-08-14T20:00:00+0000'
                        status: Completed
                    totalResults: 3
                    orderBy: id
                    pageNo: 1
                    pageSize: 10
                    totalPages: 1
                    nextPage: false
                    previousPageNo: 0
                    descendingOrder: true
    parameters:
      - $ref: '#/components/parameters/tenantId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances/{smId}/suspend':
    summary: Suspend scheduled maintenance window
    description: |-
      Suspends a scheduled maintenance window.

      ##### Notes
      - Only active schedule maintenance windows can be suspended.
      - Dates in date range consider date as yyyy-MM-dd and ignore the time HH: mm: ss.
      - Send dates (start date & end date) in GMT format.
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pattern:
                  type: string
                  enum:
                    - now
                    - range
                startDate:
                  type: string
                  format: date-time
                endDate:
                  type: string
                  format: date-time
            examples:
              example-suspend-now:
                value:
                  pattern: now
              example-suspend-date-range:
                value:
                  pattern: range
                  startDate: '2016-06-18T00:00:00+0000'
                  endDate: '2016-06-19T00:00:00+0000'
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/smId'
  '/api/v2/tenants/{tenantId}/scheduleMaintenances/{smId}':
    summary: Manage scheduled maintenance windows
    description: 'Updates, gets, and deletes scheduled maintenence windows.'
    get:
      description: Gets scheduled maintenance window details.
      tags:
        - alerts
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                schedule:
                  type: object
                  description: |
                    Schedule details:
                  properties:
                    type:
                      type: string
                      description: |
                        Schedule type.
                    startTime:
                      type: string
                      description: |
                        Time at which the schedule activity should begin.
                      format: date-time
                    endTime:
                      type: string
                      description: |
                        Time at which the schedule activity should end.
                      format: date-time
                    pattern:
                      type: object
                      description: |
                        Schedule pattern:
                      properties:
                        type:
                          type: string
                          description: |
                            Pattern type.
                        weekDays:
                          type: string
                          description: 'Weekday pattern with these values: Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday.'
                          enum:
                            - Sunday
                            - Monday
                            - Tuesday
                            - Wednesday
                            - Thursday
                            - Friday
                            - Saturday
                        dayOfMonth:
                          type: integer
                          minimum: 1
                          maximum: 31
                        weekIndex:
                          type: string
                          enum:
                            - First
                            - Second
                            - Third
                            - Fourth
                            - Fifth
                            - Last
                        dayOfWeek:
                          type: string
                          enum:
                            - Sunday
                            - Monday
                            - Tuesday
                            - Wednesday
                            - Thursday
                            - Friday
                            - Saturday
                        dayFrequency:
                          type: string
                        repeatFrequency:
                          type: integer
            examples:
              example-every-day:
                value:
                  schedule:
                    type: recurring
                    startTime: '2017-05-05T09:00:00+0000'
                    endTime: '2017-05-11T18:00:00+0000'
                    pattern:
                      type: daily
                      dayFrequency: everyday
                      repeatFrequency: 2
              example-every-weekday:
                value:
                  schedule:
                    type: recurring
                    startTime: '2017-05-05T14:00:00+0000'
                    endTime: '2017-05-11T16:00:00+0000'
                    pattern:
                      type: daily
                      dayFrequency: every weekday
              example-weekly-weekdays:
                value:
                  schedule:
                    type: recurring
                    startTime: '2017-05-05T13:00:00+0000'
                    endTime: '2017-05-25T19:00:00+0000'
                    pattern:
                      type: weekly
                      weekDays: 'Monday,Tuesday'
              example-monthly-day-of-month:
                value:
                  schedule:
                    type: recurring
                    startTime: '2017-05-05T03:00:00+0000'
                    endTime: '2017-05-17T11:00:00+0000'
                    pattern:
                      type: monthly
                      weekIndex: Last
                      dayOfWeek: Saturday
              example-monthly-weekday-of-month:
                value:
                  schedule:
                    type: recurring
                    startTime: '2017-05-05T04:00:00+0000'
                    endTime: '2017-05-24T13:00:00+0000'
                    pattern:
                      type: monthly
                      dayOfMonth: '02,03'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        uniqueId:
                          type: string
                        name:
                          type: string
                        dontRunRBA:
                          type: boolean
                        dontInstallPatch:
                          type: boolean
                        runRBA:
                          type: boolean
                        installPatch:
                          type: boolean
                        createdTime:
                          type: string
                          format: date-time
                        updatedTime:
                          type: string
                          format: date-time
                        schedule:
                          type: object
                          description: ''
                          properties:
                            type:
                              type: string
                              description: ''
                            startTime:
                              type: string
                              description: ''
                              format: date-time
                            endTime:
                              type: string
                              description: ''
                              format: date-time
                            pattern:
                              type: object
                              description: ''
                              properties:
                                type:
                                  type: string
                                  description: ''
                                weekDays:
                                  type: string
                                  description: ''
                                dayOfMonth:
                                  type: integer
                                weekIndex:
                                  type: string
                                dayOfWeek:
                                  type: string
                                dayFrequency:
                                  type: string
                        devices:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              generalInfo:
                                type: object
                                properties:
                                  osName:
                                    type: string
                                  ipAddresses:
                                    type: string
                                  hostName:
                                    type: string
                              clientUniqueId:
                                type: string
                              type:
                                type: string
                        deviceGroups:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              description:
                                type: string
                              createdTime:
                                type: integer
                              updatedTime:
                                type: integer
                        locations:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                              name:
                                type: string
                              clientId:
                                type: integer
                              mspId:
                                type: integer
                              description:
                                type: string
                              address:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              country:
                                type: string
                              phoneNumber:
                                type: string
                              primaryContact:
                                type: object
                                properties:
                                  id:
                                    type: string
                                  loginName:
                                    type: string
                                  lastName:
                                    type: string
                                  firstName:
                                    type: string
                                  email:
                                    type: string
                                  phoneNumber:
                                    type: string
                        status:
                          type: string
              examples:
                example-1:
                  value:
                    uniqueId: SM-d765c8d5-7df6-49ec-9bb0-4cd82b945c96
                    name: Under Maintenance
                    dontRunRBA: 'true'
                    dontInstallPatch: 'true'
                    runRBA: false
                    installPatch: false
                    createdTime: '2017-08-11T06:19:09+0000'
                    updatedTime: '2017-11-02T11:08:52+0000'
                    schedule:
                      type: one-time
                      startTime: '2017-08-11T10:00:00+0000'
                      endTime: '2017-08-15T23:00:00+0000'
                    devices:
                      - id: edd5e6db-3e7f-4292-9e7f-ab1532ce3b6c
                        generalInfo:
                          osName: 'Microsoft(R) Windows(R) Server 2003, Enterprise Edition Service Pack 2'
                          ipAddresses: 172.26.103.1
                          hostName: 172.26.103.1
                        clientUniqueId: client_8
                        type: DEVICE
                      - id: 12f2deff-f3ca-47f6-bb5d-3b9292dd8a0b
                        generalInfo:
                          osName: 'Microsoft Windows Server 2008 R2 Datacenter Edition Service Pack 1, 64-bit'
                          ipAddresses: 10.6.0.4
                          hostName: AZR-OS-1
                        clientUniqueId: client_8
                        type: DEVICE
                    deviceGroups:
                      - name: SJ-WINDOWS
                        description: Windows Systems at SJ
                        createdTime: 1469345264000
                        updatedTime: 1469345595000
                    locations:
                      - id: 3
                        name: SJ-AD LAB
                        clientId: 8
                        mspId: 6
                        description: SJ Lab
                        address: Parkway
                        city: San Jose
                        state: California
                        country: United States
                        phoneNumber: ''
                        primaryContact:
                          id: USR0000000014
                          loginName: opsLab@luminalto.com
                          lastName: Lab
                          firstName: ops
                          email: john.smith@luminalto.com
                          phoneNumber: 408-555-1234
                      - id: 5
                        name: SJ-EAST LAB
                        clientId: 8
                        mspId: 6
                        description: East Labs
                        address: Blossom Valley
                        city: San Jose
                        state: California
                        country: United States
                        phoneNumber: 408-555-1230
                        primaryContact:
                          id: USR0000000014
                          loginName: opsLab@luminalto.com
                          lastName: Lab
                          firstName: ops
                          email: john.smith@luminalto.com
                          phoneNumber: 408-555-1234
                    status: Completed
    post:
      description: |-
        Updates a pending schedule maintenance window.

        ##### Notes
        - Schedule details can be updated. For example: name, schedule type, and alert conditions. Resource details cannot be updated.
        - To get the list of pending schedule maintenance windows, use the Search Schedule Maintenance Windows endpoint.
        - For a  recurring schedule maintenance to end at a specific time period, provide the end date and time in the field endTime. Example: "2016-05-29T18:55:27+0000"

        ### Timezones
        |Region/City|Region/City|Region/City|
        |-----|-----|-----|
        |Pacific/Asia|Pacific/Honolulu|America/Anchorage|
        |America/Los_Angeles|America/Denver|America/Chicago|
        |America/New_York|America/Puerto_Rico|America/St_Johns|
        |America/Buenos_Aires|Atlantic/Azores|GMT|
        |Europe/Paris|Europe/Istanbul|Africa/Addis_Ababa|
        |Asia/Tehran|Asia/Yerevan|Asia/Karachi|
        |Asia/Calcutta|Asia/Dacca|Asia/Saigon|
        |Asia/Shanghai|Asia/Tokyo|Australia/Darwin|
        |Australia/Sydney|Pacific/Guadalcanal|Pacific/Auckland|
      tags:
        - alerts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  uniqueId:
                    type: string
              examples:
                example-1:
                  value:
                    uniqueId: SM-c11b6b44-c85a-426c-9963-0e977070ce98
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: |
                    Schedule name.
                description:
                  type: string
                  description: |
                    Schedule description.
                runRBA:
                  description: |
                    (Optional) Set runRBA=true to run RBA scripts; otherwise, set to false.
                  type: boolean
                installPatch:
                  description: |
                    (Optional) Set installPatch=true to install patch; otherwise, set to false.
                  type: boolean
                schedule:
                  type: object
                  description: |
                    Schedule details:
                  properties:
                    type:
                      type: string
                      description: |
                        Schedule type.
                    startTime:
                      type: string
                      description: |
                        Time at which the schedule activity should begin.
                    endTime:
                      type: string
                      description: |
                        Time at which the schedule activity should end.
                    timezone:
                      type: string
                      description: |-
                        Timezone in which the schedule should operate. (The list of timezones are shown below.)
                        Example: "timezone": "America/Puerto_Rico"
                    pattern:
                      type: object
                      description: |
                        Schedule pattern:
                      properties:
                        type:
                          type: string
                          description: |
                            Pattern type.
                        weekDays:
                          type: string
                          description: 'Weekday pattern with these values: Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday.'
                          enum:
                            - Sunday
                            - Monday
                            - Tuesday
                            - Wednesday
                            - Thursday
                            - Friday
                            - Saturday
                        dayOfMonth:
                          type: integer
                          minimum: 1
                          maximum: 31
                        weekIndex:
                          type: string
                          enum:
                            - First
                            - Second
                            - Third
                            - Fourth
                            - Fifth
                            - Last
                        dayOfWeek:
                          type: string
                          enum:
                            - Sunday
                            - Monday
                            - Tuesday
                            - Wednesday
                            - Thursday
                            - Friday
                            - Saturday
                        dayFrequency:
                          type: string
                runEscalationAction:
                  type: boolean
                  description: |
                    (Optional) Provide runEscalationAction: true to escalate maintenance alerts after schedule maintenance is completed. If no value is provided, the default value is true.
                alertConditions:
                  type: object
                  description: |-
                    (Optional) For specific alerts to be triggered as maintenance alerts, configure the below alert conditions. Alerts that do match with the below conditions are triggered as monitoring alerts:
                    1. Alert conditions should match ALL or ANY of the rules.
                    2. Conditions for filter alerts:
                        1. Unique attribute of alert.
                        2. Logical operators to filter alertsSupported values: Equals, NotEquals, Equals, NotEquals, Startswith, Endswith, Regex. See Regular Expressions to filter alerts with operator Regex.
                        3. Unique data of alert.
                    Example: Cloud Controller Discovery
                  properties:
                    matchingType:
                      type: string
                    rules:
                      type: array
                      items:
                        type: object
                        properties:
                          key:
                            type: string
                          operator:
                            type: string
                          value:
                            type: string
            examples:
              example-1:
                value:
                  name: Network devices schedule maintenance
                  description: Recurring maintenance
                  runRBA: 'false'
                  installPatch: 'false'
                  schedule:
                    type: Recurring
                    startTime: '2018-08-18T10:55:27+0000'
                    endTime: '2018-08-19T18:55:27+0000'
                    timezone: GMT
                    pattern:
                      type: weekly
                      weekDays: 'Wednesday,Thursday'
                  alertConditions:
                    matchingType: ANY
                    rules:
                      - key: subject
                        operator: CONTAINS
                        value: newTest
                      - key: description
                        operator: CONTAINS
                        value: test Description
                      - key: serviceName
                        operator: CONTAINS
                        value: newTest
    delete:
      description: Deletes a scheduled maintenance window.
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/tenantId'
      - $ref: '#/components/parameters/smId'
  '/api/v2/tenants/{tenantId}/machineLearning/train/{trainingType}':
    summary: Execute the required training type
    description: |-
      Schedules the appropirate learning

      ##### Notes
      - Based on the training data one should train
      - Supported trainings are ALERT_ESCALATION_TRAINING,ALERT_FIRST_RESPONSE_TRAINING,ALERT_CORRELATION_TRAINING
    post:
      tags:
        - alerts
      responses:
        '200':
          description: OK
    parameters:
      - $ref: '#/components/parameters/policyId'
      - $ref: '#/components/parameters/trainingType'
components:
  securitySchemes:
    accessToken:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: 'https://{subdomain}.api.opsramp.com'
          scopes: {}
  parameters:
    tenantId:
      in: path
      name: tenantId
      schema:
        type: string
      required: true
      description: Describes the client ID or msp ID of the tenant
    policyId:
      name: policyId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Policy unique identifier
    alertId:
      name: alertId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Alert unique Identifier
    action:
      name: action
      in: path
      required: true
      schema:
        type: string
      description: Supported actions on alert
    userId:
      name: userId
      in: path
      required: true
      schema:
        type: string
      description: Unique uuid for OpsRamp user
    ticketId:
      name: ticketId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: OpsRamp ITSM ticket unique identifier
    rosterId:
      name: rosterId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Roster unique Identifier
    smId:
      name: smId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Scheduled maintenance unique identifier
    trainingType:
      name: trainingType
      in: path
      required: true
      schema:
        type: string
      description: Training type option to train the policy
