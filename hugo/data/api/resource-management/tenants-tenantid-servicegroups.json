{"summary":"Create or update service group","description":"Creates or updates a service group.\n\n>Use this API to create a parent (root level) service group.\n\nThis API can perform the following actions on a service group:\n\n1. Create a service group\n2. Rename a service group\n3. Add set of services to a service group\n4. Change knowledge base articles assigned to a service group\n5. Add a service group as child to a parent service group\n","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"type":"array","items":{"title":"serviceGroup","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","description":"Unique name for the service group. The service group is identified with this name.\n"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"childType":{"type":"string","description":"Child service group type.\n\nExample: DEVICE, SERVICEGROUP, SNS, SQS"},"frequency":{"type":"integer","description":"(Optional)\n"},"thresholdType":{"type":"string","description":"(Optional) Define the availability status for a service group with below threshold types:\n- count: Define availability of a service group based on the number of resources in the group.\nFor example, if 10 resources are down.\n- percentage: Percentage of resources or services that should be considered to determine the availability.\n\nBelow are the supported availability statuses:\n- Down: If resources or services down are greater than or equal to a specific value(count/percentage), then service is considered as Down.\n- Degraded: If resource or services down are less than a specific value(count/percentage), then service is considered as Degraded.\n- OK: If all resources or services are Up, then service is considered as OK.\n\nFor example, a user wants to define availability status as Down if 5 resources are down, then the values are provided as:\n`\"thresholdType\": \"count\",\"thresholdLimit\": 5`."},"thresholdLimit":{"type":"integer","description":"(Optional) Provide a specific threshold value to determine count or percentage.\n"},"monitorNames":{"type":"array","items":{"type":"string"}},"include":{"type":"string"},"type":{"type":"string","description":"(Optional)\n- To generate an alert when the threshold limits are breached, provide type: alert.\n- To display the availability status without generating an alert, provide type: default."},"alertType":{"type":"integer","description":"(Optional) Provide specific alertType value to set service availability monitor:\n- Service Availability Monitor will be set to Available, If alertType = 2.\n- Service Availability Monitor will be set to Any critical alert, If alertType = 0.\n- Service Availability Monitor will be set to Critical alert, If alertType = 1."},"alert":{"type":"boolean","description":"(Optional) Generate an alert when the threshold limits are breached.\n"},"metrics":{"type":"array","items":{}},"filterCriteria":{"title":"deviceManagementPolicy","type":"object","properties":{"matchType":{"type":"string","description":"(Optional) The type of match:\n-To match all the filter conditions, provide matchType: ALL.\n- To match any one of the filter conditions, provide matchType: ANY.","enum":["ALL","ANY"]},"rules":{"type":"array","description":"(Optional) Filter devices with specific attributes:\n- Attribute name of device. Example: Name, Operating System. Attribute names change with device types.\n- Matching parameter. Supported operators are: Equals, Contains, Not Contains, Starts with, Ends with, Regex. Learn more about Regex.\n- Type of resource","items":{"title":"rule","type":"object","properties":{"key":{"type":"string"},"operator":{"type":"string"},"value":{"type":"string"},"id":{"type":"integer"},"resourceType":{"type":"string"},"filterType":{"type":"string"},"isNativeAttribute":{"type":"boolean"}}}},"actions":{"type":"array","description":"- Supported actions \n   - ASSIGN MONITORINGTEMPLATE\n   - ASSIGN KNOWLEDGEARTICLE\n   - Assign Availability Rule\n   - ASSIGN CUSTOMATTRIBUTES\n   - Assign Jobs\n   - ASSIGN CREDENTIALSET\n\n- Supported values for items for given action\n  -  For Assign Availability Rule  , item value is AND \n  -  For ASSIGN CUSTOMATTRIBUTES, item value is tagName[value='tagValue']\n  -  For all others this is  number in string eg  \"12345\"\n- Scenarios for Custom attributes item values in response payload\n   - New TagName : New Tag created with given Name and Tag Value, and Assigned. - Id of New Tag Value added to response \n   - Old TagName and New Tag Value : New Tag Value added to Tag and Assigned - Id of New Tag Value added to response. \n   - Old TagName and Old TagValue : Both the details are verfied and Assigned - Id of TagValue added to Response","items":{"title":"action","type":"object","properties":{"action":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"item":{"type":"string"},"parameters":{"type":"object"},"instances":{"type":"object"}}}},"forceAssignOrUnassign":{"type":"boolean"}},"description":"Refers to the actions performed on the filtered resources. Select at least one of the following actions:\n- Assign Monitoring Templates\n- Assign Knowledge Base Articles\n- Assign Availability Rule\n- Assign Custom Attributes\n- Assign Jobs\n- Assign Credentials\n\nExamples: \"ASSIGN MONITORINGTEMPLATE\" and \"ASSIGN KNOWLEDGEARTICLE\""}},"id":{"type":"integer"},"name":{"type":"string","description":"Name of the policy.\n"},"resourceType":{"type":"string","description":"Type of resource.\nExample: DEVICE, VOLUME, VPN, XENSERVER"},"executionOrder":{"type":"integer"}}},"parent":{"type":"object","properties":{"id":{"type":"string","description":"Add a service group as a child under an existing service group (parent). This field is required for adding a service group to a parent service group.\n"}}},"kbArticlesIds":{"type":"array","description":"Assign knowledge base articles to a device group.Note: To fetch a knowledge base article ID:\n1. Log into OpsRamp.\n2. Click Knowledge Base.\n3. Select the required article and then copy the article ID.\n4. Provide the article ID in \"kbArticleIds\" field.\nExample: \"kbArticleIds\": [22089].","items":{"type":"integer"}}}}}},"requestBodyExamples":{"example-create":{"value":[{"name":"Finance Inventory","createdDate":"2018-06-20T11:33:08+0000","updatedDate":"2018-06-20T11:33:08+0000","childType":"DEVICE","frequency":5,"thresholdType":"count","thresholdLimit":1,"monitorNames":["service.availability.metric"],"include":"ALL","type":"alert","alertType":2,"alert":false,"metrics":[],"filterCriteria":{"matchType":"ANY","rules":[{"key":"Name","operator":"Contains","value":"Windows","resourceType":"DEVICE"}]}}]},"example-rename":{"value":[{"id":"SGP-a20e13ad-e98f-416e-a9dd-40158ffdb2af","name":"Warehouse servers","description":"Warehouse maintenance servers in North VJ","childType":"SERVICEGROUP","kbArticlesIds":[1]}]},"example-add-child-to-parent":{"value":[{"name":"Warehouse Inventory","createdDate":"2018-06-20T11:33:08+0000","updatedDate":"2018-06-20T11:33:08+0000","childType":"DEVICE","frequency":5,"thresholdType":"count","thresholdLimit":1,"monitorNames":["service.availability.metric"],"include":"ALL","type":"alert","alertType":2,"alert":false,"metrics":[],"filterCriteria":{"matchType":"ANY","rules":[{"key":"Name","operator":"Contains","value":"Linux","resourceType":"DEVICE"}]},"parent":{"id":"SGP-c93673d0-355e-40bf-807c-44cc1d8678a4"}}]}},"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"title":"serviceGroup","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","description":"Unique name for the service group. The service group is identified with this name.\n"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"childType":{"type":"string","description":"Child service group type.\n\nExample: DEVICE, SERVICEGROUP, SNS, SQS"},"frequency":{"type":"integer","description":"(Optional)\n"},"thresholdType":{"type":"string","description":"(Optional) Define the availability status for a service group with below threshold types:\n- count: Define availability of a service group based on the number of resources in the group.\nFor example, if 10 resources are down.\n- percentage: Percentage of resources or services that should be considered to determine the availability.\n\nBelow are the supported availability statuses:\n- Down: If resources or services down are greater than or equal to a specific value(count/percentage), then service is considered as Down.\n- Degraded: If resource or services down are less than a specific value(count/percentage), then service is considered as Degraded.\n- OK: If all resources or services are Up, then service is considered as OK.\n\nFor example, a user wants to define availability status as Down if 5 resources are down, then the values are provided as:\n`\"thresholdType\": \"count\",\"thresholdLimit\": 5`."},"thresholdLimit":{"type":"integer","description":"(Optional) Provide a specific threshold value to determine count or percentage.\n"},"monitorNames":{"type":"array","items":{"type":"string"}},"include":{"type":"string"},"type":{"type":"string","description":"(Optional)\n- To generate an alert when the threshold limits are breached, provide type: alert.\n- To display the availability status without generating an alert, provide type: default."},"alertType":{"type":"integer","description":"(Optional) Provide specific alertType value to set service availability monitor:\n- Service Availability Monitor will be set to Available, If alertType = 2.\n- Service Availability Monitor will be set to Any critical alert, If alertType = 0.\n- Service Availability Monitor will be set to Critical alert, If alertType = 1."},"alert":{"type":"boolean","description":"(Optional) Generate an alert when the threshold limits are breached.\n"},"metrics":{"type":"array","items":{}},"filterCriteria":{"title":"deviceManagementPolicy","type":"object","properties":{"matchType":{"type":"string","description":"(Optional) The type of match:\n-To match all the filter conditions, provide matchType: ALL.\n- To match any one of the filter conditions, provide matchType: ANY.","enum":["ALL","ANY"]},"rules":{"type":"array","description":"(Optional) Filter devices with specific attributes:\n- Attribute name of device. Example: Name, Operating System. Attribute names change with device types.\n- Matching parameter. Supported operators are: Equals, Contains, Not Contains, Starts with, Ends with, Regex. Learn more about Regex.\n- Type of resource","items":{"title":"rule","type":"object","properties":{"key":{"type":"string"},"operator":{"type":"string"},"value":{"type":"string"},"id":{"type":"integer"},"resourceType":{"type":"string"},"filterType":{"type":"string"},"isNativeAttribute":{"type":"boolean"}}}},"actions":{"type":"array","description":"- Supported actions \n   - ASSIGN MONITORINGTEMPLATE\n   - ASSIGN KNOWLEDGEARTICLE\n   - Assign Availability Rule\n   - ASSIGN CUSTOMATTRIBUTES\n   - Assign Jobs\n   - ASSIGN CREDENTIALSET\n\n- Supported values for items for given action\n  -  For Assign Availability Rule  , item value is AND \n  -  For ASSIGN CUSTOMATTRIBUTES, item value is tagName[value='tagValue']\n  -  For all others this is  number in string eg  \"12345\"\n- Scenarios for Custom attributes item values in response payload\n   - New TagName : New Tag created with given Name and Tag Value, and Assigned. - Id of New Tag Value added to response \n   - Old TagName and New Tag Value : New Tag Value added to Tag and Assigned - Id of New Tag Value added to response. \n   - Old TagName and Old TagValue : Both the details are verfied and Assigned - Id of TagValue added to Response","items":{"title":"action","type":"object","properties":{"action":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"item":{"type":"string"},"parameters":{"type":"object"},"instances":{"type":"object"}}}},"forceAssignOrUnassign":{"type":"boolean"}},"description":"Refers to the actions performed on the filtered resources. Select at least one of the following actions:\n- Assign Monitoring Templates\n- Assign Knowledge Base Articles\n- Assign Availability Rule\n- Assign Custom Attributes\n- Assign Jobs\n- Assign Credentials\n\nExamples: \"ASSIGN MONITORINGTEMPLATE\" and \"ASSIGN KNOWLEDGEARTICLE\""}},"id":{"type":"integer"},"name":{"type":"string","description":"Name of the policy.\n"},"resourceType":{"type":"string","description":"Type of resource.\nExample: DEVICE, VOLUME, VPN, XENSERVER"},"executionOrder":{"type":"integer"}}},"parent":{"type":"object","properties":{"id":{"type":"string","description":"Add a service group as a child under an existing service group (parent). This field is required for adding a service group to a parent service group.\n"}}},"kbArticlesIds":{"type":"array","description":"Assign knowledge base articles to a device group.Note: To fetch a knowledge base article ID:\n1. Log into OpsRamp.\n2. Click Knowledge Base.\n3. Select the required article and then copy the article ID.\n4. Provide the article ID in \"kbArticleIds\" field.\nExample: \"kbArticleIds\": [22089].","items":{"type":"integer"}}}}},"examples":{"example-create":{"value":[{"id":"SGP-d71e0398-f33b-48ba-a283-1fa11ebe3e17","name":"Finance Inventory","createdDate":"2018-06-20T11:33:08+0000","updatedDate":"2018-06-20T11:43:17+0000","childType":"DEVICE","frequency":5,"thresholdType":"count","thresholdLimit":1,"monitorNames":["service.availability.metric"],"include":"ALL","type":"alert","alertType":2,"alert":false,"metrics":[],"filterCriteria":{"matchType":"ANY","rules":[{"key":"Name","operator":"Contains","value":"Windows","resourceType":"DEVICE"}],"actions":[]}}]},"example-rename":{"value":[{"id":"SGP-a20e13ad-e98f-416e-a9dd-40158ffdb2af","name":"Warehouse servers","description":"Warehouse maintenance servers in North VJ","childType":"SERVICEGROUP","kbArticlesIds":[1]}]},"example-add-child-to-parent":{"value":[{"id":"SGP-f4e6100a-7180-43c8-955c-679205bbc419","name":"Warehouse Inventory","createdDate":"2018-06-20T12:13:34+0000","updatedDate":"2018-06-20T12:13:34+0000","childType":"DEVICE","frequency":5,"thresholdType":"count","thresholdLimit":1,"monitorNames":["service.availability.metric"],"include":"ALL","type":"alert","alertType":2,"alert":false,"metrics":[],"filterCriteria":{"matchType":"ANY","rules":[{"key":"Name","operator":"Contains","value":"Linux","resourceType":"DEVICE"}]}}]}}}}}},"parameters":[{"schema":{"type":"string"},"name":"tenantId","in":"path","required":true}]}