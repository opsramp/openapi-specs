{"summary":"Manage cloud discovery profile","description":"Gets and delete discovery profiles for AWS, Azure, and Google.","operations":{"delete":{"description":"","parameters":"","responses":{"200":{"description":"OK","schema":{"title":"httpResponse","type":"object","properties":{"status":{"type":"integer"},"entity":{"type":"string"},"metadata":{"type":"object"},"length":{"type":"integer"},"headers":{"type":"object"},"cookies":{"type":"object"},"actualEntity":{"type":"string"},"links":{"type":"array","items":{}},"stringHeaders":{"type":"object"},"statusInfo":{"type":"object","properties":{"family":{"type":"string"},"statusCode":{"type":"integer"},"reasonPhrase":{"type":"string"}}},"allowedMethods":{"type":"array","items":{}}}},"examples":{"example-1":{"value":{"status":200,"entity":"Removed discovery profile with id  : 54","metadata":{},"length":-1,"headers":{},"cookies":{},"actualEntity":"Removed discovery profile with id  : 54","links":[],"stringHeaders":{},"statusInfo":{"family":"SUCCESSFUL","statusCode":200,"reasonPhrase":"OK"},"allowedMethods":[]}}}}}},"get":{"description":"","parameters":"","responses":{"200":{"description":"OK","schema":{"title":"discoveryProfile","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"Discovery profile name.\n"},"scanNow":{"type":"boolean"},"installedIntegrationId":{"type":"string"},"credentialSet":{"type":"string","description":"Credential set to be assigned to the discovery profile.\n"},"credential":{"title":"credential","type":"object","properties":{"credentialName":{"type":"string"},"accountId":{"type":"string"},"credentialType":{"type":"string"},"SubscriptionId":{"type":"string","description":"Azure"},"AzureType":{"type":"string","description":"Azure"},"TenantId":{"type":"string","description":"Azure"},"ClientID":{"type":"string","description":"Azure"},"SecretKey":{"type":"string","description":"Azure"},"Name":{"type":"string"},"AWSType":{"type":"string","description":"AWS "},"Regions":{"type":"string","description":"AWS "},"AccountNumber":{"type":"string","description":"AWS "},"AccessKey":{"type":"string","description":"AWS "},"SecurityKey":{"type":"string","description":"AWS "},"AssumeRoleARN":{"type":"string","description":"AWS "},"ExternalId":{"type":"string","description":"AWS "},"ManagementCertificate":{"type":"string","description":"Azure"},"KeystorePassword":{"type":"string","description":"Azure"},"ServiceAccountEmail":{"type":"string","description":"Google"},"ProjectId":{"type":"string","description":"Google"},"ServiceAccountManagementCertificate":{"type":"string","description":"Google"},"ManagementCertificatePassPhrase":{"type":"string","description":"Google"}}},"policy":{"title":"policy","type":"object","description":"Set of functions formed together as a policy and attached with the discovery profile.\nRules to filter the resources to which the discovery profile is attached","properties":{"id":{"type":"integer"},"uid":{"type":"string"},"name":{"type":"string"},"matchType":{"type":"string"},"rules":{"type":"array","items":{"title":"rule","type":"object","properties":{"id":{"type":"integer"},"filterType":{"type":"string","description":"Filtered resource type.\n- AWS example: AUTO_SCALING, CLOUDFRONT, DYNAMO_DB, ANY_DEVICE, ELASTICACHE, ELASTICMAPREDUCE, KINESIS, LAMBDA, LOAD_BALANCER, MACHINE_LEARNING, RDS, REDSHIFT.\n- Azure example: EBS, WEBSITE, SQL_SERVER, SQL_DATABASE, RESOURCE_GROUP, REDIS_CACHE, DOCUMENT_DB.\n- Google example: ANY_CLOUD_RESOURCE, ANY_DEVICE, EBS, GCE_CLUSTER, SQL_SERVER, SQL_DATABASE, GCE_TOPIC, GCE_SUBSCRIPTION, GCE_ROUTER, VPN."},"key":{"type":"string","description":"Unique attribute name to filter the resource type. Example: Name, Region Name, Zone Name, Name, Subject, Description."},"value":{"type":"string","description":"Unique information of the resource."},"operator":{"type":"string","description":"Operating values to filter the resource type. Example: Contains, Not Contains, Equals, Not Equals, Starts with, Ends with, Regex, Is.","enum":["Contains","Not Contains","Equals","Not Equals","Starts with","Ends with","Regex"]},"resourceType":{"type":"string","description":""}}}},"actions":{"type":"array","items":{"title":"action","type":"object","properties":{"action":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"item":{"type":"string"},"parameters":{"type":"object"},"instances":{"type":"object"}}}}}}},"entityType":{"type":"string"},"executionOrder":{"type":"integer"}}},"schedule":{"title":"schedule","type":"object","description":"(Optional) Define the discovery time of resources:","properties":{"patternType":{"type":"string","description":"Discovery schedule pattern type. Example: HOURLY, DAILY, WEEKLY, MONTHLY, MINUTES."},"pattern":{"type":"string","description":"Pattern of the schedule. Example: If pattern type is WEEKLY, then pattern is MON, WED.\n"},"startTime":{"type":"string","description":"Define start time of discovery.\n"}}}},"required":["name"]},"examples":{"example-aws":{"value":{"id":110,"name":"AWS discovery profile","credentialSet":"AWS Integration","credential":{"credentialName":"AWS Integration","accountId":"290642135901"},"policy":{"id":136,"name":"AWS discovery profile","entityType":"ALL","matchType":"ANY","rules":[{"filterType":"ANY_CLOUD_RESOURCE"}],"actions":[{"action":"MANAGE DEVICE","items":[]},{"action":"STREAM AWS ALERTS","items":[{"item":"https://cloudwatch-url","parameters":{},"instances":{}}]}],"executionOrder":0},"schedule":{"patternType":"HOURLY","pattern":"2","startTime":"02:00:00"}}},"example-azure":{"value":{"id":102183,"name":"Azure","credentialSet":"Azure Credentials","credential":{"credentialName":"Azure Credentials","accountId":"9ee6993f-a036-4118-9eab-c66d9fda1ef3"},"policy":{"id":39733,"name":"Azure","resourceType":"ALL","matchType":"ANY","rules":[{"filterType":"ANY_DEVICE"},{"filterType":"EBS"},{"filterType":"WEBSITE"},{"filterType":"SQL_SERVER"},{"filterType":"SQL_DATABASE"},{"filterType":"RESOURCE_GROUP"},{"filterType":"REDIS_CACHE"},{"filterType":"DOCUMENT_DB"}],"actions":[{"action":"MANAGE DEVICE","items":[]},{"action":"ASSIGN GATEWAY MANAGEMENT PROFILE","items":[{"item":"24422","parameters":{},"instances":{}}]},{"action":"INSTALL OPSRAMP AGENT","items":[{"item":"169743","parameters":{},"instances":{}}]},{"action":"SELECT GATEWAY","items":[{"item":"24422","parameters":{},"instances":{}}]}],"executionOrder":0},"schedule":{"patternType":"MINUTES","pattern":"30","startTime":"00:30:00"}}},"example-google":{"value":{"id":963,"name":"Google","installedIntegrationId":"INTG-8abf482f-1423-18b7-4578-be47080aaa72","credentialSet":"Google GOOGLEIntegration","credential":{"credentialName":"Google GOOGLEIntegration","accountId":"gce-integration"},"policy":{"id":822,"name":"GOOGLE","resourceType":"ALL","matchType":"ANY","rules":[{"id":18821,"filterType":"ANY_CLOUD_RESOURCE"}],"actions":[{"action":"MANAGE DEVICE","items":[]}]},"schedule":{"patternType":"HOURLY","pattern":"2","startTime":"02:00:00"}}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"description":"Describes the client ID or msp ID of the tenant","required":true},{"name":"discoveryProfileId","in":"path","required":true,"schema":{"type":"string"},"description":"Discovery profile unique Identifier"}]}