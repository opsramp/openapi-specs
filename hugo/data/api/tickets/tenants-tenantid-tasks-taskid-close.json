{"summary":"Close task","description":"Closes a task.\n\nPerform these steps prior to closing a task:\n\n1. To enable the option to provide reason for closing a task: \n    1. Log into OpsRamp.\n    2. Click Setup.\n    3. On the left-hand side panel, click Service Desk.\n    4. In Configuration, click Settings.\n    5. Select client and then click Customize.\n    6. In Tasks Settings section, select option Enable reasons to change status Close and then click Save.\n2. Check the status flow transition for Closed.\n    1. Click Setup.\n    2. On the left-hand side panel, click Service Desk.\n    3. In Configuration, click Status Flows.\n    4. Check the status flow for the entity Tasks and check the transition of the status Closed. If Closed is unavailable, this indicates the task cannot be closed.\n3. Provide the reason for changing the status:\n    1. Click Setup.\n    2. On the left-hand side panel, click Service Desk.\n    3. In Configuration, click Status Change Reasons.\n    4. Click Add,\n    5. Select the scope, client, request type and entity status as Closed, provide the reason and click Submit.\n4. Use Get Task API to check if status Closed and reasons to provide for Close are enabled. In sample response, in the field allowedStatus if name: Closed and reasonsEnabled: true, this indicates reasons should be provided for closing a task.\n5. Use the Get status change reasons API to provide reasons to Close. Only status: Closed reason is accepted, any other reason would result in an error.","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"type":"object","description":"","properties":{"reason":{"type":"string","description":"Provide reason for changing the status. This is mandatory only if the option Enable reasons to change status Close is enabled for tasks in service desk settings. See below steps for more information."},"notes":{"type":"string","description":"(Optional) Additional information to provide to a task."}}}},"requestBodyExamples":{"example-1":{"value":{"reason":"Project Integration Completed","notes":"Project structure integration shared with the admin team and architect team."}}},"responses":{"200":{"description":"OK","schema":{"title":"incident","type":"object","description":"","properties":{"alertIds":{"type":"array","items":{}},"allowedStatus":{"type":"array","items":{"title":"status","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"reasonsEnabled":{"type":"boolean"},"reasonsDefined":{"type":"boolean"}}}},"assignedUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"assigneeGroup":{"title":"group","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"userCount":{"type":"integer"}}},"attachedArticles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"subject":{"type":"string"}}}},"attachedRequests":{"description":"Attach service requests to an incident. Use the search service requests to get list of service requests in a client.","type":"array","items":{"type":"object","properties":{"id":{"type":"string"}}}},"attachments":{"description":"Attach files related to the change request. Convert attachment files to byte stream with base64-encoding. The file size limit of an attachment is 50 MB.","type":"array","items":{"type":"object","properties":{"file":{"type":"string"},"name":{"type":"string"}}}},"businessImpact":{"title":"businessImpact","type":"object","properties":{"uniqueId":{"type":"string"},"name":{"type":"string","description":"Business impact name.\n"},"description":{"type":"string","description":"(Optional) Short summary describing the business impact.\n"},"createdBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"}}},"category":{"description":"Add the change request under a category. Use the get API to get the list of categories.","type":"object","properties":{"id":{"type":"integer"}}},"cc":{"description":"Cc email.","type":"string"},"changePlan":{"description":"Description of the change plan.\n","type":"string"},"changeType":{"description":"Normal or Emergency depending on the Priority of a change request. For example, create a change type Emergency for change requests that must be processed immediately or if Priority of a request is High.","type":"string"},"changeRequest":{"description":"Attach a problem or change request related to the incident. Only a single change request or problem can be attached to an incident.","type":"object","properties":{"id":{"type":"string"}}},"channelId":{"type":"string"},"client":{"title":"client","type":"object","properties":{"id":{"type":"integer"},"uniqueId":{"type":"string"},"name":{"type":"string"},"activated":{"type":"boolean"},"updatedTime":{"type":"string"},"createdTime":{"type":"string","format":"date-time"}}},"closedSummary":{"type":"string"},"consoles":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["MANAGEMENTCONSOLE","ADMINCONSOLE"],"description":"Console type"},"consoleProtocol":{"type":"string","enum":["RDP","SSH","TELNET","VNC"],"description":"Console protocol.\n"},"options":{"type":"string","description":"Console options.\n"}}}},"createdDate":{"format":"date-time","type":"string"},"createdUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"customFields":{"type":"array","items":{"title":"customField","type":"object","description":"User-defined fields. User can create additional fields to attach more information related to the change request. Create a custom field and use the get change request custom fields get the list of the customized fields for change request.","properties":{"id":{"type":"string"},"classCode":{"type":"string"},"displayLabel":{"type":"string"},"name":{"type":"string"},"fieldType":{"type":"string"},"mandatory":{"type":"boolean"},"editable":{"type":"boolean"},"description":{"type":"string"},"value":{"type":"string"},"defaultValue":{"type":"string"},"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}}},"selectedOption":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"customField":{"type":"boolean"}}}},"description":{"description":"Ticket description.\n","type":"string"},"dueDate":{"type":"string"},"extTicketId":{"description":"Attach third party ticket ID.","type":"string"},"id":{"type":"string"},"knowledgeArticleIds":{"description":"Attach knowledge base articles related to the change request for further reference. To get a knowledge base article ID:\n1. Log into OpsRamp.\n2. Click Knowledge Base.\n3. Select the required article and then copy the article ID.\n4. Provide the article ID in \"knowledgeArticleIds\" field.\n\nExample: \"knowledgeArticleIds\": 25, 16.","type":"array","items":{"type":"integer"}},"location":{"type":"string"},"notes":{"type":"string"},"oldPriority":{"type":"string"},"oldStatus":{"type":"string"},"parentId":{"type":"string","description":"Attach incident. Provide the incident ID as an attachment."},"participantUsers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"}}}},"plannedEnd":{"format":"date-time","type":"string"},"plannedStart":{"format":"date-time","type":"string"},"policy":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"policyType":{"type":"string"},"createdDate":{"type":"string"},"updatedDate":{"type":"string"},"executionOrder":{"type":"integer"},"active":{"type":"boolean"}}},"priority":{"description":"Ticket priority with supported priority values: Low, Normal, High, Urgent, and Very Low.\n","type":"string"},"priorityUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"priorityUpdatedDate":{"format":"date-time","type":"string"},"problem":{"description":"Attach a problem or change request related to the incident. Only a single change request or problem can be attached to an incident.","type":"object","properties":{"id":{"type":"string"}}},"reOpenCount":{"type":"integer"},"requester":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"resolutionSummary":{"type":"string"},"resolveDate":{"type":"string","format":"date-time"},"resources":{"type":"array","items":{"title":"resource","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"metaData":{"type":"object"},"resourceType":{"type":"string"},"hostName":{"type":"string"},"resourceName":{"type":"string"},"aliasName":{"type":"string"}}}},"rollbackPlan":{"description":"Description of roll back plan.\n","type":"string"},"schedule":{"type":"object","properties":{"startTime":{"type":"string","description":"Schedule start time.\n"},"endTime":{"type":"string","description":"Schedule end time.\n"},"type":{"type":"string","description":"Schedule type.\n"},"timezone":{"type":"string","description":"Schedule time zone. The list of timezones are shown below.\nExample: \"timezone\": \"America/Los_Angeles\""},"pattern":{"description":"Recurrence pattern.\n","type":"object","properties":{"type":{"type":"string","description":"Recurrence pattern type.\n","enum":["daily","weekly","monthly"]},"dayFrequency":{"type":"string","description":"Day on which the time bound request should occur.\n","enum":["everyday","every weekday"]},"weekDays":{"type":"string","description":"Weekdays on which the time bound request should occur.\n","enum":["SUN","MON","TUE","WED","THU","FRI","SAT"]},"dayOfMonth":{"type":"integer","description":"Day of the month on which time bound request should occur.\n","minimum":1,"maximum":31},"weekIndex":{"type":"string","description":"Weekdays on which the time bound request should occur every month.\n","enum":["FIRST","SECOND","THIRD","FOURTH","LAST"]},"dayOfWeek":{"type":"string","description":"Weekdays on which the time bound request should occur every month.\n","enum":["SUN","MON","TUE","WED","THU","FRI","SAT"]}}}}},"serviceRestoreDate":{"type":"string","format":"date-time"},"slaDetails":{"title":"slaDetails","type":"object","properties":{"resolutionTime":{"type":"integer"},"responseTime":{"type":"integer"},"responseBreach":{"type":"boolean"},"resolutionBreach":{"type":"boolean"},"responseBreachDate":{"type":"string"},"resolutionBreachDate":{"type":"string"},"slaPolicy":{"title":"slaPolicy","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"timezone":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"label":{"type":"string"},"code":{"type":"string"}}},"businessSchedule":{"type":"object","properties":{"id":{"type":"integer"},"shiftType":{"type":"integer"},"startTime":{"type":"string"},"endTime":{"type":"string"},"sunday":{"type":"boolean"},"monday":{"type":"boolean"},"tuesday":{"type":"boolean"},"wednesday":{"type":"boolean"},"thursday":{"type":"boolean"},"friday":{"type":"boolean"},"saturday":{"type":"boolean"}}},"requestType":{"type":"string"},"withinBussinessHours":{"type":"boolean"},"active":{"type":"boolean"},"priority":{"type":"string"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"responseBreachTime":{"type":"integer"},"resolutionBreachTime":{"type":"integer"},"responseReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"percentage":{"type":"integer"},"cc":{"type":"string"}}}},"resolutionReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"cc":{"type":"string"}}}},"createdBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}}}}}},"source":{"type":"string"},"sourceEntityType":{"type":"string"},"sourceEntityTypeId":{"type":"string"},"sourcePolicyType":{"type":"string"},"sourcePolicyTypeId":{"type":"string"},"status":{"type":"string"},"statusFlow":{"type":"array","items":{"title":"statusHistory","type":"object","properties":{"status":{"type":"string"},"timeSpent":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"reason":{"type":"string"},"notes":{"type":"string"}}}},"statusUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"statusUpdatedDate":{"format":"date-time","type":"string"},"subCategory":{"description":"Add the change request under a sub-category. Use get categories to get the list of sub-categories.","type":"object","properties":{"id":{"type":"integer"}}},"subject":{"description":"Ticket subject.\n","type":"string"},"tags":{"type":"string"},"testPlan":{"description":"Description of test plan.\n","type":"string"},"ticketArisedTime":{"type":"string"},"toEmail":{"type":"string","description":"Email address of the user. An email notification is sent to the user."},"updatedDate":{"format":"date-time","type":"string"},"urgency":{"type":"object","properties":{"id":{"type":"integer"}}},"workEnd":{"format":"date-time","type":"string"},"workStart":{"format":"date-time","type":"string"}}},"examples":{"example-1":{"value":{"id":"TASK0000000378","subject":"Integrate project","description":"Project structure needs to be integrated","status":"Closed","oldStatus":"On Hold","priority":"High","oldPriority":"High","notes":"Project integration shared with the admin team and architect team.","closedSummary":"Project integration done for Logix service desk.","requester":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john.smith@gmail.com","phoneNumber":"998-559-1234"},"assignedUser":{"id":"USR0000000011","loginName":"brocadeInc@organization.com","lastName":"Inc Admin","firstName":"Brocade","email":"sample@gmail.com","phoneNumber":"8096250653"},"assigneeGroup":{"id":5,"name":"Brocade Inc Users","description":"Brocade Partner Users"},"resources":[{"id":"d628b4f1-37ad-49de-8487-43125ec3178a","name":"SJLPT204","type":"DEVICE"},{"id":"SGP-c2af3866-fc89-47dd-b83f-bcc8df0b2a0a","name":"VTH Services","type":"SERVICE"},{"id":"DGP-420a80f4-5fba-46d5-a1c1-20e2df4a326a","name":"OPSRAMP-SJ","type":"DEVICE_GROUP"}],"customFields":[{"id":"UDF0000003797","classCode":"TASK","displayLabel":"API-Lab-Drop-Down","name":"api_lab_drop_down_3797","fieldType":"TYPE_DROPDOWN","mandatory":false,"editable":true,"description":"Test field","options":[{"label":"first","value":"1"},{"label":"second","value":"2"}],"value":"2","defaultValue":"","selectedOption":{"label":"second","value":"2"}},{"id":"UDF0000003798","classCode":"TASK","displayLabel":"API-Lab-Text","name":"api_lab_text_3798","fieldType":"TYPE_TEXT","mandatory":false,"editable":true,"description":"Text Field","value":"testing text field-update","defaultValue":"Text field"},{"id":"UDF0000003799","classCode":"TASK","displayLabel":"API-Lab-Multi-Line-Text","name":"api_lab_multi_line_text_3799","fieldType":"TYPE_TEXTAREA","mandatory":false,"editable":true,"description":"Multi line text field","defaultValue":"testing lined\ntext"},{"id":"UDF0000003800","classCode":"TASK","displayLabel":"API-Lab-Numeric","name":"api_lab_numeric_3800","fieldType":"TYPE_NUMBER","mandatory":false,"editable":true,"description":"Testing numeric case","defaultValue":"10"}],"cc":"john.smith@gmail.com","ticketArisedTime":"","createdUser":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"},"reason":"Close Task","alertIds":[],"reOpenCount":0,"createdDate":"2016-11-25T10:15:00+0000","suspendEndDate":"2016-11-29T10:16:00+0000","allowedStatus":[],"client":{"id":8,"uniqueId":"client_8","name":"Brocade Lab","activated":true},"sourcePolicyType":"MANUAL","updatedDate":"2016-11-25T10:18:49+0000","priorityUpdatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john.smith@gmail.com","phoneNumber":"998-559-1234"},"priorityUpdatedDate":"2016-11-25T10:15:00+0000","statusUpdatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"Bolt","email":"john.bolt@gmail.com"},"statusUpdatedDate":"2016-11-25T10:18:49+0000","resolvedDate":"2016-11-25T10:16:15+0000","closedDate":"2016-11-25T10:18:49+0000","slaDetails":{"resolutionTime":75,"responseTime":75,"responseBreach":false,"resolutionBreach":false,"responseBreachDate":"","resolutionBreachDate":""},"source":"PORTAL","statusFlow":[{"status":"New","timeSpent":49,"createdDate":"2016-11-25T10:15:00+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Open","timeSpent":26,"reason":"Open task","createdDate":"2016-11-25T10:15:49+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Resolved","timeSpent":11,"reason":"Resolve Task","notes":"Resolving task. Assuming completed","createdDate":"2016-11-25T10:16:15+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"On Hold","timeSpent":143,"reason":"On Hold task","notes":"Resolving task. Assuming completed","createdDate":"2016-11-25T10:16:26+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Closed","reason":"Project Integration Completed","notes":"Project structure integration shared with the admin team and architect team.","createdDate":"2016-11-25T10:18:49+0000","updatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"}}]}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"required":true,"description":"Describes clientId or mspId of the tenant"},{"name":"taskId","in":"path","required":true,"schema":{"type":"string"},"description":"Unique Identifier (UUID) of task assigned"}]}