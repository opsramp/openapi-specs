{"summary":"Close time bound request","description":"Closes a time bound request.\n\nFollow the steps before closing a time bound request:\n\nStep 1: To enable the option to provide reason for closing a time bound request.\n1. Log into OpsRamp.\n2. Click Setup.\n3. On the left-hand side panel, click Service Desk.\n4. In Configuration, click Settings.\n5. Select client and then click Customize.\n6. In the Time Bound Request section, select option Enable reasons to change status Close and then click Save.\n\nStep 2: Check the status flow transition for Closed.\n1. Click Setup.\n2. On the left-hand panel, click Service Desk.\n3. In Configuration, click Status Flows.\n4. Check the status flow for the entity Time Bound and check the transition of the status Closed.\n5. If Closed is unavailable, this indicates the time bound request cannot be closed.\n\nStep 3: Provide the reason for changing the status.\n1. Click Setup.\n2. On the left-hand side panel, click Service Desk.\n3. In Configuration, click Status Change Reasons.\n4. Click Add, select the scope, client, request type, entity status as Closed and provide the reason and then click Submit.\n\n>##### Notes\n>- Use the get time bound request to check if status Closed and reasons to provide for Close are enabled. If under the field allowedStatus if name: Closed and reasonsEnabled: true, this indicates reasons should be provided for closing a time bound request.\n>- Use the get status change reasons to provide the reasons to Close. The reasons configured in status: Closed are accepted, but a new provided reason would result in an error.","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"type":"object","properties":{"reason":{"type":"string","description":"Reason for closing the time bound request. This is mandatory only if the option Enable reasons to change status Close is enabled for time bound request in service desk settings (example steps below)."},"notes":{"type":"string","description":"Additional information to add to a time bound request."}}}},"requestBodyExamples":{"example-1":{"value":{"reason":"Network Serveres up and running","notes":"Network Servers issue solved in site CA."}}},"responses":{"200":{"description":"OK","schema":{"title":"incident","type":"object","description":"","properties":{"alertIds":{"type":"array","items":{}},"allowedStatus":{"type":"array","items":{"title":"status","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"reasonsEnabled":{"type":"boolean"},"reasonsDefined":{"type":"boolean"}}}},"assignedUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"assigneeGroup":{"title":"group","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"userCount":{"type":"integer"}}},"attachedArticles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"subject":{"type":"string"}}}},"attachedRequests":{"description":"Attach service requests to an incident. Use the search service requests to get list of service requests in a client.","type":"array","items":{"type":"object","properties":{"id":{"type":"string"}}}},"attachments":{"description":"Attach files related to the change request. Convert attachment files to byte stream with base64-encoding. The file size limit of an attachment is 50 MB.","type":"array","items":{"type":"object","properties":{"file":{"type":"string"},"name":{"type":"string"}}}},"businessImpact":{"title":"businessImpact","type":"object","properties":{"uniqueId":{"type":"string"},"name":{"type":"string","description":"Business impact name.\n"},"description":{"type":"string","description":"(Optional) Short summary describing the business impact.\n"},"createdBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"}}},"category":{"description":"Add the change request under a category. Use the get API to get the list of categories.","type":"object","properties":{"id":{"type":"integer"}}},"cc":{"description":"Cc email.","type":"string"},"changePlan":{"description":"Description of the change plan.\n","type":"string"},"changeType":{"description":"Normal or Emergency depending on the Priority of a change request. For example, create a change type Emergency for change requests that must be processed immediately or if Priority of a request is High.","type":"string"},"changeRequest":{"description":"Attach a problem or change request related to the incident. Only a single change request or problem can be attached to an incident.","type":"object","properties":{"id":{"type":"string"}}},"channelId":{"type":"string"},"client":{"title":"client","type":"object","properties":{"id":{"type":"integer"},"uniqueId":{"type":"string"},"name":{"type":"string"},"activated":{"type":"boolean"},"updatedTime":{"type":"string"},"createdTime":{"type":"string","format":"date-time"}}},"closedSummary":{"type":"string"},"consoles":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["MANAGEMENTCONSOLE","ADMINCONSOLE"],"description":"Console type"},"consoleProtocol":{"type":"string","enum":["RDP","SSH","TELNET","VNC"],"description":"Console protocol.\n"},"options":{"type":"string","description":"Console options.\n"}}}},"createdDate":{"format":"date-time","type":"string"},"createdUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"customFields":{"type":"array","items":{"title":"customField","type":"object","description":"User-defined fields. User can create additional fields to attach more information related to the change request. Create a custom field and use the get change request custom fields get the list of the customized fields for change request.","properties":{"id":{"type":"string"},"classCode":{"type":"string"},"displayLabel":{"type":"string"},"name":{"type":"string"},"fieldType":{"type":"string"},"mandatory":{"type":"boolean"},"editable":{"type":"boolean"},"description":{"type":"string"},"value":{"type":"string"},"defaultValue":{"type":"string"},"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}}},"selectedOption":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"customField":{"type":"boolean"}}}},"description":{"description":"Ticket description.\n","type":"string"},"dueDate":{"type":"string"},"extTicketId":{"description":"Attach third party ticket ID.","type":"string"},"id":{"type":"string"},"knowledgeArticleIds":{"description":"Attach knowledge base articles related to the change request for further reference. To get a knowledge base article ID:\n1. Log into OpsRamp.\n2. Click Knowledge Base.\n3. Select the required article and then copy the article ID.\n4. Provide the article ID in \"knowledgeArticleIds\" field.\n\nExample: \"knowledgeArticleIds\": 25, 16.","type":"array","items":{"type":"integer"}},"location":{"type":"string"},"notes":{"type":"string"},"oldPriority":{"type":"string"},"oldStatus":{"type":"string"},"parentId":{"type":"string","description":"Attach incident. Provide the incident ID as an attachment."},"participantUsers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"}}}},"plannedEnd":{"format":"date-time","type":"string"},"plannedStart":{"format":"date-time","type":"string"},"policy":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"policyType":{"type":"string"},"createdDate":{"type":"string"},"updatedDate":{"type":"string"},"executionOrder":{"type":"integer"},"active":{"type":"boolean"}}},"priority":{"description":"Ticket priority with supported priority values: Low, Normal, High, Urgent, and Very Low.\n","type":"string"},"priorityUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"priorityUpdatedDate":{"format":"date-time","type":"string"},"problem":{"description":"Attach a problem or change request related to the incident. Only a single change request or problem can be attached to an incident.","type":"object","properties":{"id":{"type":"string"}}},"reOpenCount":{"type":"integer"},"requester":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"resolutionSummary":{"type":"string"},"resolveDate":{"type":"string","format":"date-time"},"resources":{"type":"array","items":{"title":"resource","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"metaData":{"type":"object"},"resourceType":{"type":"string"},"hostName":{"type":"string"},"resourceName":{"type":"string"},"aliasName":{"type":"string"}}}},"rollbackPlan":{"description":"Description of roll back plan.\n","type":"string"},"schedule":{"type":"object","properties":{"startTime":{"type":"string","description":"Schedule start time.\n"},"endTime":{"type":"string","description":"Schedule end time.\n"},"type":{"type":"string","description":"Schedule type.\n"},"timezone":{"type":"string","description":"Schedule time zone. The list of timezones are shown below.\nExample: \"timezone\": \"America/Los_Angeles\""},"pattern":{"description":"Recurrence pattern.\n","type":"object","properties":{"type":{"type":"string","description":"Recurrence pattern type.\n","enum":["daily","weekly","monthly"]},"dayFrequency":{"type":"string","description":"Day on which the time bound request should occur.\n","enum":["everyday","every weekday"]},"weekDays":{"type":"string","description":"Weekdays on which the time bound request should occur.\n","enum":["SUN","MON","TUE","WED","THU","FRI","SAT"]},"dayOfMonth":{"type":"integer","description":"Day of the month on which time bound request should occur.\n","minimum":1,"maximum":31},"weekIndex":{"type":"string","description":"Weekdays on which the time bound request should occur every month.\n","enum":["FIRST","SECOND","THIRD","FOURTH","LAST"]},"dayOfWeek":{"type":"string","description":"Weekdays on which the time bound request should occur every month.\n","enum":["SUN","MON","TUE","WED","THU","FRI","SAT"]}}}}},"serviceRestoreDate":{"type":"string","format":"date-time"},"slaDetails":{"title":"slaDetails","type":"object","properties":{"resolutionTime":{"type":"integer"},"responseTime":{"type":"integer"},"responseBreach":{"type":"boolean"},"resolutionBreach":{"type":"boolean"},"responseBreachDate":{"type":"string"},"resolutionBreachDate":{"type":"string"},"slaPolicy":{"title":"slaPolicy","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"timezone":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"label":{"type":"string"},"code":{"type":"string"}}},"businessSchedule":{"type":"object","properties":{"id":{"type":"integer"},"shiftType":{"type":"integer"},"startTime":{"type":"string"},"endTime":{"type":"string"},"sunday":{"type":"boolean"},"monday":{"type":"boolean"},"tuesday":{"type":"boolean"},"wednesday":{"type":"boolean"},"thursday":{"type":"boolean"},"friday":{"type":"boolean"},"saturday":{"type":"boolean"}}},"requestType":{"type":"string"},"withinBussinessHours":{"type":"boolean"},"active":{"type":"boolean"},"priority":{"type":"string"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"responseBreachTime":{"type":"integer"},"resolutionBreachTime":{"type":"integer"},"responseReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"percentage":{"type":"integer"},"cc":{"type":"string"}}}},"resolutionReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"cc":{"type":"string"}}}},"createdBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}}}}}},"source":{"type":"string"},"sourceEntityType":{"type":"string"},"sourceEntityTypeId":{"type":"string"},"sourcePolicyType":{"type":"string"},"sourcePolicyTypeId":{"type":"string"},"status":{"type":"string"},"statusFlow":{"type":"array","items":{"title":"statusHistory","type":"object","properties":{"status":{"type":"string"},"timeSpent":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"reason":{"type":"string"},"notes":{"type":"string"}}}},"statusUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"statusUpdatedDate":{"format":"date-time","type":"string"},"subCategory":{"description":"Add the change request under a sub-category. Use get categories to get the list of sub-categories.","type":"object","properties":{"id":{"type":"integer"}}},"subject":{"description":"Ticket subject.\n","type":"string"},"tags":{"type":"string"},"testPlan":{"description":"Description of test plan.\n","type":"string"},"ticketArisedTime":{"type":"string"},"toEmail":{"type":"string","description":"Email address of the user. An email notification is sent to the user."},"updatedDate":{"format":"date-time","type":"string"},"urgency":{"type":"object","properties":{"id":{"type":"integer"}}},"workEnd":{"format":"date-time","type":"string"},"workStart":{"format":"date-time","type":"string"}}},"examples":{"example-1":{"value":{"id":"TBT0000000379","subject":"Network servers not accessible","description":"Network servers down in site CA","status":"Closed","oldStatus":"Open","priority":"Low","oldPriority":"High","notes":"Network Serveres up and running","closedSummary":"Network Servers issue solved in site CA","requester":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john.smith@gmail.com","phoneNumber":"998-559-1234"},"assignedUser":{"id":"USR0000000013","loginName":"brocadePAdmin","lastName":"PAdmin","firstName":"Brocade","email":"brocade.PAdmin@gmail.com","phoneNumber":"809-625-1234"},"assigneeGroup":{"id":5,"name":"Brocade Inc Users","description":"Brocade Partner Users"},"resources":[{"id":"d628b4f1-37ad-49de-8487-43125ec3178a","name":"SJLPT204","type":"DEVICE"},{"id":"DGP-420a80f4-5fba-46d5-a1c1-20e2df4a326a","name":"OPSRAMP-SJ","type":"DEVICE_GROUP"},{"id":"SGP-c2af3866-fc89-47dd-b83f-bcc8df0b2a0a","name":"VTH Services","type":"SERVICE"}],"customFields":[{"id":"UDF0000003805","classCode":"ACSTICKET","displayLabel":"Numeric","name":"numeric_3805","fieldType":"TYPE_NUMBER","mandatory":false,"editable":true,"description":"Testing numeric","defaultValue":"10"},{"id":"UDF0000003806","classCode":"ACSTICKET","displayLabel":"Multi line text","name":"multi_line_text_3806","fieldType":"TYPE_TEXTAREA","mandatory":false,"editable":true,"description":"multi line text example","value":"time bound request-update","defaultValue":"Time bound request"},{"id":"UDF0000003807","classCode":"ACSTICKET","displayLabel":"Text field","name":"text_field_3807","fieldType":"TYPE_TEXT","mandatory":false,"editable":true,"description":"Text field mandatory","value":"Text-Update","defaultValue":"Mandatory"},{"id":"UDF0000003804","classCode":"ACSTICKET","displayLabel":"Drop-Down","name":"drop_down_3804","fieldType":"TYPE_DROPDOWN","mandatory":false,"editable":true,"description":"Drop down testing","options":[{"label":"One","value":"1"},{"label":"Two","value":"2"}],"value":"1","defaultValue":"","selectedOption":{"label":"One","value":"1"}},{"id":"UDF0000003821","classCode":"ACSTICKET","displayLabel":"Date","name":"date_3821","fieldType":"TYPE_DATE","mandatory":false,"editable":true,"description":"","defaultValue":"2016-02-26T12:13:00+0000"},{"id":"UDF0000003822","classCode":"ACSTICKET","displayLabel":"Date and Time","name":"date_and_time_3822","fieldType":"TYPE_DATETIME","mandatory":false,"editable":true,"description":"","defaultValue":"2016-02-26T12:13:00+0000"}],"cc":"sample@gmail.com","ticketArisedTime":"","createdUser":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"},"reason":"Close TBR","alertIds":[],"reOpenCount":0,"createdDate":"2016-11-25T10:30:56+0000","allowedStatus":[],"client":{"id":8,"uniqueId":"client_8","name":"Brocade Lab","activated":true},"sourcePolicyType":"MANUAL","updatedDate":"2016-11-25T10:33:15+0000","priorityUpdatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"},"priorityUpdatedDate":"2016-11-25T10:31:44+0000","statusUpdatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"},"statusUpdatedDate":"2016-11-25T10:33:15+0000","closedDate":"2016-11-25T10:33:15+0000","slaDetails":{"resolutionTime":117,"responseTime":48,"responseBreach":false,"resolutionBreach":false,"responseBreachDate":"","resolutionBreachDate":""},"source":"PORTAL","statusFlow":[{"status":"New","timeSpent":48,"createdDate":"2016-11-25T10:30:56+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Open","timeSpent":18,"reason":"Open TBR","createdDate":"2016-11-25T10:31:44+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Pending","timeSpent":14,"reason":"Pending TBR","createdDate":"2016-11-25T10:32:02+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"On Hold","timeSpent":8,"reason":"On hold TBR","createdDate":"2016-11-25T10:32:16+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Open","timeSpent":51,"reason":"Open TBR","createdDate":"2016-11-25T10:32:24+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Closed","reason":"Network Serveres up and running","notes":"Network Servers issue solved in site CA.","createdDate":"2016-11-25T10:33:15+0000","updatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"}}]}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"required":true,"description":"Describes clientId or mspId of the tenant"},{"name":"timeBoundRequestId","in":"path","required":true,"schema":{"type":"string"},"description":"Unique Identifier (UUID) for time bound request"}]}