{"summary":"Close problem","description":"Closes a problem.\n\nFollow the steps before closing a problem:\n\nStep 1: Check the status flow transition for Closed.\n1. Login to OpsRamp.\n2. Click Setup.\n3. On the left-hand side panel, click Service Desk.\n4. In Configuration, click Status Flows.\n5. Check the status flow for the entity Problems.\n6. Check the transition of the status Closed. If Closed is available this indicates the problem can be closed; otherwise, the problem cannot be closed.\n\nStep 2: Provide the reason for changing the status.\n1. Click Setup.\n2. On the left-hand side panel, click Service Desk.\n3. In Configuration, click Status Change Reasons and then click Add.\n4. Select the scope, client, request type and entity status as Closed, provide the reason and then click Submit.\n\nStep 3: Enable the option to provide reason for closing a problem.\n1. Click Setup.\n2. On the left-hand side panel, click Service Desk.\n3. In Configuration, click Settings.\n4. Select client and then click Customize.\n5. In Problem Settings section, select option Enable reasons to change status Close and then click Save.\n\n##### Notes\n- Use the get problem API to check if status Closed and reasons to provide for Close are enabled. If under the field allowedStatus if name: Closed and reasonsEnabled: true, this indicates reasons should be provided for closing a problem.\n- Use the get status change reasons API to provide the reasons to Close. The reasons configured in status: Closed are accepted, but a new provided reason would result in an error.\n- Date format must be yyyy-MM-ddTHH:mm:ssZ (GMT).","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"type":"object","properties":{"reason":{"type":"string","description":"Reason for closing the problem. This is mandatory only if the option Enable reasons to change status Close is enabled for problem in service desk settings (example steps below)."},"notes":{"type":"string","description":"Additional information to add to a problem."}}}},"requestBodyExamples":{"example-1":{"value":{"reason":"Issue fixed","notes":"Able to receive device monitoring statistics"}}},"responses":{"200":{"description":"OK","schema":{"title":"problem","type":"object","properties":{"id":{"type":"string"},"subject":{"type":"string","description":"Subject of the problem.\n"},"description":{"type":"string","description":"Description of the problem.\n"},"status":{"type":"string","description":"Status of problem. Follow the steps to update the status of problem:\n\n1. Use the get problem API to check:\n2. Status flow transitions of problem.The status flows are defined in the field allowedStatus.\nExample: \"name\" : \"Update\"\n3. Option to provide reasons to change the status is enabled.\"reasonsEnabled\" : \"true\" indicates, reason is mandatory while changing the status.\"reasonsEnabled\" : \"false\" indicates reason is optional.\n4. If status change reasons are defined, use the get status change reasons to get the list of reasons. Provide the reasons configured in status \"Update\"."},"oldStatus":{"type":"string"},"priority":{"type":"string","description":"Priority of the problem.\n"},"oldPriority":{"type":"string"},"requester":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"assignedUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"assigneeGroup":{"title":"group","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"userCount":{"type":"integer"}}},"resources":{"type":"array","items":{"title":"resource","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"metaData":{"type":"object"},"resourceType":{"type":"string"},"hostName":{"type":"string"},"resourceName":{"type":"string"},"aliasName":{"type":"string"}}}},"extTicketId":{"type":"string","description":"Attach an external ticket ID to the problem."},"customFields":{"type":"array","items":{"title":"customField","type":"object","description":"User-defined fields. User can create additional fields to attach more information related to the change request. Create a custom field and use the get change request custom fields get the list of the customized fields for change request.","properties":{"id":{"type":"string"},"classCode":{"type":"string"},"displayLabel":{"type":"string"},"name":{"type":"string"},"fieldType":{"type":"string"},"mandatory":{"type":"boolean"},"editable":{"type":"boolean"},"description":{"type":"string"},"value":{"type":"string"},"defaultValue":{"type":"string"},"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}}},"selectedOption":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"customField":{"type":"boolean"}}}},"cc":{"type":"string","description":"Cc email."},"ticketArisedTime":{"type":"string"},"createdUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"category":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}},"reason":{"type":"string"},"alertIds":{"type":"array","items":{}},"reOpenCount":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"allowedStatus":{"type":"array","items":{"title":"status","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"reasonsEnabled":{"type":"boolean"},"reasonsDefined":{"type":"boolean"}}}},"client":{"title":"client","type":"object","properties":{"id":{"type":"integer"},"uniqueId":{"type":"string"},"name":{"type":"string"},"activated":{"type":"boolean"},"updatedTime":{"type":"string"},"createdTime":{"type":"string","format":"date-time"}}},"subCategory":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}},"updatedDate":{"type":"string","format":"date-time"},"priorityUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"priorityUpdatedDate":{"type":"string","format":"date-time"},"statusUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"statusUpdatedDate":{"type":"string","format":"date-time"},"resolvedDate":{"type":"string","format":"date-time"},"slaDetails":{"title":"slaDetails","type":"object","properties":{"resolutionTime":{"type":"integer"},"responseTime":{"type":"integer"},"responseBreach":{"type":"boolean"},"resolutionBreach":{"type":"boolean"},"responseBreachDate":{"type":"string"},"resolutionBreachDate":{"type":"string"},"slaPolicy":{"title":"slaPolicy","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"timezone":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"label":{"type":"string"},"code":{"type":"string"}}},"businessSchedule":{"type":"object","properties":{"id":{"type":"integer"},"shiftType":{"type":"integer"},"startTime":{"type":"string"},"endTime":{"type":"string"},"sunday":{"type":"boolean"},"monday":{"type":"boolean"},"tuesday":{"type":"boolean"},"wednesday":{"type":"boolean"},"thursday":{"type":"boolean"},"friday":{"type":"boolean"},"saturday":{"type":"boolean"}}},"requestType":{"type":"string"},"withinBussinessHours":{"type":"boolean"},"active":{"type":"boolean"},"priority":{"type":"string"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"responseBreachTime":{"type":"integer"},"resolutionBreachTime":{"type":"integer"},"responseReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"percentage":{"type":"integer"},"cc":{"type":"string"}}}},"resolutionReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"cc":{"type":"string"}}}},"createdBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}}}}}},"source":{"type":"string"},"rootCause":{"type":"string","description":"Root cause of the problem."},"workaround":{"type":"string","description":"Temporary solution to solve the problem."},"application":{"type":"string","description":"Application from which the problem is generated.\n"},"statusFlow":{"type":"array","items":{"title":"statusHistory","type":"object","properties":{"status":{"type":"string"},"timeSpent":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"reason":{"type":"string"},"notes":{"type":"string"}}}},"knowledgeArticleIds":{"type":"array","description":"(Optional) Attach knowledge base articles related to the problem for further reference. To get a knowledge base article ID:\n1. Log into OpsRamp.\n2. Click Knowledge Base.\n3. Select the required article and then copy the article ID.\n4. Provide the article ID in \"knowledgeArticleIds\" field.\nExample: \"knowledgeArticleIds\": 25, 16.","items":{"type":"integer"}},"attachedArticles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"subject":{"type":"string"}}}},"estimatedHours":{"type":"integer","description":"Estimated time for resolving a problem. For example, a user estimates 3 hours for completion of a problem, the user provides value as \"estimatedHours\": \"3\"."},"estimatedMinutes":{"type":"integer","description":"Estimated time for resolving a problem. For example, a user estimates 45 minutes for completion of a task, then user provides value as \"estimatedMinutes\": \"45\"."},"timeSpent":{"type":"integer"},"notes":{"type":"string"},"closedSummary":{"type":"string"},"suspendEndDate":{"type":"string","format":"date-time"},"closedDate":{"type":"string"},"tags":{"type":"string"},"changeRequest":{"description":"Attach a problem related to the problem.","type":"object","properties":{"id":{"type":"string"}}},"knownIssue":{"type":"boolean"},"attachments":{"type":"array","items":{"title":"attachment","type":"object","properties":{"name":{"type":"string"},"file":{"type":"string"},"id":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"contentURL":{"type":"string"}}}},"channelId":{"type":"integer"}}},"examples":{"example-1":{"value":{"id":"PRB0000000114","subject":"Device Monitoring statistics  : alert- 104 ","description":"Monitoring Alerts Problems Report - 104 ,$alert.status ","status":"Closed","oldStatus":"Open","priority":"Normal","oldPriority":"Urgent","notes":"Able to receive device monitoring statistics","closedSummary":"All device monitoring statistics are received","requester":{"loginName":"john.smith","lastName":"Smith","firstName":"John","email":"john.smith@gmail.com"},"assignedUser":{"id":"USR0000000014","loginName":"brocadeLab@organization.com","lastName":"Lab","firstName":"Brocade","email":"sample@gmail.com","phoneNumber":"8096250653"},"assigneeGroup":{"id":7,"name":"Brocade Lab Users","description":"All Brocade Lab Users group"},"resources":[{"id":"200efca6-a75a-44e3-9360-1ff17a698e2e","name":"Local Setup","type":"SYNTHETIC"},{"id":"DGP-420a80f4-5fba-46d5-a1c1-20e2df4a326a","name":"OPSRAMP-SJ","type":"DEVICE_GROUP"},{"id":"SGP-c2af3866-fc89-47dd-b83f-bcc8df0b2a0a","name":"VTH Services","type":"SERVICE"}],"extTicketId":"000042526342","customFields":[{"id":"UDF0000003778","classCode":"PROBLEM","displayLabel":"for service provider","name":"for_service_provider_3778","fieldType":"TYPE_TEXT","mandatory":false,"editable":true,"description":"All clients and all partners"},{"id":"UDF0000003779","classCode":"PROBLEM","displayLabel":"for service prov 2","name":"for_service_prov_2_3779","fieldType":"TYPE_CHECKBOX","mandatory":false,"editable":true,"description":"All partners and clients","options":[{"label":"yes","value":"1"}]},{"id":"UDF0000003780","classCode":"PROBLEM","displayLabel":"for service pro 3","name":"for_service_pro_3_3780","fieldType":"TYPE_TEXT","mandatory":false,"editable":true,"description":"service provider"}],"cc":"sample@gmail.com","ticketArisedTime":"","createdUser":{"loginName":"john.smith","lastName":"Smith","firstName":"John","email":"john.smith@gmail.com"},"reason":"Pr Close","category":{"id":10,"name":"Critical Level"},"reOpenCount":0,"createdDate":"2016-07-25T14:58:30+0000","allowedStatus":[],"client":{"id":8,"uniqueId":"client_8","name":"Brocade Lab","activated":true},"subCategory":{"id":13,"name":"Low"},"sourcePolicyType":"INTEGRATION","updatedDate":"2016-11-25T10:01:39+0000","priorityUpdatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"},"priorityUpdatedDate":"2016-11-25T09:59:51+0000","statusUpdatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"},"statusUpdatedDate":"2016-11-25T10:01:39+0000","closedDate":"2016-11-25T10:01:39+0000","slaDetails":{"resolutionTime":10364,"responseTime":10204,"responseBreach":false,"resolutionBreach":false,"responseBreachDate":"","resolutionBreachDate":""},"source":"INTEGRATION","statusFlow":[{"status":"New","timeSpent":10204,"createdDate":"2016-07-25T14:58:31+0000","updatedBy":{"loginName":"john.smith","lastName":"Smith","firstName":"John","email":"john.smith@gmail.com"}},{"status":"Pending","timeSpent":10599024,"createdDate":"2016-07-25T17:48:35+0000","updatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"sample@gmail.com","phoneNumber":"998-559-7783"}},{"status":"Open","timeSpent":160,"reason":"Open Problem","createdDate":"2016-11-25T09:58:59+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Closed","reason":"Issue fixed","notes":"Able to receive device monitoring statistics","createdDate":"2016-11-25T10:01:39+0000","updatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"}}]}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"required":true},{"schema":{"type":"string"},"in":"path","name":"problemId","required":true}]}