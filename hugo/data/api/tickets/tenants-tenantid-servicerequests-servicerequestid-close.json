{"summary":"Close service request","description":"Closes a service request.\n\nFollow the steps before closing a service request:\n\nStep 1: Check the status flow transition for Closed.\n1. Login to OpsRamp.\n2. Click Setup.\n3. On the left-hand side panel, click Service Desk.\n4. In Configuration, click Status Flows.\n5. Check the status flow for the entity Service Request.\n6. Check the transition of the status Closed. If Closed is available this indicates the service request can be closed; otherwise, the service request cannot be closed.\n\nStep 2: Provide the reason for changing the status.\n1. Click Setup.\n2. On the left-hand side panel, click Service Desk.\n3. In Configuration, click Status Change Reasons and then click Add.\n4. Select the scope, client, request type and entity status as Closed, provide the reason and then click Submit.\n\nStep 3: Enable the option to provide reason for closing a service request.\n>This is normally an optional step. However, this step is required to provide a reason for closing the service request.\n1. Click Setup.\n2. On the left-hand side panel, click Service Desk.\n3. In Configuration, click Settings.\n4. Select client and then click Customize.\n5. In Problem Settings section, select option Enable reasons to change status Close and then click Save.\n\n##### Notes\n- Use the get service request API to check if status Closed and reasons to provide for Close are enabled. If under the field allowedStatus if name: Closed and reasonsEnabled: true, this indicates reasons should be provided for closing a service request.\n-Use the get status change reasons API to provide the reasons to Close. The reasons configured in status: Closed are accepted, but a new provided reason would result in an error.\n- Date format must be yyyy-MM-ddTHH:mm:ssZ (GMT).","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"type":"object","properties":{"reason":{"type":"string","description":"Reason for closing the service request. This is mandatory only if the option Enable reasons to change status Close is enabled for service request in service desk settings (example steps below)."},"notes":{"type":"string","description":"Additional information to add to a service request.\n"}}}},"requestBodyExamples":{"example-1":{"value":{"reason":"Windows Services are up and running","notes":"Windows services in North-West are accessible"}}},"responses":{"200":{"description":"OK","schema":{"title":"problem","type":"object","properties":{"id":{"type":"string"},"subject":{"type":"string","description":"Subject of the problem.\n"},"description":{"type":"string","description":"Description of the problem.\n"},"status":{"type":"string","description":"Status of problem. Follow the steps to update the status of problem:\n\n1. Use the get problem API to check:\n2. Status flow transitions of problem.The status flows are defined in the field allowedStatus.\nExample: \"name\" : \"Update\"\n3. Option to provide reasons to change the status is enabled.\"reasonsEnabled\" : \"true\" indicates, reason is mandatory while changing the status.\"reasonsEnabled\" : \"false\" indicates reason is optional.\n4. If status change reasons are defined, use the get status change reasons to get the list of reasons. Provide the reasons configured in status \"Update\"."},"oldStatus":{"type":"string"},"priority":{"type":"string","description":"Priority of the problem.\n"},"oldPriority":{"type":"string"},"requester":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"assignedUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"assigneeGroup":{"title":"group","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"userCount":{"type":"integer"}}},"resources":{"type":"array","items":{"title":"resource","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"metaData":{"type":"object"},"resourceType":{"type":"string"},"hostName":{"type":"string"},"resourceName":{"type":"string"},"aliasName":{"type":"string"}}}},"extTicketId":{"type":"string","description":"Attach an external ticket ID to the problem."},"customFields":{"type":"array","items":{"title":"customField","type":"object","description":"User-defined fields. User can create additional fields to attach more information related to the change request. Create a custom field and use the get change request custom fields get the list of the customized fields for change request.","properties":{"id":{"type":"string"},"classCode":{"type":"string"},"displayLabel":{"type":"string"},"name":{"type":"string"},"fieldType":{"type":"string"},"mandatory":{"type":"boolean"},"editable":{"type":"boolean"},"description":{"type":"string"},"value":{"type":"string"},"defaultValue":{"type":"string"},"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}}},"selectedOption":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"customField":{"type":"boolean"}}}},"cc":{"type":"string","description":"Cc email."},"ticketArisedTime":{"type":"string"},"createdUser":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"category":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}},"reason":{"type":"string"},"alertIds":{"type":"array","items":{}},"reOpenCount":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"allowedStatus":{"type":"array","items":{"title":"status","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"reasonsEnabled":{"type":"boolean"},"reasonsDefined":{"type":"boolean"}}}},"client":{"title":"client","type":"object","properties":{"id":{"type":"integer"},"uniqueId":{"type":"string"},"name":{"type":"string"},"activated":{"type":"boolean"},"updatedTime":{"type":"string"},"createdTime":{"type":"string","format":"date-time"}}},"subCategory":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}},"updatedDate":{"type":"string","format":"date-time"},"priorityUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"priorityUpdatedDate":{"type":"string","format":"date-time"},"statusUpdatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"statusUpdatedDate":{"type":"string","format":"date-time"},"resolvedDate":{"type":"string","format":"date-time"},"slaDetails":{"title":"slaDetails","type":"object","properties":{"resolutionTime":{"type":"integer"},"responseTime":{"type":"integer"},"responseBreach":{"type":"boolean"},"resolutionBreach":{"type":"boolean"},"responseBreachDate":{"type":"string"},"resolutionBreachDate":{"type":"string"},"slaPolicy":{"title":"slaPolicy","type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"timezone":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"label":{"type":"string"},"code":{"type":"string"}}},"businessSchedule":{"type":"object","properties":{"id":{"type":"integer"},"shiftType":{"type":"integer"},"startTime":{"type":"string"},"endTime":{"type":"string"},"sunday":{"type":"boolean"},"monday":{"type":"boolean"},"tuesday":{"type":"boolean"},"wednesday":{"type":"boolean"},"thursday":{"type":"boolean"},"friday":{"type":"boolean"},"saturday":{"type":"boolean"}}},"requestType":{"type":"string"},"withinBussinessHours":{"type":"boolean"},"active":{"type":"boolean"},"priority":{"type":"string"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"responseBreachTime":{"type":"integer"},"resolutionBreachTime":{"type":"integer"},"responseReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"percentage":{"type":"integer"},"cc":{"type":"string"}}}},"resolutionReminders":{"type":"array","items":{"type":"object","properties":{"reminderTime":{"type":"integer"},"cc":{"type":"string"}}}},"createdBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}}}}}},"source":{"type":"string"},"rootCause":{"type":"string","description":"Root cause of the problem."},"workaround":{"type":"string","description":"Temporary solution to solve the problem."},"application":{"type":"string","description":"Application from which the problem is generated.\n"},"statusFlow":{"type":"array","items":{"title":"statusHistory","type":"object","properties":{"status":{"type":"string"},"timeSpent":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"updatedBy":{"title":"user","type":"object","properties":{"id":{"type":"string"},"loginName":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}}},"reason":{"type":"string"},"notes":{"type":"string"}}}},"knowledgeArticleIds":{"type":"array","description":"(Optional) Attach knowledge base articles related to the problem for further reference. To get a knowledge base article ID:\n1. Log into OpsRamp.\n2. Click Knowledge Base.\n3. Select the required article and then copy the article ID.\n4. Provide the article ID in \"knowledgeArticleIds\" field.\nExample: \"knowledgeArticleIds\": 25, 16.","items":{"type":"integer"}},"attachedArticles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"subject":{"type":"string"}}}},"estimatedHours":{"type":"integer","description":"Estimated time for resolving a problem. For example, a user estimates 3 hours for completion of a problem, the user provides value as \"estimatedHours\": \"3\"."},"estimatedMinutes":{"type":"integer","description":"Estimated time for resolving a problem. For example, a user estimates 45 minutes for completion of a task, then user provides value as \"estimatedMinutes\": \"45\"."},"timeSpent":{"type":"integer"},"notes":{"type":"string"},"closedSummary":{"type":"string"},"suspendEndDate":{"type":"string","format":"date-time"},"closedDate":{"type":"string"},"tags":{"type":"string"},"changeRequest":{"description":"Attach a problem related to the problem.","type":"object","properties":{"id":{"type":"string"}}},"knownIssue":{"type":"boolean"},"attachments":{"type":"array","items":{"title":"attachment","type":"object","properties":{"name":{"type":"string"},"file":{"type":"string"},"id":{"type":"integer"},"createdDate":{"type":"string","format":"date-time"},"contentURL":{"type":"string"}}}},"channelId":{"type":"integer"}}},"examples":{"example-1":{"value":{"id":"SRQ0000000096","subject":"Windows Services Required","description":"Windows services required in North-West location","status":"Closed","oldStatus":"Resolved","priority":"Very Low","oldPriority":"Urgent","notes":"Windows 10 devices in North-West are working","closedSummary":"Windows 10 devices in North-West issue solved","requester":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-1234"},"assignedUser":{"id":"USR0000000023","loginName":"brocadeLabBusiness@organization.com","lastName":"Business User","firstName":"BLab","email":"Blab@gmail.com"},"assigneeGroup":{"id":8,"name":"Brocade Lab Escalation Users","description":"All brocade lab escalation users"},"resources":[{"id":"481af404-33a6-4d61-af77-c483ca6641fa","name":"VTHLPT1000","type":"DEVICE"},{"id":"SGP-7adf3762-f310-4c14-9ecd-443eb7c6c208","name":"VTH-SERVICES","type":"SERVICE"},{"id":"DGP-8d44a504-fd4b-4a78-ba34-2dfdf3ffb85e","name":"VTH-ADMIN-DEVS","type":"DEVICE_GROUP"}],"extTicketId":"VNXC0090344","customFields":[{"id":"UDF0000003811","classCode":"SERVICEREQUEST","displayLabel":"DROP DOWN","name":"drop_down_3811","fieldType":"TYPE_DROPDOWN","mandatory":true,"editable":true,"description":"TESTING","options":[{"label":"one","value":"1"},{"label":"two","value":"2"}],"defaultValue":""},{"id":"UDF0000003812","classCode":"SERVICEREQUEST","displayLabel":"text field","name":"text_field_3812","fieldType":"TYPE_TEXT","mandatory":false,"editable":true,"description":"text field","defaultValue":""},{"id":"UDF0000003813","classCode":"SERVICEREQUEST","displayLabel":"numeric","name":"numeric_3813","fieldType":"TYPE_NUMBER","mandatory":false,"editable":true,"description":"numeric","defaultValue":""},{"id":"UDF0000003814","classCode":"SERVICEREQUEST","displayLabel":"check box","name":"check_box_3814","fieldType":"TYPE_CHECKBOX","mandatory":false,"editable":true,"description":"testing","options":[{"label":"yes","value":"1"}],"defaultValue":"0"},{"id":"UDF0000003821","classCode":"SERVICEREQUEST","displayLabel":"Date","name":"date_3821","fieldType":"TYPE_DATE","mandatory":false,"editable":true,"description":"","defaultValue":"2016-02-26T12:13:00+0000"},{"id":"UDF0000003822","classCode":"SERVICEREQUEST","displayLabel":"Date and Time","name":"date_and_time_3822","fieldType":"TYPE_DATETIME","mandatory":false,"editable":true,"description":"","defaultValue":"2016-02-26T12:13:00+0000"}],"cc":"sample@gmail.com","ticketArisedTime":"","createdUser":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-2345"},"reason":"SR Close","category":{"id":14,"name":"Service Urgency Level"},"alertIds":[],"reOpenCount":1,"createdDate":"2016-07-24T16:28:51+0000","allowedStatus":[],"client":{"id":8,"uniqueId":"client_8","name":"Brocade Lab","activated":true},"subCategory":{"id":16,"name":"Medium"},"sourcePolicyType":"MANUAL","updatedDate":"2016-11-25T09:33:43+0000","priorityUpdatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-2345"},"priorityUpdatedDate":"2016-08-12T07:52:10+0000","statusUpdatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"},"statusUpdatedDate":"2016-11-25T09:33:43+0000","resolvedDate":"2016-11-25T09:32:05+0000","closedDate":"2016-11-25T09:33:43+0000","slaDetails":{"resolutionTime":1630416,"responseTime":1630397,"responseBreach":false,"resolutionBreach":false,"responseBreachDate":"","resolutionBreachDate":""},"source":"PORTAL","statusFlow":[{"status":"New","timeSpent":1630398,"createdDate":"2016-07-24T16:28:52+0000","updatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-3456"}},{"status":"Resolved","timeSpent":13,"reason":"Done, Hence moving service request to resolved","createdDate":"2016-08-12T13:22:10+0000","updatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-3456"}},{"status":"Open","timeSpent":18,"createdDate":"2016-08-12T13:22:23+0000","updatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-3456"}},{"status":"Pending","timeSpent":9058164,"reason":"Revisit service request in future","createdDate":"2016-08-12T13:22:41+0000","updatedBy":{"loginName":"john.smith","lastName":"smith","firstName":"john","email":"john@gmail.com","phoneNumber":"998-559-1234"}},{"status":"Resolved","timeSpent":98,"reason":"Done, Hence moving service request to resolved","notes":"Resolving","createdDate":"2016-11-25T09:32:05+0000","updatedBy":{"id":"USR0000000018","loginName":"superadmin","lastName":"Admin","firstName":"SP","email":"sample@gmail.com"}},{"status":"Closed","reason":"Windows Services are up and running","notes":"Windows services in North-West are accessible","createdDate":"2016-11-25T09:33:43+0000","updatedBy":{"loginName":"john.bolt","lastName":"Bolt","firstName":"John","email":"john.bolt@gmail.com"}}]}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"required":true,"description":"Describes clientId or mspId of the tenant"},{"name":"serviceRequestId","in":"path","required":true,"schema":{"type":"string"},"description":"Unique Identifier (UUID) of service request"}]}