{"summary":"Create job","description":"Creates a job.","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"type":"object","properties":{"script":{"title":"script","type":"object","properties":{"jobType":{"type":"string","description":"Job type. To view job types that OpsRamp supports, see Get Job Types API.","enum":["adCheckList","networkconfigbackup","appinstall","custom"]},"userType":{"title":"userType","type":"integer","minimum":1,"maximum":2,"description":"(Optional) The user type.\n1- system user,\n2- Other user"},"configParams":{"title":"configParams","type":"object","description":"Parameters to configure for the job type Network Backup Configuration","properties":{"versionsSaved":{"type":"string","enum":["ALL_VERSIONS","VERSION_WITH_CHANGES"],"description":"Take Backup of versions saved."},"backUpTrigger":{"type":"boolean","description":"Perform a backup on the receipt of a configuration change SNMP Trap."},"startupConfigAlert":{"type":"boolean","description":"Generate alerts on changes to startup configuration."},"runConfigAlert":{"type":"boolean","description":"Generate alerts on changes to runtime configuration."},"startUpConfigFilesBackUp":{"type":"boolean","description":"Startup configuration file to be backed up."},"runTimeConfigFilesBackUp":{"type":"boolean","description":"Runtime configuration file to be backed up."}}},"approvalType":{"title":"approvalType","type":"object","description":"Approval for the job type App Install","properties":{"approvalType":{"type":"integer","description":"Approval type required to install the app. Example: Provide 0 as approvalType which indicates app is manually installed.\n","minimum":0,"maximum":1},"approvalReason":{"type":"string","description":"Reason for approval of installing app."},"alertRequired":{"type":"boolean"}}},"customScript":{"title":"customScript","type":"object","description":"Script ID for the job type Custom Script","properties":{"id":{"type":"string","description":"Custom script ID."},"name":{"type":"string"},"description":{"type":"string"},"platforms":{"type":"array","items":{"type":"string"}}}},"parameters":{"type":"array","items":{"title":"parameter","type":"object","properties":{"paramId":{"type":"string","description":"(Optional) The parameter Id"},"value":{"type":"string"},"name":{"type":"string"}}}}}},"entities":{"title":"entities","type":"array","items":{"type":"object","properties":{"resource":{"title":"resource","type":"object","properties":{"id":{"type":"string"},"generalInfo":{"title":"generalInfo","type":"object","properties":{"ipAddresses":{"type":"string"},"hostName":{"type":"string"},"osName":{"type":"string"},"osBuildNumber":{"type":"string"}}},"clientUniqueId":{"type":"string"},"type":{"type":"string"}}}}}},"name":{"type":"string","description":"The job name."},"jobQueued":{"type":"boolean","description":"(Optional) To run a job constantly after execution of other jobs."},"schedule":{"title":"schedule","type":"object","properties":{"startDate":{"type":"string","format":"date-time"},"pattern":{"title":"pattern","type":"object","properties":{"type":{"type":"string","description":"Recurrence pattern type.","enum":["daily","weekly","monthly","never","run once"]},"frequency":{"type":"string","description":"Days on which the schedule is applied. Frequency is dependent on recurrence pattern type. Example: Provide type as weekly, then frequency is the day on which the job is run.\n","enum":["everyday","every weekday","recurrence"]},"repeatType":{"type":"string","description":"Run the job constantly on specific days.","enum":["days"]},"weekDays":{"type":"string","description":"Days on which the job is run.","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Saturday"]},"dayOfMonth":{"type":"string","description":"Day on which the job is scheduled to run every month. Days range between 1 to 31.","minLength":1,"maxLength":31},"weekIndex":{"type":"string","description":"Week on which the job is run.","enum":["First","Second","Third","Fourth","Last"]},"dayOfIndex":{"type":"string","description":"Day on which the job is scheduled to run.","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"repeatFrequency":{"type":"integer"}}}}},"credentialSet":{"type":"object","properties":{"uniqueId":{"type":"string","description":"(Optional) Device or client credential set ID.\n- Use Get Minimal Details of Device Credential Sets API to fetch the list of credentials sets assigned to a device.\n- Use Get Minimal Details of Client Credential Sets API to fetch the list of credentials assigned to a client."}}}}}},"requestBodyExamples":{"example-ad-checklist":{"value":{"name":"Ad Check List","jobQueued":"true","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","type":"DEVICE"}}],"script":{"jobType":"adCheckList"},"schedule":{"startDate":"2016-04-14T10:10:10+0000","pattern":{"type":"daily","frequency":"recurrence","repeatType":"Days","repeatFrequency":"2"}}}},"example-network-configuration-backup":{"value":{"name":"Network Config Backup","jobQueued":"true","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","type":"DEVICE"}}],"script":{"jobType":"networkconfigbackup","configParams":{"versionsSaved":"ALL_VERSIONS","backUpTrigger":"true","startupConfigAlert":"true","runtimeConfigAlert":"true","startUpConfigFilesBackUp":"true","runTimeConfigFilesBackUp":"true"}},"schedule":{"startDate":"2016-04-14T10:10:10+0000","pattern":{"type":"daily","frequency":"recurrence","repeatType":"Days","repeatFrequency":"2"}}}},"example-app-install":{"value":{"name":"test","jobQueued":"true","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","type":"DEVICE"}}],"script":{"jobType":"appinstall","approvalType":{"approvalType":"1","approvalReason":"for testing","alertRequired":"true"}},"schedule":{"startDate":"2016-04-14T10:10:10+0000","pattern":{"type":"daily","frequency":"recurrence","repeatType":"Days","repeatFrequency":"2"}}}},"example-custom-script":{"value":{"jobQueued":"true","script":{"jobType":"custom","userType":"2","customScript":{"id":"7"},"parameters":[{"paramId":"2","value":"150"}]},"entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","type":"DEVICE"}}],"schedule":{"startDate":"2016-04-14T10:10:10+0000","pattern":{"type":"daily","frequency":"recurrence","repeatType":"Days","repeatFrequency":"2"}}}}},"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"name":{"type":"string"},"entities":{"title":"entities","type":"array","items":{"type":"object","properties":{"resource":{"title":"resource","type":"object","properties":{"id":{"type":"string"},"generalInfo":{"title":"generalInfo","type":"object","properties":{"ipAddresses":{"type":"string"},"hostName":{"type":"string"},"osName":{"type":"string"},"osBuildNumber":{"type":"string"}}},"clientUniqueId":{"type":"string"},"type":{"type":"string"}}}}}},"schedule":{"title":"schedule","type":"object","properties":{"startDate":{"type":"string","format":"date-time"},"pattern":{"title":"pattern","type":"object","properties":{"type":{"type":"string","description":"Recurrence pattern type.","enum":["daily","weekly","monthly","never","run once"]},"frequency":{"type":"string","description":"Days on which the schedule is applied. Frequency is dependent on recurrence pattern type. Example: Provide type as weekly, then frequency is the day on which the job is run.\n","enum":["everyday","every weekday","recurrence"]},"repeatType":{"type":"string","description":"Run the job constantly on specific days.","enum":["days"]},"weekDays":{"type":"string","description":"Days on which the job is run.","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Saturday"]},"dayOfMonth":{"type":"string","description":"Day on which the job is scheduled to run every month. Days range between 1 to 31.","minLength":1,"maxLength":31},"weekIndex":{"type":"string","description":"Week on which the job is run.","enum":["First","Second","Third","Fourth","Last"]},"dayOfIndex":{"type":"string","description":"Day on which the job is scheduled to run.","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"repeatFrequency":{"type":"integer"}}}}},"jobQueued":{"type":"boolean"},"script":{"title":"script","type":"object","properties":{"jobType":{"type":"string","description":"Job type. To view job types that OpsRamp supports, see Get Job Types API.","enum":["adCheckList","networkconfigbackup","appinstall","custom"]},"userType":{"title":"userType","type":"integer","minimum":1,"maximum":2,"description":"(Optional) The user type.\n1- system user,\n2- Other user"},"configParams":{"title":"configParams","type":"object","description":"Parameters to configure for the job type Network Backup Configuration","properties":{"versionsSaved":{"type":"string","enum":["ALL_VERSIONS","VERSION_WITH_CHANGES"],"description":"Take Backup of versions saved."},"backUpTrigger":{"type":"boolean","description":"Perform a backup on the receipt of a configuration change SNMP Trap."},"startupConfigAlert":{"type":"boolean","description":"Generate alerts on changes to startup configuration."},"runConfigAlert":{"type":"boolean","description":"Generate alerts on changes to runtime configuration."},"startUpConfigFilesBackUp":{"type":"boolean","description":"Startup configuration file to be backed up."},"runTimeConfigFilesBackUp":{"type":"boolean","description":"Runtime configuration file to be backed up."}}},"approvalType":{"title":"approvalType","type":"object","description":"Approval for the job type App Install","properties":{"approvalType":{"type":"integer","description":"Approval type required to install the app. Example: Provide 0 as approvalType which indicates app is manually installed.\n","minimum":0,"maximum":1},"approvalReason":{"type":"string","description":"Reason for approval of installing app."},"alertRequired":{"type":"boolean"}}},"customScript":{"title":"customScript","type":"object","description":"Script ID for the job type Custom Script","properties":{"id":{"type":"string","description":"Custom script ID."},"name":{"type":"string"},"description":{"type":"string"},"platforms":{"type":"array","items":{"type":"string"}}}},"parameters":{"type":"array","items":{"title":"parameter","type":"object","properties":{"paramId":{"type":"string","description":"(Optional) The parameter Id"},"value":{"type":"string"},"name":{"type":"string"}}}}}},"id":{"type":"string"}}},"examples":{"example-ad-checklist":{"value":{"name":"Ad Check List","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","generalInfo":{"ipAddresses":"10.233.19.130","hostName":"10.233.19.130"},"clientUniqueId":"client_13","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","generalInfo":{"ipAddresses":"172.30.1.60","hostName":"172.30.1.60"},"clientUniqueId":"client_13","type":"DEVICE"}}],"schedule":{"startDate":"2016-04-14T10:10:00+0000","pattern":{"type":"daily","frequency":"recurrence","repeatFrequency":2,"repeatType":"days"}},"jobQueued":true,"script":{"jobType":"adCheckList"},"id":"4902d87c-b5df-4797-9f45-e807cd871ac9"}},"example-network-configuration-backup":{"value":{"name":"Network Config Backup","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","generalInfo":{"ipAddresses":"10.233.19.130","hostName":"10.233.19.130"},"clientUniqueId":"client_13","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","generalInfo":{"ipAddresses":"172.30.1.60","hostName":"172.30.1.60"},"clientUniqueId":"client_13","type":"DEVICE"}}],"schedule":{"startDate":"2016-04-14T10:10:00+0000","pattern":{"type":"daily","frequency":"recurrence","repeatFrequency":2,"repeatType":"days"}},"jobQueued":true,"script":{"jobType":"networkconfigbackup","configParams":{"versionsSaved":"ALL_VERSIONS","backUpTrigger":true,"startupConfigAlert":true,"runtimeConfigAlert":true,"startUpConfigFilesBackUp":true,"runTimeConfigFilesBackUp":true}},"id":"cc242a8d-b0b4-430e-a89f-7081bc5e79b0"}},"example-app-install":{"value":{"name":"test","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","generalInfo":{"ipAddresses":"10.233.19.130","hostName":"10.233.19.130"},"clientUniqueId":"client_13","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","generalInfo":{"ipAddresses":"172.30.1.60","hostName":"172.30.1.60"},"clientUniqueId":"client_13","type":"DEVICE"}}],"schedule":{"startDate":"2016-04-14T10:10:00+0000","pattern":{"type":"daily","frequency":"recurrence","repeatFrequency":2,"repeatType":"days"}},"jobQueued":true,"script":{"jobType":"appinstall","approvalType":{"approvalType":1,"approvalReason":"for testing","alertRequired":true}},"id":"8a87f644-0bdc-4d5a-9e41-0ca333b71acd"}},"example-custom-script":{"value":{"name":"Job - test script","entities":[{"resource":{"id":"709824de-8315-4cf9-ad1c-b15aaf7bf2a5","generalInfo":{"ipAddresses":"10.233.19.130","hostName":"10.233.19.130"},"clientUniqueId":"client_13","type":"DEVICE"}},{"resource":{"id":"4e96d5bc-763c-4c00-beab-928d653a0422","generalInfo":{"ipAddresses":"172.30.1.60","hostName":"172.30.1.60"},"clientUniqueId":"client_13","type":"DEVICE"}}],"schedule":{"startDate":"2016-04-14T10:10:00+0000","pattern":{"type":"daily","frequency":"recurrence","repeatFrequency":2,"repeatType":"days"}},"jobQueued":true,"script":{"customScript":{"id":7,"name":"test script","description":"test script","platforms":["WINDOWS"]},"parameters":[{"paramId":2,"name":"String","value":"150"}],"userType":2},"id":"ce1088d5-81cc-4262-b515-a75230f0d8e4"}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"required":true}]}