{"summary":"Create patch configuration and execute","description":"Creates a patch configuration and executes patches on the resources.\n\n##### Notes\n- Approved Windows patches are installed on the device during the scheduled installation window.\n- The device is immediately rebooted following any patch that requires a reboot.\n- Standard checks are performed on rebooted devices to ensure the device is operating properly.","operations":{"post":{"description":"","parameters":"","requestBody":{"content":"application/json","schema":{"title":"patchConfig","type":"object","properties":{"id":{"type":"string"},"patchConfigName":{"type":"string","description":"Patch configuration name.\n"},"description":{"type":"string","description":"Description for patch configuration.\n"},"approvalType":{"type":"object","description":"","properties":{"approvalType":{"type":"integer","description":"Approval type for executing patches.\n- 0- Manual, 1- Auto","minimum":0,"maximum":1},"approvalReason":{"type":"string","description":"(Optional) Approval reason for executing patches.\n"}}},"rebootOptions":{"type":"object","properties":{"rebootRequired":{"type":"boolean","description":"Reboot required after execution of patches.\n"},"forceReboot":{"type":"boolean","description":"Force reboot after execution of patches.\n"}}},"scheduleJob":{"title":"scheduleJob","type":"object","description":"","properties":{"name":{"type":"string"},"entities":{"type":"array","description":"Resources in which the patches are executed.\n","items":{"type":"object","properties":{"resource":{"title":"device","type":"object","properties":{"id":{"type":"string"},"generalInfo":{"type":"object","properties":{"osName":{"type":"string"},"ipAddresses":{"type":"string"},"hostName":{"type":"string"},"resourceType":{"type":"string"},"resourceName":{"type":"string"},"aliasName":{"type":"string"},"osBuildNumber":{"type":"string"}}},"clientUniqueId":{"type":"string"},"type":{"type":"string"}}}}}},"schedule":{"title":"schedule","type":"object","description":"(Optional sub-fields) Schedule settings.\n","properties":{"startDate":{"type":"string","description":"Start date for execution of job.\n","format":"date-time"},"pattern":{"type":"object","properties":{"type":{"type":"string","description":"Recurrence pattern type.\n\n**Note**: The Run On Demand recurrence pattern is not available as an API.","enum":["daily","weekly","monthly","never","run once"]},"frequency":{"type":"string","description":"Days on which the schedule is applied. Frequency is dependent on recurrence pattern type.\nExample: Provide type as weekly, then frequency is the day on which the job is run.","enum":["everyday","every weekday","recurrence"]},"repeatFrequency":{"type":"integer"},"repeatType":{"type":"string","description":"Run the job constantly on specific days.\n"},"weekDays":{"type":"string","description":"Days on which the job is run.\n","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"dayOfMonth":{"type":"integer","description":"Day on which the job is scheduled to run every month. Days range between 1 to 31.\nExample: Provide dayOfMonth as 4, then the job is run on 4th day of every month.","minimum":1,"maximum":31},"weekIndex":{"type":"string","description":"Week on which the job is run.\nExample: First Monday","enum":["First","Second","Third","Fourth","Last"]},"dayOfIndex":{"type":"string","description":"Day on which the job is scheduled to run.\nExample: Provide weekIndex as First and dayOfMonth as Sunday, this indicates that job is run on First Sunday of every month.","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}}}},"client":{"title":"client","type":"object","properties":{"id":{"type":"integer"},"uniqueId":{"type":"string"},"name":{"type":"string"},"activated":{"type":"boolean"}}},"script":{"type":"object","properties":{"jobType":{"type":"string","description":"Job type.\nExample: missingPatchesDownloadUpdate"}}}}},"enablePatching":{"type":"boolean","description":"(Optional) Enable patching.\n"},"maintenancePeriod":{"description":"(Optional) Maintenance period for the patches.\n","type":"integer"},"approval":{"type":"string"},"installation":{"type":"string"},"source":{"type":"string"}}}},"requestBodyExamples":{"example-1":{"value":{"patchConfigName":"Test_Patch_Config","description":"testing","approvalType":{"approvalType":1,"approvalReason":"testing data"},"rebootOptions":{"rebootRequired":true,"forceReboot":true},"scheduleJob":{"entities":[{"resource":{"id":"04e26c5a-2173-4857-98b5-31190bb9985d","type":"DEVICE"}},{"resource":{"id":"338382d8-d4e3-4573-85fc-27580b68ac5c","type":"DEVICE"}}],"script":{"jobType":"missingPatchesDownloadUpdate"},"schedule":{"startDate":"2016-04-14T10:10:10+0000","pattern":{"type":"daily","frequency":"recurrence","repeatType":"Days","repeatFrequency":2}}},"enablePatching":true,"maintenancePeriod":60}}},"responses":{"200":{"description":"OK","schema":{"title":"patchConfig","type":"object","properties":{"id":{"type":"string"},"patchConfigName":{"type":"string","description":"Patch configuration name.\n"},"description":{"type":"string","description":"Description for patch configuration.\n"},"approvalType":{"type":"object","description":"","properties":{"approvalType":{"type":"integer","description":"Approval type for executing patches.\n- 0- Manual, 1- Auto","minimum":0,"maximum":1},"approvalReason":{"type":"string","description":"(Optional) Approval reason for executing patches.\n"}}},"rebootOptions":{"type":"object","properties":{"rebootRequired":{"type":"boolean","description":"Reboot required after execution of patches.\n"},"forceReboot":{"type":"boolean","description":"Force reboot after execution of patches.\n"}}},"scheduleJob":{"title":"scheduleJob","type":"object","description":"","properties":{"name":{"type":"string"},"entities":{"type":"array","description":"Resources in which the patches are executed.\n","items":{"type":"object","properties":{"resource":{"title":"device","type":"object","properties":{"id":{"type":"string"},"generalInfo":{"type":"object","properties":{"osName":{"type":"string"},"ipAddresses":{"type":"string"},"hostName":{"type":"string"},"resourceType":{"type":"string"},"resourceName":{"type":"string"},"aliasName":{"type":"string"},"osBuildNumber":{"type":"string"}}},"clientUniqueId":{"type":"string"},"type":{"type":"string"}}}}}},"schedule":{"title":"schedule","type":"object","description":"(Optional sub-fields) Schedule settings.\n","properties":{"startDate":{"type":"string","description":"Start date for execution of job.\n","format":"date-time"},"pattern":{"type":"object","properties":{"type":{"type":"string","description":"Recurrence pattern type.\n\n**Note**: The Run On Demand recurrence pattern is not available as an API.","enum":["daily","weekly","monthly","never","run once"]},"frequency":{"type":"string","description":"Days on which the schedule is applied. Frequency is dependent on recurrence pattern type.\nExample: Provide type as weekly, then frequency is the day on which the job is run.","enum":["everyday","every weekday","recurrence"]},"repeatFrequency":{"type":"integer"},"repeatType":{"type":"string","description":"Run the job constantly on specific days.\n"},"weekDays":{"type":"string","description":"Days on which the job is run.\n","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"dayOfMonth":{"type":"integer","description":"Day on which the job is scheduled to run every month. Days range between 1 to 31.\nExample: Provide dayOfMonth as 4, then the job is run on 4th day of every month.","minimum":1,"maximum":31},"weekIndex":{"type":"string","description":"Week on which the job is run.\nExample: First Monday","enum":["First","Second","Third","Fourth","Last"]},"dayOfIndex":{"type":"string","description":"Day on which the job is scheduled to run.\nExample: Provide weekIndex as First and dayOfMonth as Sunday, this indicates that job is run on First Sunday of every month.","enum":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}}}},"client":{"title":"client","type":"object","properties":{"id":{"type":"integer"},"uniqueId":{"type":"string"},"name":{"type":"string"},"activated":{"type":"boolean"}}},"script":{"type":"object","properties":{"jobType":{"type":"string","description":"Job type.\nExample: missingPatchesDownloadUpdate"}}}}},"enablePatching":{"type":"boolean","description":"(Optional) Enable patching.\n"},"maintenancePeriod":{"description":"(Optional) Maintenance period for the patches.\n","type":"integer"},"approval":{"type":"string"},"installation":{"type":"string"},"source":{"type":"string"}}},"examples":{"example-1":{"value":{"scheduleJob":{"name":"test","entities":[{"resource":{"id":"04e26c5a-2173-4857-98b5-31190bb9985d","generalInfo":{"ipAddresses":"10.21.0.212","hostName":"opsramp-demo-ubuntu-2"},"clientUniqueId":"client_13","type":"DEVICE"}},{"resource":{"id":"338382d8-d4e3-4573-85fc-27580b68ac5c","generalInfo":{"ipAddresses":"10.21.0.213","hostName":"opsramp-demo-ubuntu-3"},"clientUniqueId":"client_13","type":"DEVICE"}}],"schedule":{"startDate":"2016-04-14T10:10:00+0000","pattern":{"type":"daily","frequency":"recurrence","repeatFrequency":2,"repeatType":"days"}},"client":{"id":13,"uniqueId":"client_13","name":"patch client","activated":true},"script":{"jobType":"missingPatchesDownloadUpdate"}},"id":"PATCHCONF-9db1451f-1441-4bd9-90b9-aa371fc11e6d","patchConfigName":"test","description":"testing","approvalType":{"approvalType":1,"approvalReason":"testing data"},"rebootOptions":{"rebootRequired":true,"forceReboot":true},"enablePatching":true,"maintenancePeriod":60}}}}}}},"parameters":[{"in":"path","name":"tenantId","schema":{"type":"string"},"required":true}]}